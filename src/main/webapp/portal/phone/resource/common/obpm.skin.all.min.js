jQuery.extend({par2Json:function(c,b){var g={},f=c.split("&"),h=decodeURIComponent,a,e;jQuery.each(f,function(d,j){j=j.split("=");a=h(j[0]);e=j[1];g[a]=b||!g[a]?e:[].concat(g[a]).concat(e)});return g},json2Par:function(g,f){var c,a=[],b,d=encodeURIComponent;for(b in g){c=g[b]=="undefined";$.each(c?b:g[b],function(h,e){a.push("&",d(b),"=",(h!=b||!c)?d(h):"")})}if(!f){a.shift();f=""}return f+a.join("")},obj2Str:function(d){var b=[];if(typeof d=="string"||d==null){return d}if(typeof d=="object"){if(!d.sort){b[0]="{";for(var a in d){var c=HTMLEncode(jQuery.obj2Str(d[a]));b[b.length]='"'+a+'"';b[b.length]=":";b[b.length]='"'+c+'"';b[b.length]=","}b[b.length-1]="}"}else{b[0]="[";for(var a=0;a<d.length;a++){b[b.length]=jQuery.obj2Str(d[a]);b[b.length]=","}b[b.length-1]="]"}return b.join("")}return d.toString()},json2Str:function(c){if(c==undefined){return""}var b=[];if(typeof c=="string"){return'"'+c.replace(/([\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"'}if(typeof c=="object"){if(!c.sort){for(var a in c){b.push('"'+a+'":'+jQuery.json2Str(c[a]))}if(navigator.userAgent.indexOf("MSIE 9.0")<0&&!!document.all&&!/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(c.toString)){b.push("toString:"+c.toString.toString())}b="{"+b.join()+"}"}else{for(var a=0;a<c.length;a++){b.push(jQuery.json2Str(c[a]))}b="["+b.join()+"]"}return b}return c.toString().replace(/\"\:/g,'":""')},jQueryValues:function(b){var a=[];for(var c in b){a.push(b[c])}return a}});jQuery.cachedScript=function(b,a){a=$.extend(a||{},{dataType:"script",cache:true,url:b});return jQuery.ajax(a)};
/*!
 * =====================================================
 * Ratchet v2.0.2 (http://goratchet.com)
 * Copyright 2014 Connor Sears
 * Licensed under MIT (https://github.com/twbs/ratchet/blob/master/LICENSE)
 *
 * v2.0.2 designed by @connors.
 * =====================================================
 */
;!function(){var d=function(f){for(var e,g=document.querySelectorAll("a");f&&f!==document;f=f.parentNode){for(e=g.length;e--;){if(g[e]===f){return f}}}},c=function(a){var e=d(a.target);return e&&e.hash?document.querySelector(e.hash):void 0};window.addEventListener("touchend",function(b){var e=c(b);e&&(e&&e.classList.contains("modal")&&e.classList.toggle("active"),b.preventDefault())})}(),!function(){var h,g=function(e){for(var d,f=document.querySelectorAll("a");e&&e!==document;e=e.parentNode){for(d=f.length;d--;){if(f[d]===e){return e}}}},n=function(){h.style.display="none",h.removeEventListener("webkitTransitionEnd",n)},m=function(){var a=document.createElement("div");return a.classList.add("backdrop"),a.addEventListener("touchend",function(){h.addEventListener("webkitTransitionEnd",n),h.classList.remove("visible"),h.parentNode.removeChild(m)}),a}(),l=function(f){var b=g(f.target);if(b&&b.hash&&!(b.hash.indexOf("/")>0)){try{h=document.querySelector(b.hash)}catch(a){h=null}if(null!==h&&h&&h.classList.contains("popover")){return h}}},j=function(d){var c=l(d);c&&(c.style.display="block",c.offsetHeight,c.classList.add("visible"),c.parentNode.appendChild(m))};window.addEventListener("touchend",j)}(),!function(){var T,S=function(){},R=20,Q=sessionStorage,P={},O={slideIn:"slide-out",slideOut:"slide-in",fade:"fade"},N={bartab:".bar-tab",barnav:".bar-nav",barfooter:".bar-footer",barheadersecondary:".bar-header-secondary"},M=function(d,c){F.id=d.id,c&&(d=J(d.id)),Q[d.id]=JSON.stringify(d),window.history.replaceState(d.id,d.title,d.url),P[d.id]=document.body.cloneNode(!0)},L=function(){var d=F.id,c=JSON.parse(Q.cacheForwardStack||"[]"),f=JSON.parse(Q.cacheBackStack||"[]");for(f.push(d);c.length;){delete Q[c.shift()]}for(;f.length>R;){delete Q[f.shift()]}window.history.pushState(null,"",Q[F.id].url),Q.cacheForwardStack=JSON.stringify(c),Q.cacheBackStack=JSON.stringify(f)},K=function(j,d){var p="forward"===d,o=JSON.parse(Q.cacheForwardStack||"[]"),n=JSON.parse(Q.cacheBackStack||"[]"),m=p?n:o,l=p?o:n;F.id&&m.push(F.id),l.pop(),Q.cacheForwardStack=JSON.stringify(o),Q.cacheBackStack=JSON.stringify(n)},J=function(b){return JSON.parse(Q[b]||null)||{}},I=function(a){var d=A(a.target);if(!(!d||a.which>1||a.metaKey||a.ctrlKey||T||location.protocol!==d.protocol||location.host!==d.host||!d.hash&&/#/.test(d.href)||d.hash&&d.href.replace(d.hash,"")===location.href.replace(location.hash,"")||"push"===d.getAttribute("data-ignore"))){return d}},H=function(d){var c=I(d);c&&(d.preventDefault(),F({url:c.href,hash:c.hash,timeout:c.getAttribute("data-timeout"),transition:c.getAttribute("data-transition")}))},G=function(u){var t,s,r,o,j,g,f,e,d=u.state;if(d&&Q[d]){if(j=F.id<d?"forward":"back",K(d,j),r=J(d),o=P[d],r.title&&(document.title=r.title),"back"===j?(f=JSON.parse("back"===j?Q.cacheForwardStack:Q.cacheBackStack),e=J(f[f.length-1])):e=r,"back"===j&&!e.id){return F.id=d}if(g="back"===j?O[e.transition]:e.transition,!o){return F({id:r.id,url:r.url,title:r.title,timeout:r.timeout,transition:g,ignorePush:!0})}if(e.transition){r=y(r,".content",o.cloneNode(!0));for(t in N){N.hasOwnProperty(t)&&(s=document.querySelector(N[t]),r[t]?C(r[t],s):s&&s.parentNode.removeChild(s))}}C((r.contents||o).cloneNode(!0),document.querySelector(".content"),g),F.id=d,document.body.offsetHeight}},F=function(b){var f,e=F.xhr;b.container=b.container||b.transition?document.querySelector(".content"):document.body;for(f in N){N.hasOwnProperty(f)&&(b[f]=b[f]||document.querySelector(N[f]))}e&&e.readyState<4&&(e.onreadystatechange=S,e.abort()),e=new XMLHttpRequest,e.open("GET",b.url,!0),e.setRequestHeader("X-PUSH","true"),e.onreadystatechange=function(){b._timeout&&clearTimeout(b._timeout),4===e.readyState&&(200===e.status?E(e,b):D(b.url))},F.id||M({id:+new Date,url:window.location.href,title:document.title,timeout:b.timeout,transition:null}),b.timeout&&(b._timeout=setTimeout(function(){e.abort("timeout")},b.timeout)),e.send(),e.readyState&&!b.ignorePush&&L()},E=function(g,f){var l,j,h=x(g,f);if(!h.contents){return z(f.url)}if(h.title&&(document.title=h.title),f.transition){for(l in N){N.hasOwnProperty(l)&&(j=document.querySelector(N[l]),h[l]?C(h[l],j):j&&j.parentNode.removeChild(j))}}C(h.contents,f.container,f.transition,function(){M({id:f.id||+new Date,url:h.url,title:h.title,timeout:f.timeout,transition:f.transition},f.id),B()}),!f.ignorePush&&window._gaq&&_gaq.push(["_trackPageview"]),!f.hash},D=function(b){throw new Error("Could not get: "+b)},C=function(u,t,s,r){var q,p,o;if(s?(q=/in$/.test(s),"fade"===s&&(t.classList.add("in"),t.classList.add("fade"),u.classList.add("fade")),/slide/.test(s)&&(u.classList.add("sliding-in",q?"right":"left"),u.classList.add("sliding"),t.classList.add("sliding")),t.parentNode.insertBefore(u,t)):t?t.innerHTML=u.innerHTML:u.classList.contains("content")?document.body.appendChild(u):document.body.insertBefore(u,document.querySelector(".content")),s||r&&r(),"fade"===s){t.offsetWidth,t.classList.remove("in");var n=function(){t.removeEventListener("webkitTransitionEnd",n),u.classList.add("in"),u.addEventListener("webkitTransitionEnd",m)},m=function(){u.removeEventListener("webkitTransitionEnd",m),t.parentNode.removeChild(t),u.classList.remove("fade"),u.classList.remove("in"),r&&r()};t.addEventListener("webkitTransitionEnd",n)}if(/slide/.test(s)){var l=function(){u.removeEventListener("webkitTransitionEnd",l),u.classList.remove("sliding","sliding-in"),u.classList.remove(o),t.parentNode.removeChild(t),r&&r()};t.offsetWidth,o=q?"right":"left",p=q?"left":"right",t.classList.add(p),u.classList.remove(o),u.addEventListener("webkitTransitionEnd",l)}},B=function(){var b=new CustomEvent("push",{detail:{state:J(F.id)},bubbles:!0,cancelable:!0});window.dispatchEvent(b)},A=function(e){for(var d,f=document.querySelectorAll("a");e&&e!==document;e=e.parentNode){for(d=f.length;d--;){if(f[d]===e){return e}}}},z=function(b){window.history.replaceState(null,"","#"),window.location.replace(b)},y=function(g,f,l){var j,h={};for(j in g){g.hasOwnProperty(j)&&(h[j]=g[j])}return Object.keys(N).forEach(function(d){var c=l.querySelector(N[d]);c&&c.parentNode.removeChild(c),h[d]=c}),h.contents=l.querySelector(f),h},x=function(j,h){var p,o,n={},m=j.responseText;if(n.url=h.url,!m){return n}/<html/i.test(m)?(p=document.createElement("div"),o=document.createElement("div"),p.innerHTML=m.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],o.innerHTML=m.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]):(p=o=document.createElement("div"),p.innerHTML=m),n.title=p.querySelector("title");var l="innerText" in n.title?"innerText":"textContent";return n.title=n.title&&n.title[l].trim(),h.transition?n=y(n,".content",o):n.contents=o,n};window.addEventListener("touchstart",function(){T=!1}),window.addEventListener("touchmove",function(){T=!0}),window.addEventListener("touchend",H),window.addEventListener("click",function(b){I(b)&&b.preventDefault()}),window.addEventListener("popstate",G),window.PUSH=F}(),!function(){var b=function(e){for(var d,f=document.querySelectorAll(".segmented-control .control-item");e&&e!==document;e=e.parentNode){for(d=f.length;d--;){if(f[d]===e){return e}}}};window.addEventListener("touchend",function(a){var q,p,o,n=b(a.target),m="active",l="."+m;if(n&&(q=n.parentNode.querySelector(l),q&&q.classList.remove(m),n.classList.add(m),n.hash&&(o=document.querySelector(n.hash)))){p=o.parentNode.querySelectorAll(l);for(var j=0;j<p.length;j++){p[j].classList.remove(m)}o.classList.add(m)}}),window.addEventListener("click",function(a){b(a.target)&&a.preventDefault()})}(),!function(){var L,K,J,I,H,G,F,E,D,C,B,A,z,y=function(e){for(var d,f=document.querySelectorAll(".slider > .slide-group");e&&e!==document;e=e.parentNode){for(d=f.length;d--;){if(f[d]===e){return e}}}},x=function(){if("webkitTransform" in J.style){var d=J.style.webkitTransform.match(/translate3d\(([^,]*)/),c=d?d[1]:0;return parseInt(c,10)}},w=function(d){var c=d?0>I?"ceil":"floor":"round";B=Math[c](x()/(z/J.children.length)),B+=d,B=Math.min(B,0),B=Math.max(-(J.children.length-1),B)},v=function(b){if(J=y(b.target)){var a=J.querySelector(".slide");z=a.offsetWidth*J.children.length,A=void 0,C=J.offsetWidth,D=1,F=-(J.children.length-1),E=+new Date,L=b.touches[0].pageX,K=b.touches[0].pageY,I=0,H=0,w(0),J.style["-webkit-transition-duration"]=0}},u=function(a){a.touches.length>1||!J||(I=a.touches[0].pageX-L,H=a.touches[0].pageY-K,L=a.touches[0].pageX,K=a.touches[0].pageY,"undefined"==typeof A&&(A=Math.abs(H)>Math.abs(I)),A||(G=I/D+x(),a.preventDefault(),D=0===B&&I>0?L/C+1.25:B===F&&0>I?Math.abs(L)/C+1.25:1,J.style.webkitTransform="translate3d("+G+"px,0,0)"))},t=function(b){J&&!A&&(w(+new Date-E<1000&&Math.abs(I)>15?0>I?-1:1:0),G=B*C,J.style["-webkit-transition-duration"]=".2s",J.style.webkitTransform="translate3d("+G+"px,0,0)",b=new CustomEvent("slide",{detail:{slideNumber:Math.abs(B)},bubbles:!0,cancelable:!0}),J.parentNode.dispatchEvent(b))};window.addEventListener("touchstart",v),window.addEventListener("touchmove",u),window.addEventListener("touchend",t)}(),!function(){var g={},f=!1,l=!1,j=!1,h=function(e){for(var d,m=document.querySelectorAll(".toggle");e&&e!==document;e=e.parentNode){for(d=m.length;d--;){if(m[d]===e){return e}}}};window.addEventListener("touchstart",function(m){if(m=m.originalEvent||m,j=h(m.target)){var e=j.querySelector(".toggle-handle"),d=j.clientWidth,b=e.clientWidth,a=j.classList.contains("active")?d-b:0;g={pageX:m.touches[0].pageX-a,pageY:m.touches[0].pageY},f=!1}}),window.addEventListener("touchmove",function(n){if(n=n.originalEvent||n,!(n.touches.length>1)&&j){var m=j.querySelector(".toggle-handle"),d=n.touches[0],c=j.clientWidth,b=m.clientWidth,a=c-b;if(f=!0,l=d.pageX-g.pageX,!(Math.abs(l)<Math.abs(d.pageY-g.pageY))){if(n.preventDefault(),0>l){return m.style.webkitTransform="translate3d(0,0,0)"}if(l>a){return m.style.webkitTransform="translate3d("+a+"px,0,0)"}m.style.webkitTransform="translate3d("+l+"px,0,0)",j.classList[l>c/2-b/2?"add":"remove"]("active")}}}),window.addEventListener("touchend",function(b){if(j){var o=j.querySelector(".toggle-handle"),n=j.clientWidth,m=o.clientWidth,d=n-m,c=!f&&!j.classList.contains("active")||f&&l>n/2-m/2;o.style.webkitTransform=c?"translate3d("+d+"px,0,0)":"translate3d(0,0,0)",j.classList[c?"add":"remove"]("active"),b=new CustomEvent("toggle",{detail:{isActive:c},bubbles:!0,cancelable:!0}),j.dispatchEvent(b),f=!1,j=!1}})}();eval(function(h,b,j,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(j--){f[g(j)]=d[j]||g(j)}d=[function(a){return f[a]}];g=function(){return"\\w+"};j=1}while(j--){if(d[j]){h=h.replace(new RegExp("\\b"+g(j)+"\\b","g"),d[j])}}return h}("(16($,f){16 88(a){1b i;1h(i 3g a){15(dD[a[i]]!==f){1a 1d}}1a 1e}16 dC(){1b a=['hu','9l','O','1W'],p;1h(p 3g a){15(88([a[p]+'7I'])){1a'-'+a[p].4u()+'-'}}1a''}16 4C(a,b,c){1b d=a;15(5x b==='aV'){1a a.1n(16(){15(!1j.3P){1j.3P='2d'+(++g)}15(3j[1j.3P]){3j[1j.3P].7A()}1k $.2d.2O[b.de||'9m'](1j,b)})}15(5x b==='9T'){a.1n(16(){1b r,8z=3j[1j.3P];15(8z&&8z[b]){r=8z[b].4F(1j,gR.7o.3p.3a(c,1));15(r!==f){d=r;1a 1e}}})}1a d}1b g=+1k 1p(),3j={},1V=$.1V,dD=5M.gJ('gH').1L,3c=88(['gG','gF','gE','fD','fd']),4B=88(['f9','eP','eN']),6h=dC(),52=6h.1D(/^\\-/,'').1D(/\\-$/,'').1D('eK','9l');$.fn.2d=16(a){1V(1j,$.2d.b1);1a 4C(1j,a,cv)};$.2d=$.2d||{ej:'2.14.4',2m:{6h:6h,6K:52,3c:3c,4B:4B,5r:16(e,a){15(e.2g=='4h'){$(a).1J('1F-9P','1')}1i 15($(a).1J('1F-9P')){$(a).44('1F-9P');1a 1e}1a 1d},cg:16(a){1b b=[],i;1h(i 3g a){b.1l(a[i])}1a b},dR:16(a){1b b={},i;15(a){1h(i=0;i<a.1u;i++){b[a[i]]=a[i]}}1a b},a4:16(a){1a a-h2(a)>=0},5m:16(s){1a 5x s==='9T'},3C:16(e,c){1b a=e.bZ||e;1a a.bY?a.bY[0]['aj'+c]:e['aj'+c]},aq:16(t,a){1b b=5Z.7W?7W(t[0]):t[0].1L,53,1O;15(3c){$.1n(['t','eC','ei','e3','dX'],16(i,v){15(b[v+'bJ']!==f){53=b[v+'bJ'];1a 1e}});53=53.2B(')')[0].2B(', ');1O=a?(53[13]||53[5]):(53[12]||53[4])}1i{1O=a?b.2b.1D('1O',''):b.3F.1D('1O','')}1a 1O},3q:16(a,b,c){1a 1g.1G(b,1g.2c(a,c))}},5H:1e,6C:{4J:{},f5:{}},6y:{es:{},er:{}},8T:{},3j:3j,2O:{},b1:{},4f:{2W:'2d',5E:'7B'},5A:{},dV:16(o){1V(1j.5A,o)},8X:16(a,c,p){1j.b1[a]=16(s){1a 4C(1j,1V(s,{de:c,2S:p===1e?f:a}),cv)}}}})(3A);(16($,m,n,o){1b p,7E,1V=$.1V,1W=$.2d,3j=1W.3j,5A=1W.5A,2m=1W.2m,52=2m.6K,3c=2m.3c,3C=2m.3C,3q=2m.3q,5m=2m.5m,9w=/gM [1-3]/i.5y(fC.eE),9j='9n 89',41=16(){},bi=16(a){a.2F()};1W.2O.9v=16(g,h,j){1b k,$4X,$9u,$1H,$b4,$5s,$4j,$3R,$9k,2v,1I,49,9i,3r,5g,6z,4P,7L,2S,9c,s,4O,7J,2W,9a,aN,aM,19=1j,$2G=$(g),aL=[],aK={};16 99(a){15(1I){1I.1q('1y-a')}1I=$(1j);15(!1I.1B('1y-d')&&!1I.1B('1y-98')){1I.1m('1y-a')}15(a.2g==='2V'){$(n).1r('39',5d)}}16 5d(a){15(1I){1I.1q('1y-a');1I=25}15(a.2g==='39'){$(n).2y('39',5d)}}16 aI(a){15(a.6F==13){19.7G()}1i 15(a.6F==27){19.4c()}}16 6I(a){15(!a){$4j.4b()}19.7i(s.7i)}16 7h(a){1b b,5N,2g,4b=s.bL;$1H.6d();15(p&&!a){2A(16(){15(4b===o||4b===1d){7E=1d;b=p[0];2g=b.2g;5N=b.5N;ek{b.2g='3S'}eo(ex){}p.4b();b.2g=2g;b.5N=5N}1i 15(4b){15(3j[$(4b).1J('3P')]){1W.5H=1e}$(4b).4b()}},4p)}19.56=1e;2k('7h',[])}16 7b(b){8h(aK[b.2g]);aK[b.2g]=2A(16(){1b a=b.2g=='2N';15(a&&!4O){1a}19.7a(!a)},4p)}16 6i(a){15(!1W.5H){15(a){a()}15($(n.bQ).6l('77,eF')){$(n.bQ).eQ()}p=$2G;19.6i()}2A(16(){7E=1e},5k)}16 2k(a,b){1b c;b.1l(19);$.1n([5A,2W,2S,h],16(i,v){15(v&&v[a]){c=v[a].4F(g,b)}});1a c}19.7a=16(a){1b w,l,t,5O,aw,ah,ap,at,al,5R,5T,aZ,dh,2N,6t,4G,71=0,70=0,2M={},3J=1g.2c($3R[0].6u||$3R.6u(),$5s.2a()),3o=$3R[0].bR||$3R.bR();15((aN===3J&&aM===3o&&a)||9c){1a}15(19.6W||/2b|3O/.5y(s.28)){$4j.2a(3J)}15(2k('7b',[$1H,3J,3o])===1e||!3r){1a}6t=$3R.eT();4G=$3R.bU();5O=s.5O===o?$2G:$(s.5O);15(19.7V&&s.6S!=='61'){15(3J<gI){$1H.1m('dw-8Y')}1i{$1H.1q('dw-8Y')}}15(!19.6W&&/8A|4R/.5y(s.28)){$9k.2a('');$('.1v-w-p',$1H).1n(16(){w=$(1j).5W(1d);71+=w;70=(w>70)?w:70});w=71>3J?70:71;$9k.2a(w).2M('ey-ez',71>3J?'':'eA')}6z=19.6W?3J:$4j.5W();4P=19.6W?3o:$4j.4D(1d);4O=4P<=3o&&6z<=3J;19.4O=4O;15(s.28=='8A'){l=1g.1G(0,6t+(3J-6z)/2);t=4G+(3o-4P)/2}1i 15(s.28=='4R'){2N=1d;5R=$('.dw-5T-i',$1H);ap=5O.2s();at=1g.2x($4X.2s().2b-ap.2b);al=1g.2x($4X.2s().3F-ap.3F);aw=5O.5W();ah=5O.4D();l=3q(al-($4j.5W(1d)-aw)/2,6t+3,6t+3J-6z-3);t=at-4P;15((t<4G)||(at>4G+3o)){$4j.1q('dw-4R-2b').1m('dw-4R-3O');t=at+ah}1i{$4j.1q('dw-4R-3O').1m('dw-4R-2b')}5T=5R.5W();aZ=3q(al+aw/2-(l+(6z-5T)/2),0,5T);$('.dw-5R',$1H).2M({3F:aZ})}1i{l=6t;15(s.28=='2b'){t=4G}1i 15(s.28=='3O'){t=4G+3o-4P}}t=t<0?0:t;2M.2b=t;2M.3F=l;$4j.2M(2M);$5s.1P(0);dh=1g.1G(t+4P,s.5E=='7B'?$(n).1P():$4X[0].eD);$5s.2M({1P:dh});15(2N&&((t+4P>4G+3o)||(at>4G+3o))){9c=1d;2A(16(){9c=1e},5k);$3R.bU(1g.2c(t+4P-3o,dh-3o))}aN=3J;aM=3o};19.cD=16(b,c){aL.1l(b);15(s.28!=='54'){15(7J){b.1r('2V.dw',16(a){a.2F()})}15(s.aH){b.1r('4b.dw',16(){15(!7E){6i(c)}})}15(s.aD){19.2U(b,16(){6i(c)})}}};19.7G=16(){15(!3r||19.5Q(1e,'4z')!==1e){19.au();2k('eG',[19.79])}};19.4c=16(){15(!3r||19.5Q(1e,'4c')!==1e){2k('cI',[19.79])}};19.6f=16(){2k('cJ',[$1H]);15(3r&&!19.4s){19.5Q(1e,'6f')}19.5h(25,1d)};19.eU=16(){s.3U=1e;15(19.68){$2G.8H('3U',1e)}};19.gO=16(){s.3U=1d;15(19.68){$2G.8H('3U',1d)}};19.6i=16(c,d){1b e;15(s.3U||19.56){1a}15(49!==1e){15(s.28=='2b'){49='gP'}15(s.28=='3O'){49='gQ'}}19.8D();2k('d5',[]);e='<18 5g=\"'+s.5g+'\" 1c=\"1v-'+s.2W+(s.d6?' 1v-'+s.d6:'')+' dw-'+s.28+' '+(s.5J||'')+(19.7V?' dw-8Y':'')+(9w?' 1v-gY':'')+(9i?'':' dw-h0')+'\">'+'<18 1c=\"dw-5s\">'+(3r?'<18 1c=\"d9\"></18>':'')+'<18'+(3r?' 2L=\"h3\" 3L=\"-1\"':'')+' 1c=\"dw'+(s.6s?' dw-6s':' dw-h8')+'\">'+(s.28==='4R'?'<18 1c=\"dw-5T\"><18 1c=\"dw-5T-i\"><18 1c=\"dw-5R\"></18></18></18>':'')+'<18 1c=\"dk\">'+'<18 1w-4s=\"hd\" 1c=\"dw-1w dw-5B\"></18>'+(s.2T?'<18 1c=\"ai\">'+(5m(s.2T)?s.2T:'')+'</18>':'')+'<18 1c=\"dv\">';e+=19.aR();e+='</18>';15(9i){e+='<18 1c=\"hC\">';$.1n(2v,16(i,b){b=5m(b)?19.2v[b]:b;15(b.3u==='4z'){b.a3='1y-s'}15(b.3u==='4c'){b.a3='1y-c'}b.3u=5m(b.3u)?19.8g[b.3u]:b.3u;e+='<18'+(s.8c?' 1L=\"2a:'+(2r/2v.1u)+'%\"':'')+' 1c=\"hI '+(b.a3||'')+'\"><18 3L=\"0\" 2L=\"3S\" 1c=\"1y'+i+' 1y-e '+(b.5J===o?s.dH:b.5J)+(b.8Z?' 1v-26 1v-26-'+b.8Z:'')+'\">'+(b.3v||'')+'</18></18>'});e+='</18>'}e+='</18></18></18></18>';$1H=$(e);$5s=$('.dw-5s',$1H);$b4=$('.d9',$1H);$9k=$('.dk',$1H);$9u=$('.ai',$1H);$4j=$('.dw',$1H);k=$('.dw-1w',$1H);19.dJ=$1H;19.dK=$9u;19.56=1d;7L='hS hT';19.bd();2k('91',[$1H]);15(3r){$(m).1r('64',aI);15(s.4O){$1H.1r('62 dN dM',16(a){15(4O){a.2F()}})}15(52!=='9l'){$('77,7G,3S',$4X).1n(16(){15(!1j.3U){$(1j).1m('9A').8H('3U',1d)}})}7L+=' 2N';1W.dL=19;$1H.9h($4X);15(3c&&49&&!c){$1H.1m('dw-3g dw-7T').1r(9j,16(){$1H.2y(9j).1q('dw-3g dw-7T').2D('.dw').1q('dw-'+49);6I(d)}).2D('.dw').1m('dw-'+49)}}1i 15($2G.6l('18')){$2G.22($1H)}1i{$1H.hR($2G)}2k('hQ',[$1H]);19.7a();$3R.1r(7L,7b);$1H.1r('hP 2V',bi).1r('3d','.1y-e',bi).1r('64','.1y-e',16(a){15(a.6F==32){a.2F();a.5K();$(1j).3d()}});2A(16(){$.1n(2v,16(i,b){19.2U($('.1y'+i,$1H),16(a){b=5m(b)?19.2v[b]:b;b.3u.3a(1j,a,19)},1d)});15(s.dI){19.2U($b4,16(){19.4c()})}15(3r&&!49){6I(d)}$1H.1r('4h 2V','.1y-e',99).1r('4m','.1y-e',5d);19.ak($1H)},5k);2k('6I',[$1H,19.4n])};19.5Q=16(a,b,c){15(!19.56||(!c&&!19.dG&&b=='4z')||(!c&&2k('hJ',[19.4n,b])===1e)){1a 1e}15($1H){15(52!=='9l'){$('.9A',$4X).1n(16(){$(1j).8H('3U',1e).1q('9A')})}15(3c&&3r&&49&&!a&&!$1H.1B('dw-7T')){$1H.1m('dw-6o dw-7T').2D('.dw').1m('dw-'+49).1r(9j,16(){7h(a)})}1i{7h(a)}$3R.2y(7L,7b)}15(3r){$(m).2y('64',aI);6H 1W.dL}};19.7i=16(a){k.22('');2A(16(){k.22(a)},2r)};19.9N=16(){1a 19.56};19.5h=41;19.aR=41;19.ak=41;19.8D=41;19.au=41;19.bd=41;19.9W=41;19.2U=16(c,d,e){1b f,a9,4e;15(s.2U){c.1r('4h.dw',16(a){15(e){a.2F()}f=3C(a,'X');a9=3C(a,'Y');4e=1e}).1r('62.dw',16(a){15(1g.2x(3C(a,'X')-f)>20||1g.2x(3C(a,'Y')-a9)>20){4e=1d}}).1r('4m.dw',16(a){1b b=1j;15(!4e){a.2F();d.3a(b,a)}1W.5H=1d;2A(16(){1W.5H=1e},hH)})}c.1r('3d.dw',16(a){15(!1W.5H){d.3a(1j,a)}a.2F()})};19.dF=16(a,b){1b c={};15(5x a==='aV'){c=a}1i{c[a]=b}19.4C(c)};19.7A=16(){19.5Q(1d,1e,1d);$.1n(aL,16(i,v){v.2y('.dw')});15(19.68&&7J){g.9J=9a}2k('hG',[]);6H 3j[g.3P];19=25};19.dE=16(){1a 19};19.2i=2k;19.4C=16(a){19.3h=s={};1V(h,a);1V(s,1W.4f,19.8U,5A,h);2W=1W.6y[s.2W]||1W.6y.2d;5g=1W.8T[s.5g];2k('dB',[5g,h]);1V(s,2W,5g,5A,h);2S=1W.6C[19.dA][s.2S];s.2v=s.2v||(s.28!=='54'?['4z','4c']:[]);s.2T=s.2T===o?(s.28!=='54'?'{5N}':1e):s.2T;15(2S){2S=2S.3a(g,19);1V(s,2S,h)}15(!1W.6y[s.2W]){s.2W='2d'}19.7V=(s.6S||(/2b|3O/.5y(s.28)?'61':''))==='61';19.9W();$2G.2y('.dw');49=9w?1e:s.hz;2v=s.2v;3r=s.28!=='54';7J=s.aH||s.aD;$3R=$(s.5E=='7B'?m:s.5E);$4X=$(s.5E);19.5E=$3R;19.4s=1d;$.1n(2v,16(i,b){15(b==='4z'||b.3u==='4z'){19.4s=1e;1a 1e}});19.2v.4z={3v:s.ax,3u:'4z'};19.2v.4c={3v:(19.4s)?s.aA:s.aC,3u:'4c'};19.2v.6f={3v:s.aE,3u:'6f'};19.68=$2G.6l('77');9i=2v.1u>0;15(19.56){19.5Q(1d,1e,1d)}15(3r){19.8D();15(19.68&&7J){15(9a===o){9a=g.9J}g.9J=1d}19.cD($2G)}1i{19.6i()}$2G.1r('dz.dw',16(){15(!19.aO){19.7O($2G.1M(),1d,1e)}19.aO=1e});2k('hx',[])};19.2v={};19.8g={4z:19.7G,4c:19.4c,6f:19.6f};19.79=25;19.dG=1d;19.56=1e;15(!j){3j[g.3P]=19;19.4C(h)}};1W.2O.9v.7o.8U={5g:'en',ax:'hw',be:'ht',aA:'hs',aC:'hr',aE:'hq',3U:1e,dI:1d,aH:1d,aD:1d,28:'8A',4O:1d,2U:1d,dH:'1y',8c:1d,bL:1e};1W.6y.2d={6B:5,7U:1e,2T:1e,8c:1e,9R:1d,9S:1,47:'ho',82:'2c',du:'dt-8b-ds-41',ag:'1v-26 1v-26-4k-dr',as:'1v-26 1v-26-4k-dq',7D:'1v-26 1v-26-4k-dp',7C:'1v-26 1v-26-4k-dn'};$(m).1r('4b',16(){15(p){7E=1d}});$(n).1r('he 39 2V 3d',16(a){15(1W.5H){a.5K();a.2F();1a 1e}})})(3A,5Z,5M);(16($,n,q,r){1b u,1W=$.2d,2O=1W.2O,3j=1W.3j,2m=1W.2m,52=2m.6K,3c=2m.3c,4B=2m.4B,3C=2m.3C,3q=2m.3q,5r=2m.5r;2O.9m=16(f,g,h){1b m,1I,6q,2u,s,2i,3d,4e,1s,b6,4t,p,2c,1G,3D,2z,6x,7z,19=1j,$2G=$(f),5F={},6A={},9L={},2Y=[];16 d8(a){15(5r(a,1j)&&!u&&!3d&&!1I&&!86(1j)){a.2F();a.5K();u=1d;6q=s.87!='gZ';3D=$('.dw-37',1j);7u(3D);4e=5F[2z]!==r;p=4e?d7(3D):6A[2z];1s=3C(a,'Y');b6=1k 1p();4t=1s;2N(3D,2z,p,0.gV);15(6q){3D.48('.33').1m('8j')}15(a.2g==='2V'){$(q).1r('7r',8m).1r('39',8o)}}}16 8m(a){15(u){15(6q){a.2F();a.5K();4t=3C(a,'Y');15(1g.2x(4t-1s)>3||4e){2N(3D,2z,3q(p+(1s-4t)/2u,2c-1,1G+1));4e=1d}}}}16 8o(a){15(u){1b b=1k 1p()-b6,1M=3q(p+(1s-4t)/2u,2c-1,1G+1),8r,4w,8v,d3=3D.2s().2b;a.5K();15(3c&&b<5k){8r=(4t-1s)/b;4w=(8r*8r)/s.8B;15(4t-1s<0){4w=-4w}}1i{4w=4t-1s}8v=1g.2e(p-4w/2u);15(!4e){1b c=1g.4y((4t-d3)/2u),1C=$($('.dw-1C',3D)[c]),3f=1C.1B('dw-v'),hl=6q;15(2i('gN',[1C])!==1e&&3f){8v=c}1i{hl=1d}15(hl&&3f){1C.1m('dw-hl');2A(16(){1C.1q('dw-hl')},2r)}}15(6q){7n(3D,8v,0,1d,1g.2e(1M))}15(a.2g==='39'){$(q).2y('7r',8m).2y('39',8o)}u=1e}}16 99(a){1I=$(1j);15(5r(a,1j)){3V(a,1I.48('.33'),1I.1B('d2')?b0:b3)}15(a.2g==='2V'){$(q).1r('39',5d)}}16 5d(a){1I=25;15(3d){b5(7z);3d=1e}15(a.2g==='39'){$(q).2y('39',5d)}}16 d1(a){15(a.6F==38){3V(a,$(1j),b3)}1i 15(a.6F==40){3V(a,$(1j),b0)}}16 cS(){15(3d){b5(7z);3d=1e}}16 cR(a){15(!86(1j)){a.2F();a=a.bZ||a;1b b=a.cQ?(a.cQ/fx):(a.cO?(-a.cO/3):0),t=$('.dw-37',1j);7u(t);7n(t,1g.2e(6A[2z]-b),b<0?1:2)}}16 3V(a,w,b){a.5K();a.2F();15(!3d&&!86(w)&&!w.1B('8j')){3d=1d;1b t=w.2D('.dw-37');7u(t);b5(7z);7z=fc(16(){b(t)},s.cL);b(t)}}16 86(a){15($.7g(s.9g)){1b i=$('.33',m).2z(a);1a s.9g[i]}1a s.9g}16 9H(i){1b a='<18 1c=\"dw-bf\">',w=2Y[i],l=1,7d=w.7d||[],21=w.21,1Q=w.1Q||21;$.1n(21,16(j,v){15(l%20===0){a+='</18><18 1c=\"dw-bf\">'}a+='<18 2L=\"dF\" 1w-2C=\"1e\" 1c=\"dw-1C dw-v\" 1F-1M=\"'+1Q[j]+'\"'+(7d[j]?' 1w-2R=\"'+7d[j]+'\"':'')+' 1L=\"1P:'+2u+'1O;9s-1P:'+2u+'1O;\">'+'<18 1c=\"dw-i\"'+(6x>1?' 1L=\"9s-1P:'+1g.2e(2u/6x)+'1O;i9-eM:'+1g.2e(2u/6x*0.8)+'1O;\"':'')+'>'+v+'</18></18>';l++});a+='</18>';1a a}16 7u(t){1b a=t.48('.33').1B('9U');2c=$('.dw-1C',t).2z($(a?'.dw-1C':'.dw-v',t).eq(0));1G=1g.1G(2c,$('.dw-1C',t).2z($(a?'.dw-1C':'.dw-v',t).eq(-1))-(a?s.6B-1:0));2z=$('.dw-37',m).2z(t)}16 cG(v){1b t=s.2T;1a t?(5x t==='16'?t.3a(f,v):t.1D(/\\{5N\\}/i,v)):''}16 d7(t){1a 1g.2e(-2m.aq(t,1d)/2u)}16 a1(t,i){8h(5F[i]);6H 5F[i];t.48('.33').1q('8j')}16 2N(t,a,b,c,d){1b e=-b*2u,1L=t[0].1L;15(e==9L[a]&&5F[a]){1a}9L[a]=e;15(3c){1L[52+'81']=2m.6h+'cF '+(c?c.eI(3):0)+'s cE-6o';1L[52+'7I']='85(0,'+e+'1O,0)'}1i{1L.2b=e+'1O'}15(5F[a]){a1(t,a)}15(c&&d){t.48('.33').1m('8j');5F[a]=2A(16(){a1(t,a)},c*ad)}6A[a]=b}16 af(a,t,b,c){1b d=$('.dw-1C[1F-1M=\"'+a+'\"]',t),78=$('.dw-1C',t),v=78.2z(d),l=78.1u;15(c){7u(t)}1i 15(!d.1B('dw-v')){1b e=d,76=d,5b=0,5P=0;5a(v-5b>=0&&!e.1B('dw-v')){5b++;e=78.eq(v-5b)}5a(v+5P<l&&!76.1B('dw-v')){5P++;76=78.eq(v+5P)}15(((5P<5b&&5P&&b!==2)||!5b||(v-5b<0)||b==1)&&76.1B('dw-v')){d=76;v=v+5P}1i{d=e;v=v-5b}}1a{3x:d,v:c?3q(v,2c,1G):v,1M:d.1B('dw-v')?d.1J('1F-1M'):25}}16 75(a,b,c,d,e){15(2i('aB',[m,b,a,d])!==1e){$('.dw-37',m).1n(16(i){1b t=$(1j),74=t.48('.33').1B('9U'),2h=i==b||b===r,8e=af(19.3X[i],t,d,74),3x=8e.3x;15(!(3x.1B('dw-2q'))||2h){19.3X[i]=8e.1M;15(!74){$('.dw-2q',t).44('1w-2C');3x.1J('1w-2C','1d')}$('.dw-2q',t).1q('dw-2q');3x.1m('dw-2q');2N(t,i,8e.v,2h?a:0.1,2h?e:1e)}});2i('cC',[]);19.4n=s.5S(19.3X);15(19.4s){19.3t=c||19.3t;5h(c,c,0,1d)}19.dK.22(cG(19.4n));15(c){2i('eB',[19.4n])}}}16 7n(t,a,b,c,d){a=3q(a,2c,1G);1b e=$('.dw-1C',t).eq(a),o=d===r?a:d,73=d!==r,4W=2z,4w=1g.2x(a-o),2l=c?(a==o?0.1:4w*s.8n*1g.1G(0.5,(2r-4w)/2r)):0;19.3X[4W]=e.1J('1F-1M');2N(t,4W,a,2l,73);2A(16(){75(2l,4W,1d,b,73)},10)}16 b0(t){1b a=6A[2z]+1;7n(t,a>1G?2c:a,1,1d)}16 b3(t){1b a=6A[2z]-1;7n(t,a<2c?1G:a,2,1d)}16 5h(a,b,c,d,e){15(19.56&&!d){75(c)}19.4n=s.5S(19.3X);15(!e){19.8q=19.3X.3p(0);19.79=19.3t?19.4n:25}15(a){2i('ep',[19.3t?19.4n:'',b]);15(19.68){$2G.1M(19.3t?19.4n:'')}15(b){19.aO=1d;$2G.dz()}}}2O.9v.3a(1j,f,g,1d);19.7O=19.el=16(a,b,c,d,e){19.3t=a!==25&&a!==r;19.3X=$.7g(a)?a.3p(0):s.5U.3a(f,a,19)||[];5h(b,c===r?b:c,e,1e,d)};19.5V=19.eg=16(a){1b b=19.3t?19[a?'4n':'79']:25;1a 2m.a4(b)?+b:b};19.b7=19.7O;19.4T=16(a){1a a?19.3X:19.8q};19.5h=16(a,b,c,d,e){19.7O(a,b,e,d,c)};19.ee=19.4T;19.e9=16(b,c,d){15(m){1b i=0,4E=b.1u;$.1n(s.2Y,16(j,a){$.1n(a,16(k,w){15($.co(i,b)>-1){2Y[i]=w;$('.dw-37',m).eq(i).22(9H(i));4E--;15(!4E){19.7a();75(c,r,d);1a 1e}}i++});15(!4E){1a 1e}})}};19.9z=af;19.aR=16(){1b b,22='',l=0;$.1n(s.2Y,16(i,a){22+='<18 1c=\"1v-w-p 6T'+(s.87!='4J'?' e6':' e4')+(s.7U?'':' e2')+'\">'+'<18 1c=\"e1\"'+(s.8I?'':' 1L=\"1G-2a:dZ;\"')+'>'+(4B?'':'<6M 1c=\"dw-8M\" ck=\"0\" cj=\"0\"><8S>');$.1n(a,16(j,w){2Y[l]=w;b=w.2R!==r?w.2R:j;22+='<'+(4B?'18':'ch')+' 1c=\"dT\"'+' 1L=\"'+(s.9Q?('2a:'+(s.9Q[l]||s.9Q)+'1O;'):(s.7j?('2c-2a:'+(s.7j[l]||s.7j)+'1O;'):'2c-2a:'+s.2a+'1O;')+(s.8I?('1G-2a:'+(s.8I[l]||s.8I)+'1O;'):''))+'\">'+'<18 1c=\"33 33'+l+(w.74?' 9U':'')+'\">'+(s.87!='4J'?'<18 1c=\"1y-e 8W d2 '+(s.ag||'')+'\" 1L=\"1P:'+2u+'1O;9s-1P:'+2u+'1O;\"><1Z>+</1Z></18>'+'<18 1c=\"1y-e 8W dQ '+(s.as||'')+'\" 1L=\"1P:'+2u+'1O;9s-1P:'+2u+'1O;\"><1Z>&dP;</1Z></18>':'')+'<18 1c=\"hV\">'+b+'</18>'+'<18 3L=\"0\" 1w-4s=\"2y\" 1w-2R=\"'+b+'\" 2L=\"hL\" 1c=\"hK\">'+'<18 1c=\"hF\" 1L=\"1P:'+(s.6B*2u)+'1O;\">'+'<18 1c=\"dw-37\" 1L=\"c9-2b:'+(w.74?0:s.6B/2*2u-2u/2)+'1O;\">';22+=9H(l)+'</18></18><18 1c=\"hn\"></18></18><18 1c=\"hj\"'+(s.9R?' 1L=\"1P:'+2u+'1O;c9-2b:-'+(2u/2+(s.9S||0))+'1O;\"':'')+'></18></18>'+(4B?'</18>':'</ch>');l++});22+=(4B?'':'</8S></6M>')+'</18></18>'});1a 22};19.ak=16(a){a.1r('dM dN','.33',cR).1r('64','.33',d1).1r('c6','.33',cS).1r('4h 2V','.33',d8).1r('62','.33',8m).1r('4m','.33',8o).1r('4h 2V','.8W',99).1r('4m','.8W',5d)};19.bd=16(){m=19.dJ;75()};19.au=16(){19.3t=1d;5h(1d,1d,0,1d)};19.8D=16(){1b v=$2G.1M()||'';19.3t=v!=='';19.3X=19.8q?19.8q.3p(0):s.5U(v,19)||[];5h()};19.9W=16(){s=19.3h;2i=19.2i;2u=s.1P;6x=s.c5;19.7V=(s.6S||(/2b|3O/.5y(s.28)&&s.2Y.1u==1?'61':''))==='61';15(6x>1){s.5J=(s.5J||'')+' dw-h6'}};19.h1={};15(!h){3j[f.3P]=19;19.4C(g)}};2O.9m.7o.dA='4J';2O.9m.7o.8U=$.1V({},2O.9v.7o.8U,{7j:80,1P:40,6B:3,c5:1,cL:5k,9g:1e,7U:1d,2Y:[],87:'4J',2S:'',8B:0.gT,8n:0.gL,5S:16(d){1a d.ae(' ')},5U:16(b,c){1b d=[],3Z=[],i=0,1Q;15(b!==25&&b!==r){d=(b+'').2B(' ')}$.1n(c.3h.2Y,16(j,a){$.1n(a,16(k,w){1Q=w.1Q||w.21;15($.co(d[i],1Q)!==-1){3Z.1l(d[i])}1i{3Z.1l(1Q[0])}i++})});1a 3Z}})})(3A,5Z,5M);(16($){1b b=$.2d.6y,2W={28:'3O',47:'gD',6B:5,1P:34,7j:55,2T:1e,7U:1e,8c:1e,9R:1d,9S:1,fT:1d,fG:'fE',du:'dt-8b-ds-41',7D:'1v-26 1v-26-4k-dp',7C:'1v-26 1v-26-4k-dn',ag:'1v-26 1v-26-4k-dr',as:'1v-26 1v-26-4k-dq',dB:16(a,s){15(s.2W){s.2W=s.2W.1D('8b','bX')}}};b.bX=2W;b.8b=2W})(3A);(16(a,j){1b q=a.2d,t=q.2m,k=t.3q,h=t.6K,c=t.6h,f=t.3c,H=t.3C,w=t.aq,g=t.5r,n=t.a4,N=t.5m,b=a.1V,O=5Z.bW||16(a){a()},z=5Z.bV||16(){},G={8B:0.f7,8n:0.8,aF:\"Y\",bS:!0,7Y:!0};q.2O.6U=16(t,E,x){16 o(d){15(3A.2d.eS&&g(d,1j)&&!L&&(\"2V\"==d.2g&&d.2F(),r&&r.1q(\"1v-1I-a\"),s=!1,r=a(d.3D).48(\".1v-1I\",1j),r.1u&&!r.1B(\"1v-1I-d\")&&(s=!0,K=2A(16(){r.1m(\"1v-1I-a\")},2r)),L=!0,X=!1,aa.3m=i,D=H(d,\"X\"),3B=H(d,\"Y\"),$=D,p=T=A=0,ea=1k 1p,ca=+w(ba,fa)||0,J(ca,1),\"2V\"===d.2g))a(5M).1r(\"7r\",l).1r(\"39\",I)}16 l(a){15(L){$=H(a,\"X\");P=H(a,\"Y\");A=$-D;T=P-3B;p=fa?T:A;15(s&&(5<1g.2x(T)||5<1g.2x(A)))8h(K),r.1q(\"1v-1I-a\"),s=!1;!X&&5<1g.2x(p)&&(aa.3m=!0,S||(S=!0,Q=O(C)));fa||(aa.3m?a.2F():7<1g.2x(T)&&(X=!0,ia.2i(\"4m\")))}}16 C(){da.3Q&&da.9y&&(p=k(p,-d,d));J(k(ca+p,Y-y,F+y));S=!1}16 I(b){15(L){1b c;c=1k 1p-ea;z(Q);S=!1;15(!X&&aa.3m){da.bS&&f&&5k>c&&(c=p/c,p=1g.1G(1g.2x(p),c*c/da.8B)*(0>p?-1:1));da.3Q&&da.9y&&(p=k(p,-d,d));m=1g.2e((ca+p)/d);e=k(m*d,Y,F);15(R){15(0>p)1h(c=R.1u-1;0<=c;c--){15(1g.2x(e)+M>=R[c].9C){m=c;3y=2;e=R[c].bN;1A}}1i 15(0<=p)1h(c=0;c<R.1u;c++)15(1g.2x(e)<=R[c].9C){m=c;3y=1;e=R[c].bM;1A}e=k(e,Y,F)}J(e,da.2l||(2Q<Y||2Q>F?4p:1g.1G(4p,1g.2x(e-2Q)*da.8n)))}s&&(8h(K),r.1m(\"1v-1I-a\"),2A(16(){r.1q(\"1v-1I-a\")},2r),!X&&!aa.3m&&U(\"ec\",[r]));\"39\"==b.2g&&a(5M).2y(\"7r\",l).2y(\"39\",I);L=!1}}16 J(a,d){2Q=a;ha=ba[0].1L;f?(ha[h+\"7I\"]=\"85(\"+(fa?\"0,\"+a+\"1O,\":a+\"1O,0,\")+\"0)\",ha[h+\"81\"]=c+\"cF \"+1g.2e(d||0)+\"1W cE-6o\"):ha[B]=a+\"1O\";i=!0;2A(16(){i=1e},d||0)}16 U(d,b){1b c;b.1l(aa);a.1n([E],16(a,e){e&&e[d]&&(c=e[d].4F(t,b))});1a c}1b r,K,M,A,T,p,B,e,y,$,P,s,F,Y,X,L,i,Q,S,d,R,ca,ea,D,3B,ha,ba,fa,aa=1j,2Q=0,m=0,3y=1,da=E,ia=a(t);aa.3m=!1;aa.2N=16(b,c){b=n(b)?1g.2e(b/d)*d:1g.9M((a(b,t).1u?1g.2e(ba.2s()[B]-a(b,t).2s()[B]):2Q)/d)*d;J(k(b,Y,F),c)};aa.51=16(){1b a;M=da.7k===j?fa?ia.1P():ia.2a():da.7k;Y=da.8u===j?fa?M-ba.1P():M-ba.2a():da.8u;F=da.7l===j?0:da.7l;!fa&&da.6s&&(a=F,F=-Y,Y=-a);N(da.3Q)&&(R=[],ba.2D(da.3Q).1n(16(){1b a=fa?1j.e8:1j.e7,d=fa?1j.e5:1j.dY;R.1l({9C:a+d/2,bM:-a,bN:M-a-d})}));d=n(da.3Q)?da.3Q:1;y=da.7Y?n(da.3Q)?d:n(da.7Y)?da.7Y:0:0;aa.2N(da.3Q?R?R[m][\"3Q\"+3y]:m*d:2Q)};aa.4C=16(a){aa.3h=da={};b(E,a);b(da,q.4f,G,E);B=(fa=\"Y\"==da.aF)?\"2b\":\"3F\";ba=da.dS||ia.hU().eq(0);aa.51();ia.1r(\"4h 2V\",o).1r(\"62\",l).1r(\"4m 8C\",I);t.bH&&t.bH(\"3d\",16(a){aa.3m&&(a.5K(),a.2F())},!0)};aa.7A=16(){ia.2y(\"4h 2V\",o).2y(\"62\",l).2y(\"4m 8C\",I);aa=25};aa.dE=16(){1a aa};x||aa.4C(E)};q.8X(\"hE\",\"6U\",!1)})(3A);(16(a,j,q,t){1b k=a.2d,h=k.6C.4J,c=k.2m,f=c.3c,H=c.6K,w=c.3C,g=c.5r,n=\"hB hp\",N={5q:[\"2j\"],7s:0,82:\"hk\",bG:hf,a7:1,bE:1,8L:!0,bD:!0,bC:!0,8O:!0,bx:!0,bw:\"bv\",bu:\"1p\",bt:\"ef\",an:\"ed\",bs:\"dW\",br:\"bq av\",bp:\"bo av\",bn:\"bq 90\",bm:\"bo 90\",7D:\"1v-26 1v-26-4k-gC\",7C:\"1v-26 1v-26-4k-fy\"};h.cz=16(b){16 O(b,d,e){1b c,f,i,g,h={},j=1S+7H;b&&a.1n(b,16(a,b){c=b.d||b.1s||b;f=c+\"\";15(b.1s&&b.2w)1h(g=1k 1p(b.1s);g<=b.2w;)i=1k 1p(g.1z(),g.1o(),g.1f()),h[i]=h[i]||[],h[i].1l(b),g.3n(g.1f()+1);1i 15(c.29)i=1k 1p(c.1z(),c.1o(),c.1f()),h[i]=h[i]||[],h[i].1l(b);1i 15(f.1x(/w/i)){1b k=+f.1D(\"w\",\"\"),l=0,p=u.1f(d,e-1S-2f,1).1X();1<u.7s-p+1&&(l=7);1h(F=0;F<5*3I;F++)i=u.1f(d,e-1S-2f,7*F-l-p+1+k),h[i]=h[i]||[],h[i].1l(b)}1i 15(f=f.2B(\"/\"),f[1])11<=e+j&&(i=u.1f(d+1,f[0]-1,f[1]),h[i]=h[i]||[],h[i].1l(b)),1>=e-j&&(i=u.1f(d-1,f[0]-1,f[1]),h[i]=h[i]||[],h[i].1l(b)),i=u.1f(d,f[0]-1,f[1]),h[i]=h[i]||[],h[i].1l(b);1i 1h(F=0;F<3I;F++)i=u.1f(d,e-1S-2f+F,f[0]),h[i]=h[i]||[],h[i].1l(b)});1a h}16 z(a,d){7K=O(u.4N,a,d);bb=O(u.3f,a,d);b.aU(a,d)}16 G(a,b,d,e,c,i,f){1b g='<18 1c=\"dw-17-h dw-17-2h-c dw-17-'+a+\"-c \"+(u.aW||\"\")+'\"><18 1c=\"dw-17-2h\"><18 1c=\"dw-17-2h-p\"><18 1c=\"dw-17-2h-8M\"><18 1c=\"dw-17-2h-6r\">';1h(s=1;s<=b;s++)g=12>=s||s>d?g+'<18 1c=\"dw-17-2h-m-3x dw-17-2h-3x dw-17-2h-41\"><18 1c=\"dw-i\">&aY;</18></18>':g+('<18 3L=\"0\" 2L=\"3S\"'+(i?' 1w-2R=\"'+i[s-13]+'\"':\"\")+' 1c=\"1y-e 1y-98 dw-17-2h-m-3x dw-17-2h-3x dw-17-'+a+'-s\" 1F-1M='+(e+s-13)+'><18 1c=\"dw-i dw-17-2h-8M\"><18 1c=\"dw-17-2h-3x\">'+(f?f[s-13]:e+s-13+c)+\"</18></18></18>\"),s<b&&(0===s%12?g+='</18></18></18><18 1c=\"dw-17-2h-p\" 1L=\"'+(2K?\"2b\":$a?\"gW\":\"3F\")+\":\"+2r*1g.2e(s/12)+'%\"><18 1c=\"dw-17-2h-8M\"><18 1c=\"dw-17-2h-6r\">':0===s%3&&(g+='</18><18 1c=\"dw-17-2h-6r\">'));1a g+\"</18></18></18></18></18>\"}16 v(d,e){1b c,i,f,g,h,j,k,l,p,s,m,D,ia,F,o=1,B=0;c=u.1f(d,e,1);1b y=u.1N(c),r=u.1o(c),R=25===u.7P&&!b.3t?25:b.1f(!0),n=u.1f(y,r,1).1X(),4L='<18 1c=\"dw-17-6M\">',q='<18 1c=\"dw-2P-4E-c\">';1<u.7s-n+1&&(B=7);1h(F=0;42>F;F++)ia=F+u.7s-B,c=u.1f(y,r,ia-n+1),i=c.1z(),f=c.1o(),g=c.1f(),h=u.1o(c),j=u.1X(c),D=u.9o(i,f),k=i+\"-\"+f+\"-\"+g,f=a.1V({3f:c<1k 1p(66.1z(),66.1o(),66.1f())||c>9q?!1:7K[c]===t||bb[c]!==t,2C:R&&R.1z()===i&&R.1o()===f&&R.1f()===g},b.b8(c,R)),l=f.3f,p=f.2C,i=f.5J,s=c.29()===(1k 1p).9r(0,0,0,0),m=h!==r,b9[k]=f,0===F%7&&(4L+=(F?\"</18>\":\"\")+'<18 1c=\"dw-17-6r'+(u.8L&&R&&0<=R-c&&eO>R-c?\" dw-17-2P-hl\":\"\")+'\">',V&&(\"2t\"==V&&m&&F?o=1==g?1:2:\"2p\"==V&&(o=u.bl(c)),q+='<18 1c=\"dw-2P-4E\"><18 1c=\"dw-2P-4E-i\">'+o+\"</18></18>\",o++)),4L+='<18 2L=\"3S\" 3L=\"-1\" 1w-2R=\"'+(s?u.bs+\", \":\"\")+u.5o[c.1X()]+\", \"+u.3H[h]+\" \"+j+\" \"+(f.bh?\", \"+f.bh:\"\")+'\"'+(m&&!eb?' 1w-5B=\"1d\"':\"\")+(p?' 1w-2C=\"1d\"':\"\")+(l?\"\":' 1w-3U=\"1d\"')+' 1F-1t=\"'+ia%7+'\" 1F-4l=\"'+k+'\"1c=\"dw-17-1t '+(s?\" dw-17-h9\":\"\")+(u.hc||\"\")+(p?\" dw-2q\":\"\")+(i?\" \"+i:\"\")+(1==j?\" dw-17-1t-hg\":\"\")+(j==D?\" dw-17-1t-hO\":\"\")+(m?\" dw-17-1t-94\":\"\")+(l?\" dw-17-1t-v 1y-e 1y-98\":\" dw-17-1t-eh\")+'\"><18 1c=\"dw-i '+(p?5i:\"\")+\" \"+(u.eR||\"\")+'\"><18 1c=\"dw-17-1t-fg\">'+j+\"</18>\"+(f.1H||\"\")+'<18 1c=\"dw-17-1t-fu\"></18></18></18>';1a 4L+(\"</18>\"+q+\"</18></18>\")}16 E(b,d,e){1b c=u.1f(b,d,1),f=u.1N(c),c=u.1o(c),i=f+93;15(4K){5e&&5e.1q(\"dw-2q\").44(\"1w-2C\").2D(\".dw-i\").1q(5i);cb&&cb.1q(\"dw-2q\").44(\"1w-2C\").2D(\".dw-i\").1q(5i);5e=a('.dw-17-2p-s[1F-1M=\"'+f+'\"]',L).1m(\"dw-2q\").1J(\"1w-2C\",\"1d\");cb=a('.dw-17-2t-s[1F-1M=\"'+c+'\"]',L).1m(\"dw-2q\").1J(\"1w-2C\",\"1d\");5e.2D(\".dw-i\").1m(5i);cb.2D(\".dw-i\").1m(5i);3N&&3N.2N(5e,e);a(\".dw-17-2t-s\",L).1q(\"1y-d\");15(f===ia)1h(s=0;s<az;s++)a('.dw-17-2t-s[1F-1M=\"'+s+'\"]',L).1m(\"1y-d\");15(f===4L)1h(s=ay+1;12>=s;s++)a('.dw-17-2t-s[1F-1M=\"'+s+'\"]',L).1m(\"1y-d\")}1==3y.1u&&3y.1J(\"1w-2R\",f).22(i);1h(s=0;s<1T;++s)c=u.1f(b,d-2f+s,1),f=u.1N(c),c=u.1o(c),i=f+93,a(2Q[s]).1J(\"1w-2R\",u.3H[c]+(db?\"\":\" \"+f)).22((!db&&da<m?i+\" \":\"\")+fa[c]+(!db&&da>m?\" \"+i:\"\")),1<3y.1u&&a(3y[s]).22(i);u.1f(b,d-2f-1,1)<3e?o(a(\".dw-17-1Y-m\",L)):x(a(\".dw-17-1Y-m\",L));u.1f(b,d+1T-2f,1)>3b?o(a(\".dw-17-2E-m\",L)):x(a(\".dw-17-2E-m\",L));u.1f(b,d,1).1z()<=3e.1z()?o(a(\".dw-17-1Y-y\",L)):x(a(\".dw-17-1Y-y\",L));u.1f(b,d,1).1z()>=3b.1z()?o(a(\".dw-17-2E-y\",L)):x(a(\".dw-17-2E-y\",L))}16 x(a){a.1q(ao).2D(\".dw-17-1I-4Q\").44(\"1w-3U\")}16 o(a){a.1m(ao).2D(\".dw-17-1I-4Q\").1J(\"1w-3U\",\"1d\")}16 l(d,c){15(1U.2j&&(\"2j\"===4a||c)){1b e,f,i=u.1f(ga,1K,1),g=1g.2x(12*(u.1N(d)-u.1N(i))+u.1o(d)-u.1o(i));b.7y&&g&&(ga=u.1N(d),1K=u.1o(d),d>i?(f=g>1S-2f+1T-1,1K-=f?0:g-1S,e=\"2E\"):d<i&&(f=g>1S+2f,1K+=f?0:g-1S,e=\"1Y\"),I.3a(1j,ga,1K,e,1g.2c(g,1S),f,!0));c||(b.2i(\"f3\",[d]),u.8L&&(a(\".dw-2q .dw-i\",Q).1q(5i),a(\".dw-2q\",Q).1q(\"dw-2q\").44(\"1w-2C\"),a(\".dw-17-2P-hl\",Q).1q(\"dw-17-2P-hl\"),(25!==u.7P||b.3t)&&a('.dw-17-1t[1F-4l=\"'+d.1z()+\"-\"+d.1o()+\"-\"+d.1f()+'\"]',Q).1m(\"dw-2q\").1J(\"1w-2C\",\"1d\").2D(\".dw-i\").1m(5i).48(\".dw-17-6r\").1m(\"dw-17-2P-hl\")));b.7y=!0}}16 C(a,d){z(a,d);1h(s=0;s<3I;s++)2o[s].22(v(a,d-2f-1S+s));b.8Q=!1}16 I(c,e,f,i,g,h,j){c&&8P.1l({y:c,m:e,by:f,bz:i,bA:g,73:h,bB:j});15(!4I){1b k=8P.gU(),c=k.y,e=k.m,f=\"2E\"===k.by,i=k.bz,g=k.bA,h=k.73,j=k.bB||fb,k=u.1f(c,e,1),c=u.1N(k),e=u.1o(k);4I=!0;b.7w=!0;b.2i(\"bF\",[c,e]);z(c,e);15(g)1h(s=0;s<1T;s++)2o[f?3I-1T+s:s].22(v(c,e-2f+s));h&&7v.1m(\"dw-17-57-a\");2A(16(){b.7i(u.3H[e]+\" \"+c);E(c,e,4p);U(f?ca-d*i*5I:ca+d*i*5I,ba.1B(\"dw-17-v\")?4p:0,16(){1b d;7v.1q(\"dw-17-57-a\").1J(\"1w-5B\",\"1d\");15(f){d=2o.a2(0,i);1h(s=0;s<i;s++)2o.1l(d[s]),r(2o[2o.1u-1],+2o[2o.1u-2].1F(\"a0\")+2r*5I)}1i{d=2o.a2(3I-i,i);1h(s=i-1;0<=s;s--)2o.7q(d[s]),r(2o[0],+2o[1].1F(\"a0\")-2r*5I)}1h(s=0;s<i;s++)2o[f?3I-i+s:s].22(v(c,e-2f-1S+s+(f?3I-i:0))),g&&2o[f?s:3I-i+s].22(v(c,e-2f-1S+s+(f?0:3I-i)));1h(s=0;s<1T;s++)2o[1S+s].1m(\"dw-17-57-a\").44(\"1w-5B\");4I=!1;8P.1u?2A(16(){I()},10):(ga=c,1K=e,b.7w=!1,V&&ha.22(a(\".dw-2P-4E-c\",2o[1S]).22()),a(\".dw-17-1t\",L).1J(\"3L\",-1),a(\".dw-17-57-a .dw-17-1t\",L).1J(\"3L\",0),b.8Q&&K(),b.2i(\"9Y\",[c,e]),j())})},10)}}16 J(){1b d=a(1j),c=b.4s,e=b.1f(!0),f=d.1J(\"1F-4l\"),i=f.2B(\"-\"),i=1k 1p(i[0],i[1],i[2]),e=1k 1p(i.1z(),i.1o(),i.1f(),e.3G(),e.5L(),e.67()),g=d.1B(\"dw-2q\");15((eb||!d.1B(\"dw-17-1t-94\"))&&!1!==b.2i(\"bI\",[a.1V(b9[f],{2n:e,3x:1j,2C:g})]))b.7y=!1,ea=!0,b.3n(e,c,0.2,!c,!0),u.8O&&(3s=!0,i<u.1f(ga,1K-2f,1)?A():i>u.1f(ga,1K-2f+1T,0)&&M(),3s=!1)}16 U(a,b,c){1b e=S[0].1L,a=1g.1G(ca-d*1S,1g.2c(a,ca+d*1S));e[H+\"81\"]=\"6b \"+(b||0)+\"1W\";15(f){15(c)15(R==a||!b)2A(c,4p);1i S.1r(n,16(){S.2y(n);e[H+\"81\"]=\"\";c()});e[H+\"7I\"]=\"85(\"+(2K?\"0,\"+a+\"1O,\":a+\"1O,0,\")+\"0)\"}1i c&&2A(c,b||4p),e[2K?\"2b\":\"3F\"]=a+\"1O\";15(b||c)ca=a;R=a}16 r(a,d){a.1F(\"a0\",d);f?a[0].1L[H+\"7I\"]=\"85(\"+(2K?\"0,\"+d+\"%,\":d+\"%,0,\")+\"0)\":a[0].1L[2K?\"2b\":\"3F\"]=d+\"%\"}16 K(){b.9N()&&1U.2j&&C(ga,1K)}16 M(){3s&&u.1f(ga,1K+1T-2f,1)<=3b&&I(ga,++1K,\"2E\",1,!1,!0,M)}16 A(){3s&&u.1f(ga,1K-2f-1,1)>=3e&&I(ga,--1K,\"1Y\",1,!1,!0,A)}16 T(a){3s&&u.1f(ga,1K,1)<=u.1f(u.1N(3b)-1,u.1o(3b)-7H,1)?I(++ga,1K,\"2E\",1S,!0,!0,16(){T(a)}):3s&&!a.1B(\"1y-d\")&&I(u.1N(3b),u.1o(3b)-7H,\"2E\",1S,!0,!0)}16 p(a){3s&&u.1f(ga,1K,1)>=u.1f(u.1N(3e)+1,u.1o(3e)+2f,1)?I(--ga,1K,\"1Y\",1S,!0,!0,16(){p(a)}):3s&&!a.1B(\"1y-d\")&&I(u.1N(3e),u.1o(3e)+2f,\"1Y\",1S,!0,!0)}16 B(a,d){a.1B(\"dw-17-v\")||(a.1m(\"dw-17-v\"+(d?\"\":\" dw-17-p-3g\")).1q(\"dw-17-p-6o dw-17-h\"),b.2i(\"bK\",[]))}16 e(a,d){a.1B(\"dw-17-v\")&&a.1q(\"dw-17-v dw-17-p-3g\").1m(\"dw-17-h\"+(d?\"\":\" dw-17-p-6o\"))}16 y(a,d){(d||a).1B(\"dw-17-v\")?e(a):B(a)}16 $(){a(1j).1q(\"dw-17-p-6o dw-17-p-3g\")}1b P,s,F,Y,X,L,i,Q,S,d,R,ca,ea,D,3B,ha,ba,fa,aa,2Q,m,3y,da,ia,4L,az,ay,3e,3b,66,9q,4H,ga,1K,8y,8x,gb,8p,7f,7e,8l,bb,7K,5c,4a,8k,4I,3s,1T,3I,7H,2f,eb,3N,5e,cb,9B=1j,7v=[],2o=[],8P=[],1U={},b9={},fb=16(){},bO=a.1V({},b.3h),u=a.1V(b.3h,N,bO),bP=\"4l\"==u.82?\"\":\"2c\"==u.82?\"et\":\"eu\",V=u.ew,7c=u.6S||(/2b|3O/.5y(u.28)?\"61\":\"\"),4o=\"61\"==7c&&\"4R\"!==u.28,bg=\"8A\"==u.28,$a=u.6s,5I=$a?-1:1,bc=4o?25:u.eH,2K=\"eJ\"==u.eL,4K=u.bx,1S=u.bE,db=\"bv\"==u.bw,8d=u.5q.ae(\",\"),5X=(!0===u.6X||!1!==u.6X&&4o)&&1<u.5q.1u,5Y=!5X&&u.6X===t&&!4o&&1<u.5q.1u,93=u.aG||\"\",5i=u.bT||\"\",hb=\"dw-2q \"+(u.f8||\"\"),7X=u.fr||\"\",ao=\"1y-d \"+(u.ft||\"\"),Z=\"\",3i=\"\";8d.1x(/2j/)?1U.2j=1:4K=!1;8d.1x(/2n/)&&(1U.2n=1);8d.1x(/2l/)&&(1U.2l=1);1U.2j&&1U.2n&&(5X=!0,5Y=!1);u.6S=7c;u.2S=(1U.2n||1U.2j?\"2n\":\"\")+(1U.2l?\"2l\":\"\");15(\"54\"==u.28)a(1j).48('[1F-2L=\"aj\"]').1r(\"fz\",16(){b.7a()});b.7w=!1;b.8Q=!1;b.7y=!0;b.b8=fb;b.aU=fb;b.9t=O;b.51=16(){b.7w?b.8Q=1d:K()};b.ar=16(a,d){1b c=b.9N();15(d&&c)l(a,1d);1i{ga=u.1N(a);1K=u.1o(a);15(c){E(ga,1K);C(ga,1K)}}};Y=h.1R.3a(1j,b);m=u.47.6D(/m/i);da=u.47.6D(/y/i);a.1V(Y,{7i:u.an,91:16(h){1b o,n,H=\"\";L=h;i=u.28==\"54\"?a(1j).6l(\"18\")?a(1j):a(1j).fX():b.5E;4H=b.1f(1d);15(!ga){ga=u.1N(4H);1K=u.1o(4H)}R=ca=0;3B=1d;4I=1e;fa=u.3H;4a=\"2j\";15(u.4V){3e=1k 1p(u.4V.1z(),u.4V.1o(),1);66=u.4V}1i 66=3e=1k 1p(u.6P,0,1);15(u.4U){3b=1k 1p(u.4U.1z(),u.4U.1o(),1);9q=u.4U}1i 9q=3b=1k 1p(u.6O,11,31,23,59,59);h.1m(\"dw-2j\"+(f?\"\":\" dw-17-gS\"));X=a(\".dw\",h);5c=a(\".dv\",h);1U.2n?1U.2n=a(\".6T\",L).eq(0):1U.2j&&a(\".6T\",L).eq(0).1m(\"6T-hh\");15(1U.2l)1U.2l=a(\".6T\",L).eq(1);15(1U.2j){1T=u.a7==\"c0\"?1g.1G(1,1g.2c(3,1g.4y((bc||i[0].6u||i.6u())/c1))):u.a7;3I=1T+2*1S;7H=1g.4y(1T/2);2f=1g.2e(1T/2)-1;eb=u.c2===t?1T<2:u.c2;2K=2K&&1T<2;n='<18 1c=\"dw-17-9f\"><18 1c=\"'+($a?\"dw-17-2E-m\":\"dw-17-1Y-m\")+' dw-17-1Y dw-17-1I 1y 1y-e\"><18 2L=\"3S\" 3L=\"0\" 1c=\"dw-17-1I-4Q '+(u.7D||\"\")+'\" 1w-2R=\"'+u.br+'\"></18></18>';1h(s=0;s<1T;++s)n=n+('<18 1c=\"dw-17-9f-m\" 1L=\"2a: '+2r/1T+'%\"><1Z 2L=\"3S\" 1c=\"dw-17-2t\"></1Z></18>');n=n+('<18 1c=\"'+($a?\"dw-17-1Y-m\":\"dw-17-2E-m\")+' dw-17-2E dw-17-1I 1y 1y-e\"><18 2L=\"3S\" 3L=\"0\" 1c=\"dw-17-1I-4Q '+(u.7C||\"\")+'\" 1w-2R=\"'+u.bp+'\"></18></18></18>');db&&(H='<18 1c=\"dw-17-9f\"><18 1c=\"'+($a?\"dw-17-2E-y\":\"dw-17-1Y-y\")+' dw-17-1Y dw-17-1I 1y 1y-e\"><18 2L=\"3S\" 3L=\"0\" 1c=\"dw-17-1I-4Q '+(u.7D||\"\")+'\" 1w-2R=\"'+u.bn+'\"></18></18><1Z 2L=\"3S\" 1c=\"dw-17-2p\"></1Z><18 1c=\"'+($a?\"dw-17-1Y-y\":\"dw-17-2E-y\")+' dw-17-2E dw-17-1I 1y 1y-e\"><18 2L=\"3S\" 3L=\"0\" 1c=\"dw-17-1I-4Q '+(u.7C||\"\")+'\" 1w-2R=\"'+u.bm+'\"></18></18></18>');15(4K){ia=u.1N(3e);4L=u.1N(3b);az=u.1o(3e);ay=u.1o(3b);8l=1g.9M((4L-ia+1)/12)+2;Z=G(\"2t\",36,24,0,\"\",u.3H,u.5l);3i=G(\"2p\",8l*12,4L-ia+13,ia,93)}D='<18 1c=\"1v-w-p dw-17-c\"><18 1c=\"dw-17 '+(1T>1?\" dw-17-h4 \":\"\")+(V?\" dw-h5 \":\"\")+(eb?\"\":\" dw-5Q-94 \")+(u.aW||\"\")+'\"><18 1c=\"dw-17-9u\"><18 1c=\"dw-17-a8 '+(db?\"dw-17-a8-h7\":\"dw-17-a8-m\")+'\">'+(da<m||1T>1?H+n:n+H)+'</18></18><18 1c=\"dw-17-7B\"><18 1c=\"dw-17-m-c dw-17-v\"><18 1c=\"dw-17-c3-c\">';1h(F=0;F<1T;++F){D=D+('<18 1w-5B=\"1d\" 1c=\"dw-17-c3\" 1L=\"2a: '+2r/1T+'%\"><6M ck=\"0\" cj=\"0\"><8S>');1h(s=0;s<7;s++)D=D+(\"<c4>\"+u[\"5o\"+bP][(s+u.7s)%7]+\"</c4>\");D=D+\"</8S></6M></18>\"}D=D+('</18><18 1c=\"dw-17-6L-c '+(u.aW||\"\")+'\"><18 1c=\"dw-2P-a5-c '+(u.hi||\"\")+'\"><18 1c=\"dw-2P-a5\"></18></18><18 1c=\"dw-17-6L\">');1h(s=0;s<1T+2*1S;s++)D=D+'<18 1c=\"dw-17-57\" 1w-5B=\"1d\"></18>';D=D+(\"</18></18></18>\"+Z+3i+\"</18></18></18>\");1U.2j=a(D)}a.1n(u.5q,16(d,b){1U[b]=a('<18 1c=\"dw-17-4g\" 3P=\"'+(9B.3P+\"c7\"+d)+'\"></18>').c8(a('<18 1c=\"dw-17-4g-i\"></18>').c8(1U[b])).9h(5c)});o='<18 1c=\"dw-17-6X\"><37 2L=\"hm\">';a.1n(u.5q,16(a,d){1U[d]&&(o=o+('<1C 2L=\"9b\" 1w-5q=\"'+(9B.3P+\"c7\"+a)+'\" 1c=\"dw-17-9b '+(a?\"\":hb)+'\" 1F-97=\"'+d+'\"><a hv=\"#\" 1c=\"1y-e 1y-98 dw-i '+(!a?7X:\"\")+'\">'+u[d+\"hy\"]+\"</a></1C>\"))});o=o+\"</37></18>\";5c.hA(o);Q=a(\".dw-17-6L-c\",L);S=a(\".dw-17-6L\",L);15(1U.2j){7v=a(\".dw-17-57\",L).1n(16(d,b){2o.1l(a(b))});7v.3p(1S,1S+1T).1m(\"dw-17-57-a\").44(\"1w-5B\");1h(s=0;s<3I;s++)r(2o[s],2r*(s-1S)*5I);C(ga,1K);a(\".dw-17-57-a .dw-17-1t\",L).1J(\"3L\",0);ha=a(\".dw-2P-a5\",L).22(a(\".dw-2P-4E-c\",2o[1S]).22())}2Q=a(\".dw-17-2t\",L);3y=a(\".dw-17-2p\",L);ba=a(\".dw-17-m-c\",L);15(4K){ba.1r(\"9n 89\",$);Z=a(\".dw-17-2t-c\",L).1r(\"9n 89\",$);3i=a(\".dw-17-2p-c\",L).1r(\"9n 89\",$);a(\".dw-17-2h-p\",L);8y={aF:2K?\"Y\":\"X\",7k:0,3Q:0,7l:0,9y:1,6s:u.6s,2l:4p};3N=1k k.2O.6U(3i[0],8y);aa=1k k.2O.6U(Z[0],8y)}2A(16(){b.2U(Q,16(d){d=a(d.3D);15(!4I&&!7e){d=d.48(\".dw-17-1t\",1j);d.1B(\"dw-17-1t-v\")&&J.3a(d[0])}});a(\".dw-17-1I\",L).1r(\"4h 2V 64\",16(d){1b b=a(1j);15(d.2g!==\"64\"){d.2F();d=g(d,1j)}1i d=d.6F===32;15(!3s&&d&&!b.1B(\"1y-d\")){3s=1d;b.1B(\"dw-17-1Y-m\")?A():b.1B(\"dw-17-2E-m\")?M():b.1B(\"dw-17-1Y-y\")?p(b):b.1B(\"dw-17-2E-y\")&&T(b);a(q).1r(\"39.cc\",16(){a(q).2y(\".cc\");3s=1e})}}).1r(\"4m 8C c6\",16(){3s=1e});a(\".dw-17-9b\",L).1r(\"4h 3d\",16(d){1b c=a(1j);15(g(d,1j)&&!c.1B(\"dw-2q\")){4a=c.1J(\"1F-97\");a(\".dw-17-4g\",L).1q(\"dw-17-p-3g\").1m(\"dw-17-4g-h\");a(\".dw-17-9b\",L).1q(hb).44(\"1w-2C\").2D(\".dw-i\").1q(7X);c.1m(hb).1J(\"1w-2C\",\"1d\").2D(\".dw-i\").1m(7X);1U[4a].1q(\"dw-17-4g-h\").1m(\"dw-17-p-3g\");15(4a===\"2j\"){P=b.1f(1d);(P.1z()!==4H.1z()||P.1o()!==4H.1o()||P.1f()!==4H.1f())&&l(P)}1i{4H=b.1f(1d);b.3n(4H,1e,0,1d)}15(4K){e(3i,1d);e(Z,1d);B(ba,1d)}b.2i(\"hD\",[4a])}});15(4K){b.2U(a(\".dw-17-2t\",L),16(){3i.1B(\"dw-17-v\")||y(ba);y(Z);e(3i)});b.2U(a(\".dw-17-2p\",L),16(){3i.1B(\"dw-17-v\")||3N.2N(5e);Z.1B(\"dw-17-v\")||y(ba);y(3i);e(Z)});b.2U(a(\".dw-17-2t-s\",L),16(){!aa.3m&&!a(1j).1B(\"1y-d\")&&b.ar(u.1f(ga,a(1j).1J(\"1F-1M\"),1))});b.2U(a(\".dw-17-2p-s\",L),16(){15(!3N.3m){P=u.1f(a(1j).1J(\"1F-1M\"),1K,1);b.ar(1k 1p(c.3q(P,3e,3b)))}});b.2U(3i,16(){15(!3N.3m){e(3i);B(ba)}});b.2U(Z,16(){15(!aa.3m){e(Z);B(ba)}})}},5k);4o?h.1m(\"dw-17-8Y\"):a(\".dw-17\",L).2a(bc||c1*1T);u.cd&&a(\".dw-17-6L-c\",L).1P(u.cd);15(u.bD){1b v,z,x,O,E,N,Y,K,ea,bb=u.bC,7K=j.bW||16(a){a()},7c=j.bV||fb,9Z=16(a){15(!ea&&!4I){8k=1d;7e=1e;ea=1d;O=1k 1p;ca=R;8x=w(a,\"X\");gb=w(a,\"Y\")}},5Y=16(){N=ea=1e;15(K){K=1e;7c(z);x=1e;v=2K?7f-gb:8p-8x;E=1k 1p-O;Y=(E<5k&&1g.2x(v)>50?v<0?-1S:1S:1g.2e((R-ca)/d))*5I;Y>0&&u.1f(ga,1K-Y-2f,1)>=3e?I(ga,1K-Y,\"1Y\",Y):Y<0&&u.1f(ga,1K-Y+1T-2f-1,1)<=3b?I(ga,1K-Y,\"2E\",-Y):bb&&U(ca,4p)}},cb=16(a){4I&&a.2F();15(ea){8p=w(a,\"X\");7f=w(a,\"Y\");v=2K?7f-gb:8p-8x;15(!K&&!N)15(1g.2x(v)>7)7e=K=1d;1i 15(!b.4O&&!2K&&1g.2x(7f-gb)>10){7e=N=1d;a.2g===\"62\"&&Q.2i(\"4m\")}K&&a.2F();15(K&&bb&&!x){x=1d;z=7K(5X)}}},5X=16(){U(ca+v);x=1e};Q.1r(\"4h\",9Z).1r(\"62\",cb).1r(\"4m 8C\",5Y).1r(\"2V\",16(d){15(!8k){9Z(d);a(q).1r(\"7r.9X\",cb).1r(\"39.9X\",16(){5Y();a(q).2y(\".9X\")})}8k=1e})}},6I:16(){15(1U.2j){E(ga,1K);b.2i(\"9Y\",[ga,1K])}},7b:16(c,e,f){1b g,h,j,k=0,l=0,p=0;15(4o){bg&&Q.1P(\"\");5c.1P(\"\");S.2a(\"\")}d&&(j=d);15(d=1g.2e(1g.2e(96(Q.2M(2K?\"1P\":\"2a\")))/1T)){L.1q(\"1v-17-m 1v-17-l\");d>hM?L.1m(\"1v-17-l\"):d>hN&&L.1m(\"1v-17-m\")}15(5X&&(3B||4o)||5Y){a(\".dw-17-4g\",L).1q(\"dw-17-4g-h\");a.1n(1U,16(a,d){g=d.5W();k=1g.1G(k,g);l=1g.1G(l,d.4D());p=p+g});15(5X||5Y&&p>(i[0].6u||i.6u())){h=1d;4a=a(\".dw-17-6X .dw-2q\",L).1J(\"1F-97\");X.1m(\"dw-17-ce\")}1i{4a=\"2j\";l=k=\"\";X.1q(\"dw-17-ce\");5c.2M({2a:\"\",1P:\"\"})}}15(4o&&bg){b.6W=1d;h&&5c.1P(1U.2j.4D());c=X.4D();f>=c&&Q.1P(f-c+Q.4D());l=1g.1G(l,1U.2j.4D())}15(h){5c.2M({2a:4o?\"\":k,1P:l});d=1g.2e(1g.2e(96(Q.2M(2K?\"1P\":\"2a\")))/1T)}15(d){15(db){fa=u.bG>a(\".dw-17-9f-m\",L).2a()?u.5l:u.3H;1h(s=0;s<1T;++s)a(2Q[s]).3v(fa[u.1o(u.1f(ga,1K-2f+s,1))])}S[2K?\"1P\":\"2a\"](d);15(4K){f=3i[2K?\"1P\":\"2a\"]();a.1V(3N.3h,{7k:f,3Q:f,8u:(2-8l)*f,7l:-f});a.1V(aa.3h,{7k:f,3Q:f,8u:-f,7l:-f});3N.51();aa.51();3i.1B(\"dw-17-v\")&&3N.2N(5e)}15(4o&&!3B&&j){j=ca/j;ca=j*d;U(ca,0)}}15(h){a(\".dw-17-4g\",L).1m(\"dw-17-4g-h\");1U[4a].1q(\"dw-17-4g-h\")}b.2i(\"cf\",[]);3B=1e},7h:16(){2o=[];1K=ga=4a=25;4I=1d;15(4K&&3N&&aa){3N.7A();aa.7A()}},cC:16(){1b a,d,c;d=b.1f(1d);15(ea)a=\"2j\";1i 1h(c 3g b.95)c&&b.95[c]===s&&(a=/hW/.5y(c)?\"2n\":\"2l\");b.2i(\"hX\",[{2n:d,97:a}]);l(d);ea=1e}});1a Y}})(3A,5Z,5M);(16(a,j){1b q=a.2d,t=q.1R,k=1k 1p,h={6P:k.1z()-2r,6O:k.1z()+1,92:\" \",63:\"3z/dd/2Z\",47:\"dU\",6J:\"ci\",4i:\"hh:43 A\",6N:\"cl\",7R:\"90\",6Q:\"cm\",6R:\"cn\",8E:\"&aY;\",6V:\"cp\",6Y:\"cq\"},c=16(c){16 k(a,d,b){1a s[d]!==j?+a[s[d]]:b!==j?b:F[d](ca)}16 w(a,d,b,c){a.1l({21:b,1Q:d,2R:c})}16 g(a,d,b,c){1a 1g.2c(c,1g.4y(a/d)*d+b)}16 n(a){15(25===a)1a a;1b d=k(a,\"h\",0);1a e.1f(k(a,\"y\"),k(a,\"m\"),k(a,\"d\",1),k(a,\"a\",0)?d+12:d,k(a,\"i\",0),k(a,\"s\",0))}16 N(a,d){1b c,e,i=!1,f=!1,g=0,h=0;15(b(a))1a a;a<ha&&(a=ha);a>ba&&(a=ba);e=c=a;15(2!==d)1h(i=b(c);!i&&c<ba;)c=1k 1p(c.29()+cr),i=b(c),g++;15(1!==d)1h(f=b(e);!f&&e>ha;)e=1k 1p(e.29()-cr),f=b(e),h++;1a 1===d&&i?c:2===d&&f?e:h<g&&f?e:c}16 b(a){1a a<ha||a>ba?!1:O(a,X)?!0:O(a,Y)?!1:!0}16 O(a,d){1b b,c,e;15(d)1h(c=0;c<d.1u;c++)15(b=d[c],e=b+\"\",!b.1s)15(b.29){15(a.1z()==b.1z()&&a.1o()==b.1o()&&a.1f()==b.1f())1a!0}1i 15(e.1x(/w/i)){15(e=+e.1D(\"w\",\"\"),e==a.1X())1a!0}1i 15(e=e.2B(\"/\"),e[1]){15(e[0]-1==a.1o()&&e[1]==a.1f())1a!0}1i 15(e[0]==a.1f())1a!0;1a!1}16 z(a,d,b,c,i,f,g){1b h,j,k;15(a)1h(h=0;h<a.1u;h++)15(j=a[h],k=j+\"\",!j.1s)15(j.29)e.1N(j)==d&&e.1o(j)==b&&(f[e.1X(j)-1]=g);1i 15(k.1x(/w/i)){k=+k.1D(\"w\",\"\");1h(U=k-c;U<i;U+=7)0<=U&&(f[U]=g)}1i k=k.2B(\"/\"),k[1]?k[0]-1==b&&(f[k[1]-1]=g):f[k[0]-1]=g}16 G(b,c,i,f,h,k,l,s,m){1b o,F,R,n,y,r,q,t,z,A,H,ca,x,w,G,P,da,O,C={},S={h:ea,i:D,s:3B,a:1},L=e.1f(h,k,l),Q=[\"a\",\"h\",\"i\",\"s\"];b&&(a.1n(b,16(a,d){15(d.1s&&(d.4F=!1,o=d.d,F=o+\"\",R=F.2B(\"/\"),o&&(o.29&&h==e.1N(o)&&k==e.1o(o)&&l==e.1X(o)||!F.1x(/w/i)&&(R[1]&&l==R[1]&&k==R[0]-1||!R[1]&&l==R[0])||F.1x(/w/i)&&L.1X()==+F.1D(\"w\",\"\"))))d.4F=!0,C[L]=!0}),a.1n(b,16(b,e){H=w=x=0;ca=j;q=r=!0;G=!1;15(e.1s&&(e.4F||!e.d&&!C[L])){n=e.1s.2B(\":\");y=e.2w.2B(\":\");1h(A=0;3>A;A++)n[A]===j&&(n[A]=0),y[A]===j&&(y[A]=59),n[A]=+n[A],y[A]=+y[A];n.7q(11<n[0]?1:0);y.7q(11<y[0]?1:0);d&&(12<=n[1]&&(n[1]-=12),12<=y[1]&&(y[1]-=12));1h(A=0;A<c;A++)15($[A]!==j){t=g(n[A],S[Q[A]],p[Q[A]],B[Q[A]]);z=g(y[A],S[Q[A]],p[Q[A]],B[Q[A]]);O=da=P=0;d&&1==A&&(P=n[0]?12:0,da=y[0]?12:0,O=$[0]?12:0);r||(t=0);q||(z=B[Q[A]]);15((r||q)&&t+P<$[A]+O&&$[A]+O<z+da)G=!0;$[A]!=t&&(r=!1);$[A]!=z&&(q=!1)}15(!m)1h(A=c+1;4>A;A++)0<n[A]&&(x=S[i]),y[A]<B[Q[A]]&&(w=S[i]);G||(t=g(n[c],S[i],p[i],B[i])+x,z=g(y[c],S[i],p[i],B[i])-w,r&&(H=0>t?0:t>B[i]?a(\".dw-1C\",s).1u:v(s,t)+0),q&&(ca=0>z?0:z>B[i]?a(\".dw-1C\",s).1u:v(s,z)+1));15(r||q||G)m?a(\".dw-1C\",s).3p(H,ca).1m(\"dw-v\"):a(\".dw-1C\",s).3p(H,ca).1q(\"dw-v\")}}))}16 v(d,b){1a a(\".dw-1C\",d).2z(a('.dw-1C[1F-1M=\"'+b+'\"]',d))}16 E(a){1b d,b=[];15(25===a||a===j)1a a;1h(d 3g s)b[s[d]]=F[d](a);1a b}16 x(a){1b d,b,c,e=[];15(a){1h(d=0;d<a.1u;d++)15(b=a[d],b.1s&&b.1s.29)1h(c=1k 1p(b.1s);c<=b.2w;)e.1l(1k 1p(c.1z(),c.1o(),c.1f())),c.3n(c.1f()+1);1i e.1l(b);1a e}1a a}1b o=a(1j),l={},C;15(o.6l(\"77\")){8w(o.1J(\"2g\")){1E\"2n\":C=\"2Z-3z-dd\";1A;1E\"1R\":C=\"2Z-3z-8t:43:cs\";1A;1E\"1R-ct\":C=\"2Z-3z-8t:43:3W\";1A;1E\"2t\":C=\"2Z-3z\";l.47=\"cu\";1A;1E\"2l\":C=\"b2:43:3W\"}1b I=o.1J(\"2c\"),o=o.1J(\"1G\");I&&(l.4V=t.4q(C,I));o&&(l.4U=t.4q(C,o))}1b J,U,r,K,M,A,T,p,B,I=a.1V({},c.3h),e=a.1V(c.3h,q.1R.4f,h,l,I),y=0,$=[],l=[],P=[],s={},F={y:16(a){1a e.1N(a)},m:16(a){1a e.1o(a)},d:16(a){1a e.1X(a)},h:16(a){a=a.3G();a=d&&12<=a?a-12:a;1a g(a,ea,fa,m)},i:16(a){1a g(a.5L(),D,aa,3y)},s:16(a){1a g(a.67(),3B,2Q,da)},a:16(a){1a S&&11<a.3G()?1:0}},Y=e.4N,X=e.3f,I=e.2S,L=e.47,i=e.6J,Q=L.1x(/D/),S=i.1x(/a/i),d=i.1x(/h/),R=\"1R\"==I?e.63+e.92+e.4i:\"2l\"==I?e.4i:e.63,ca=1k 1p,o=e.3l||{},ea=o.cw||e.cx||1,D=o.cy||e.bk||1,3B=o.cA||e.cB||1,o=o.6v,ha=e.4V||1k 1p(e.6P,0,1),ba=e.4U||1k 1p(e.6O,11,31,23,59,59),fa=o?0:ha.3G()%ea,aa=o?0:ha.5L()%D,2Q=o?0:ha.67()%3B,m=1g.4y(((d?11:23)-fa)/ea)*ea+fa,3y=1g.4y((59-aa)/D)*D+aa,da=1g.4y((59-aa)/D)*D+aa;C=C||R;15(I.1x(/2n/i)){a.1n([\"y\",\"m\",\"d\"],16(a,d){J=L.6D(6Z(d,\"i\"));-1<J&&P.1l({o:J,v:d})});P.72(16(a,d){1a a.o>d.o?1:-1});a.1n(P,16(a,d){s[d.v]=a});o=[];1h(U=0;3>U;U++)15(U==s.y){y++;K=[];r=[];M=e.1N(ha);A=e.1N(ba);1h(J=M;J<=A;J++)r.1l(J),K.1l((L.1x(/2Z/i)?J:(J+\"\").8i(2,2))+(e.aG||\"\"));w(o,r,K,e.7R)}1i 15(U==s.m){y++;K=[];r=[];1h(J=0;12>J;J++)M=L.1D(/[dy]/gi,\"\").1D(/3z/,(9>J?\"0\"+(J+1):J+1)+(e.8f||\"\")).1D(/m/,J+1+(e.8f||\"\")),r.1l(J),K.1l(M.1x(/6n/)?M.1D(/6n/,'<1Z 1c=\"dw-84\">'+e.3H[J]+\"</1Z>\"):M.1D(/M/,'<1Z 1c=\"dw-84\">'+e.5l[J]+\"</1Z>\"));w(o,r,K,e.83)}1i 15(U==s.d){y++;K=[];r=[];1h(J=1;32>J;J++)r.1l(J),K.1l((L.1x(/dd/i)&&10>J?\"0\"+J:J)+(e.6k||\"\"));w(o,r,K,e.6N)}l.1l(o)}15(I.1x(/2l/i)){T=!0;P=[];a.1n([\"h\",\"i\",\"s\",\"a\"],16(a,d){a=i.6D(6Z(d,\"i\"));-1<a&&P.1l({o:a,v:d})});P.72(16(a,d){1a a.o>d.o?1:-1});a.1n(P,16(a,d){s[d.v]=y+a});o=[];1h(U=y;U<y+4;U++)15(U==s.h){y++;K=[];r=[];1h(J=fa;J<(d?12:24);J+=ea)r.1l(J),K.1l(d&&0===J?12:i.1x(/hh/i)&&10>J?\"0\"+J:J);w(o,r,K,e.6Q)}1i 15(U==s.i){y++;K=[];r=[];1h(J=aa;60>J;J+=D)r.1l(J),K.1l(i.1x(/43/)&&10>J?\"0\"+J:J);w(o,r,K,e.6R)}1i 15(U==s.s){y++;K=[];r=[];1h(J=2Q;60>J;J+=3B)r.1l(J),K.1l(i.1x(/3W/)&&10>J?\"0\"+J:J);w(o,r,K,e.6V)}1i U==s.a&&(y++,I=i.1x(/A/),w(o,[0,1],I?[e.3T.6j(),e.3E.6j()]:[e.3T,e.3E],e.8E));l.1l(o)}c.5V=16(a){1a c.3t||a?n(c.4T(a)):25};c.3n=16(a,d,b,e,i){c.b7(E(a),d,i,e,b)};c.1f=c.5V;c.2J=R;c.95=s;c.8g.6g=16(){c.3n(1k 1p,!1,0.3,!0,!0)};c.2v.6g={3v:e.6Y,3u:\"6g\"};Y=x(Y);X=x(X);ha=n(E(ha));ba=n(E(ba));p={y:ha.1z(),m:0,d:1,h:fa,i:aa,s:2Q,a:0};B={y:ba.1z(),m:11,d:31,h:m,i:3y,s:da,a:1};1a{2Y:l,2T:e.2T?16(){1a t.3Y(R,n(c.4T(!0)),e)}:!1,5S:16(a){1a t.3Y(C,n(a),e)},5U:16(a){1a E(a?t.4q(C,a,e):e.7P||1k 1p)},aB:16(d,b,i,g){1b b=N(n(c.4T(!0)),g),h=E(b),l=k(h,\"y\"),m=k(h,\"m\"),D=!0,o=!0;a.1n(\"y,m,d,a,h,i,s\".2B(\",\"),16(b,c){15(s[c]!==j){1b i=p[c],f=B[c],g=31,n=k(h,c),y=a(\".dw-37\",d).eq(s[c]);15(c==\"d\"){f=g=e.9o(l,m);Q&&a(\".dw-1C\",y).1n(16(){1b d=a(1j),b=d.1F(\"1M\"),c=e.1f(l,m,b).1X(),b=L.1D(/[cH]/gi,\"\").1D(/dd/,(b<10?\"0\"+b:b)+(e.6k||\"\")).1D(/d/,b+(e.6k||\"\"));a(\".dw-i\",d).22(b.1x(/9p/)?b.1D(/9p/,'<1Z 1c=\"dw-1t\">'+e.5o[c]+\"</1Z>\"):b.1D(/D/,'<1Z 1c=\"dw-1t\">'+e.6e[c]+\"</1Z>\"))})}D&&ha&&(i=F[c](ha));o&&ba&&(f=F[c](ba));15(c!=\"y\"){1b R=v(y,i),r=v(y,f);a(\".dw-1C\",y).1q(\"dw-v\").3p(R,r+1).1m(\"dw-v\");c==\"d\"&&a(\".dw-1C\",y).1q(\"dw-h\").3p(g).1m(\"dw-h\")}n<i&&(n=i);n>f&&(n=f);D&&(D=n==i);o&&(o=n==f);15(c==\"d\"){i=e.1f(l,m,1).1X();f={};z(Y,l,m,i,g,f,1);z(X,l,m,i,g,f,0);a.1n(f,16(d,b){b&&a(\".dw-1C\",y).eq(d).1q(\"dw-v\")})}}});T&&a.1n([\"a\",\"h\",\"i\",\"s\"],16(b,e){1b i=k(h,e),p=k(h,\"d\"),D=a(\".dw-37\",d).eq(s[e]);s[e]!==j&&(G(Y,b,e,h,l,m,p,D,0),G(X,b,e,h,l,m,p,D,1),$[b]=+c.9z(i,D,g).1M)});c.3X=h}}};a.1n([\"2n\",\"2l\",\"1R\"],16(a,h){q.6C.4J[h]=c})})(3A);(16(a,j,q,t){1b k=a.2d,h=a.1V,c=k.2m,f=k.1R,H=k.6C.4J,w={cK:0,9K:\"eV,eW,eX,eY,eZ,f0\".2B(\",\"),9I:\"f4\",9E:\"f6\",cM:\"2k\",cN:\"2I\"};k.8X(\"2j\");H.2j=16(g){16 n(d){15(d){15(e[d])1a e[d];1b b=a('<18 1L=\"7m-3K:'+d+';\"></18>').9h(\"7B\"),c=(j.7W?7W(b[0]):b[0].1L).fe.1D(/ff|fh|\\(|\\)|\\s/g,\"\").2B(\",\"),c=fi<0.fj*c[0]+0.fk*c[1]+0.fl*c[2]?\"#fm\":\"#fo\";b.6d();1a e[d]=c}}16 q(a){1a a.72(16(a,d){1b b=a.d||a.1s,c=d.d||d.1s,b=!b.29?0:a.1s&&a.2w&&a.1s.6a()!==a.2w.6a()?1:b.29(),c=!c.29?0:d.1s&&d.2w&&d.1s.6a()!==d.2w.6a()?1:c.29();1a b-c})}16 b(d){1b b;b=a(\".dw-17-c\",o).4D();1b c=d.4D(),e=d.5W(),f=d.2s().2b-a(\".dw-17-c\",o).2s().2b,i=2>d.48(\".dw-17-6r\").2z();b=l.1m(\"dw-17-2I-t\").2M({2b:i?f+c:\"0\",3O:i?\"0\":b-f}).1m(\"dw-17-2I-v\").1P();l.2M(i?\"3O\":\"2b\",\"c0\").1q(\"dw-17-2I-t\");U.2M(\"1G-1P\",b);J.51();J.2N(0);i?l.1m(\"dw-17-2I-b\"):l.1q(\"dw-17-2I-b\");a(\".dw-17-2I-5R\",l).2M(\"3F\",d.2s().3F-l.2s().3F+e/2)}16 O(d,c){1b e=I[d];15(e){1b f,i,h,j,o,p='<37 1c=\"dw-17-2k-fp\">';C=c;c.1m($).2D(\".dw-i\").1m(s);c.1B(P)&&c.1J(\"1F-hl\",\"1d\").1q(P);q(e);a.1n(e,16(a,b){j=b.d||b.1s;o=b.1s&&b.2w&&b.1s.6a()!==b.2w.6a();h=b.3K;n(h);i=f=\"\";j.29&&(f=k.1R.3Y((o?\"6n d 2Z \":\"\")+y.4i,j));b.2w&&(i=k.1R.3Y((o?\"6n d 2Z \":\"\")+y.4i,b.2w));1b d=p,c='<1C 2L=\"3S\" 1w-2R=\"'+b.3v+(f?\", \"+y.9I+\" \"+f:\"\")+(i?\", \"+y.9E+\" \"+i:\"\")+'\" 1c=\"dw-17-2k\"><18 1c=\"dw-17-2k-3K\" 1L=\"'+(h?\"7m:\"+h+\";\":\"\")+'\"></18>'+(j.29&&!o?'<18 1c=\"dw-17-2k-2l\">'+k.1R.3Y(y.4i,j)+\"</18>\":\"\")+b.3v,e;15(b.1s&&b.2w){e=y.9K;1b g=1g.2x(b.2w-b.1s)/fq,l=g/60,s=l/60,F=s/24,r=F/cP;e='<18 1c=\"dw-17-2k-fs\">'+(45>g&&1g.2e(g)+\" \"+e[5].4u()||45>l&&1g.2e(l)+\" \"+e[4].4u()||24>s&&1g.2e(s)+\" \"+e[3].4u()||30>F&&1g.2e(F)+\" \"+e[2].4u()||cP>F&&1g.2e(F/30)+\" \"+e[1].4u()||1g.2e(r)+\" \"+e[0].4u())+\"</18>\"}1i e=\"\";p=d+(c+e+\"</1C>\")});p+=\"</37>\";r.22(p);g.2i(\"fv\",[C,l]);b(C);g.2U(a(\".dw-17-2k\",r),16(b){J.3m||g.2i(\"fw\",[b,e[a(1j).2z()],d])});K=!0}}16 z(){l&&l.1q(\"dw-17-2I-v\");C&&(C.1q($).2D(\".dw-i\").1q(s),C.1J(\"1F-hl\")&&C.44(\"1F-hl\").1m(P));K=!1}16 G(a){1a 1k 1p(a.1z(),a.1o(),a.1f())}16 v(a){i={};15(a&&a.1u)1h(M=0;M<a.1u;M++)i[G(a[M])]=a[M]}16 E(){Q&&z();g.51()}1b x,o,l,C,I,J,U,r,K,M,A,T,p,B,e={};p=h({},g.3h);1b y=h(g.3h,w,p),$=\"dw-2q dw-17-1t-ev\",P=\"dw-17-1t-hl\",s=y.bT||\"\",F=y.9x||\"2P\"==y.bj,Y=y.fA,X=!0===y.2I||!0===y.fB,L=0,i={},Q=a.7g(y.2I),S=Q?h(!0,[],y.2I):[];p=H.cz.3a(1j,g);x=h({},p);15(y.8V)1h(M=0;M<y.8V.1u;M++)i[G(y.8V[M])]=y.8V[M];Q&&a.1n(S,16(a,b){b.4A===t&&(b.4A=L++)});g.aU=16(a,b){I=g.9t(S,a,b);A=g.9t(y.cT,a,b)};g.b8=16(b){1h(1b c=F?i[b]!==t:Q?b.29()===(1k 1p).9r(0,0,0,0):t,e=A[b]?A[b][0]:!1,f=I[b]?I[b][0]:!1,g=e||f,e=e.3v||(f?I[b].1u+\" \"+(1<I[b].1u?y.cN:y.cM):0),f=A[b]||I[b]||[],h=g.3K,j=X&&e?n(h):\"\",k=\"\",l='<18 1c=\"dw-17-1t-m\"'+(h?' 1L=\"7m-3K:'+h+\";fF-3K:\"+h+\" \"+h+' cU cU\"':\"\")+\"></18>\",b=0;b<f.1u;b++)f[b].8Z&&(k+='<1Z 1c=\"1v-26 1v-26-'+f[b].8Z+'\"'+(f[b].3v?\"\":f[b].3K?' 1L=\"3K:'+f[b].3K+';\"':\"\")+\"></1Z>\\n\");15(\"3O\"==Y){l='<18 1c=\"dw-17-1t-m\"><18 1c=\"dw-17-1t-m-t\">';1h(b=0;b<f.1u;b++)l+='<18 1c=\"dw-17-1t-m-c\"'+(f[b].3K?' 1L=\"7m:'+f[b].3K+';\"':\"\")+\"></18>\";l+=\"</18></18>\"}1a{cT:g,2C:Q?!1:c,5J:Q&&c?\"dw-17-1t-hl\":\"\",bh:X||Q?e:\"\",1H:X&&e?'<18 1c=\"dw-17-1t-4Q-c\"><18 1c=\"dw-17-1t-4Q '+(y.fH||\"\")+'\" fI=\"'+a(\"<18>\"+e+\"</18>\").3v()+'\"'+(h?' 1L=\"7m:'+h+\";3K:\"+j+';3v-fJ:fK;\"':\"\")+\">\"+k+e+\"</18></18>\":X&&k?'<18 1c=\"dw-17-1t-26-c\">'+k+\"</18>\":g?l:\"\"}};g.fL=16(a){i[G(a)]=a;E()};g.fM=16(a){6H i[G(a)];E()};g.7O=16(a,b,c,e,f){F&&(v(a),a=a?a[0]:25);g.3n(a,b,f,e,c);E()};g.5V=16(a){1a F?c.cg(i):g.1f(a)};g.fN=16(a,b){g.3n(a?a[0]:25,b);v(a);E()};g.fO=16(){1a F?g.5V():[g.1f()]};Q&&(g.fP=16(b){1b c=[],b=h(!0,[],a.7g(b)?b:[b]);a.1n(b,16(a,b){b.4A===t&&(b.4A=L++);S.1l(b);c.1l(b.4A)});E();1a c},g.fQ=16(b){b=a.7g(b)?b:[b];a.1n(b,16(b,d){a.1n(S,16(a,b){15(b.4A===d)1a S.a2(a,1),!1})});E()},g.fR=16(a){1b b;1a a?(a.9r(0,0,0,0),b=g.9t(S,a.1z(),a.1o()),b[a]?q(b[a]):[]):S},g.fS=16(b){1b c=[];S=h(!0,[],b);a.1n(S,16(a,b){b.4A===t&&(b.4A=L++);c.1l(b.4A)});E();1a c});h(p,{8L:!F&&!Q,8O:!F&&!Q,2v:Q&&\"54\"!==y.28?[\"4c\"]:y.2v,5U:16(a){1b b,c;15(F&&a){i={};a=a.2B(\",\");1h(b=0;b<a.1u;b++){c=f.4q(g.2J,a[b].1D(/^\\s+|\\s+$/g,\"\"),y);i[G(c)]=c}a=a[0]}1a x.5U.3a(1j,a)},5S:16(a){1b b,c=[];15(F){1h(b 3g i)c.1l(f.3Y(g.2J,i[b],y));1a c.ae(\", \")}1a x.5S.3a(1j,a)},cJ:16(){15(F){i={};g.51()}},d5:16(){15(Q)y.2T=1e;15(y.cV)y.8O=1e;15(y.fU&&F)y.2T=16(){1b b=0,c=y.bj==\"2P\"?7:1;a.1n(i,16(){b++});1a b/c+\" \"+y.be}},91:16(b){x.91.3a(1j,b);o=b;15(F){a(\".ai\",b).1J(\"1w-4s\",\"2y\");T=h({},i)}X&&a(\".dw-17\",b).1m(\"dw-17-ev\");Y&&a(\".dw-17\",b).1m(\"dw-17-m-\"+Y);15(Q){b.1m(\"dw-17-em\");l=a('<18 1c=\"dw-17-2I '+(y.fV||\"\")+'\"><18 1c=\"dw-17-2I-5R\"></18><18 1c=\"dw-17-2I-i\"><18 1c=\"dw-17-2I-2h\"></18></18></18>').9h(a(\".dw-17-c\",b));U=a(\".dw-17-2I-i\",l);r=a(\".dw-17-2I-2h\",l);J=1k k.2O.6U(U[0]);g.2U(U,16(){J.3m||z()})}},bF:16(){Q&&z()},bK:16(){Q&&z()},9Y:16(){15(B){O(B.d,a('.dw-17-1t-v[1F-4l=\"'+B.4l+'\"]:fW(.dw-17-1t-94)',o));B=1e}},bI:16(b){1b c=b.2n,e=G(c),f=a(b.3x),b=b.2C;15(Q){z();f.1B(\"dw-17-1t-ev\")||2A(16(){g.7w?B={d:e,4l:f.1J(\"1F-4l\")}:O(e,f)},10)}1i 15(F)15(y.bj==\"2P\"){1b h,j,k=e.1X()-y.cK,k=k<0?7+k:k;y.9x||(i={});1h(h=0;h<7;h++){j=1k 1p(e.1z(),e.1o(),e.1f()-k+h);b?6H i[j]:i[j]=j}E()}1i{h=a('.dw-17 .dw-17-1t[1F-4l=\"'+f.1J(\"1F-4l\")+'\"]',o);15(b){h.1q(\"dw-2q\").44(\"1w-2C\").2D(\".dw-i\").1q(s);6H i[e]}1i{h.1m(\"dw-2q\").1J(\"1w-2C\",\"1d\").2D(\".dw-i\").1m(s);i[e]=e}}15(!Q&&!y.9x&&y.cV&&y.28!==\"54\"){g.7y=1e;g.3n(c);g.7G();1a 1e}},cf:16(){K&&b(C)},cI:16(){!g.4s&&F&&(i=h({},T))}});1a p}})(3A,5Z,5M);(16($,j){1b k=$.2d;k.1R={4f:{cW:'+10',3H:['fY','fZ','g0','g1','cX','g2','g3','g4','g5','g6','g7','g8'],5l:['g9','gc','gd','ge','cX','gf','gg','gh','gj','gk','gl','gm'],5o:['gn','go','gp','gq','gr','gs','gt'],6e:['gu','gv','gw','gx','gy','gz','gA'],cY:['S','M','T','W','T','F','S'],83:'av',3T:'am',3E:'gB',1N:16(d){1a d.1z()},1o:16(d){1a d.1o()},1X:16(d){1a d.1f()},1f:16(y,m,d,h,i,s){1a 1k 1p(y,m,d,h||0,i||0,s||0)},9o:16(y,m){1a 32-1k 1p(y,m,32).1f()},bl:16(d){d=1k 1p(d);d.9r(0,0,0);d.3n(d.1f()+4-(d.1X()||7));1b a=1k 1p(d.1z(),0,1);1a 1g.9M((((d-a)/cZ)+1)/7)}},3Y:16(c,d,e){15(!d){1a 25}1b s=$.1V({},k.1R.4f,e),69=16(m){1b n=0;5a(i+1<c.1u&&c.5f(i+1)==m){n++;i++}1a n},f1=16(m,a,b){1b n=''+a;15(69(m)){5a(n.1u<b){n='0'+n}}1a n},f2=16(m,a,s,l){1a(69(m)?l[a]:s[a])},i,2p,2H='',4Y=1e;1h(i=0;i<c.1u;i++){15(4Y){15(c.5f(i)==\"'\"&&!69(\"'\")){4Y=1e}1i{2H+=c.5f(i)}}1i{8w(c.5f(i)){1E'd':2H+=f1('d',s.1X(d),2);1A;1E'D':2H+=f2('D',d.1X(),s.6e,s.5o);1A;1E'o':2H+=f1('o',(d.29()-1k 1p(d.1z(),0,0).29())/cZ,3);1A;1E'm':2H+=f1('m',s.1o(d)+1,2);1A;1E'M':2H+=f2('M',s.1o(d),s.5l,s.3H);1A;1E'y':2p=s.1N(d);2H+=(69('y')?2p:(2p%2r<10?'0':'')+2p%2r);1A;1E'h':1b h=d.3G();2H+=f1('h',(h>12?(h-12):(h===0?12:h)),2);1A;1E'H':2H+=f1('H',d.3G(),2);1A;1E'i':2H+=f1('i',d.5L(),2);1A;1E's':2H+=f1('s',d.67(),2);1A;1E'a':2H+=d.3G()>11?s.3E:s.3T;1A;1E'A':2H+=d.3G()>11?s.3E.6j():s.3T.6j();1A;1E\"'\":15(69(\"'\")){2H+=\"'\"}1i{4Y=1d}1A;d0:2H+=c.5f(i)}}}1a 2H},4q:16(c,d,e){1b s=$.1V({},k.1R.4f,e),4S=s.7P||1k 1p();15(!c||!d){1a 4S}15(d.29){1a d}d=(5x d=='aV'?d.gK():d+'');1b f=s.cW,2p=s.1N(4S),2t=s.1o(4S)+1,1t=s.1X(4S),8R=-1,4r=4S.3G(),aS=4S.5L(),aQ=0,5p=-1,4Y=1e,7p=16(a){1b b=(4x+1<c.1u&&c.5f(4x+1)==a);15(b){4x++}1a b},4v=16(a){7p(a);1b b=(a=='@'?14:(a=='!'?20:(a=='y'?4:(a=='o'?3:2)))),d4=1k 6Z('^\\\\d{1,'+b+'}'),8s=d.8i(6G).1x(d4);15(!8s){1a 0}6G+=8s[0].1u;1a 96(8s[0],10)},7t=16(a,s,l){1b b=(7p(a)?l:s),i;1h(i=0;i<b.1u;i++){15(d.8i(6G,b[i].1u).4u()==b[i].4u()){6G+=b[i].1u;1a i+1}}1a 0},8a=16(){6G++},6G=0,4x;1h(4x=0;4x<c.1u;4x++){15(4Y){15(c.5f(4x)==\"'\"&&!7p(\"'\")){4Y=1e}1i{8a()}}1i{8w(c.5f(4x)){1E'd':1t=4v('d');1A;1E'D':7t('D',s.6e,s.5o);1A;1E'o':8R=4v('o');1A;1E'm':2t=4v('m');1A;1E'M':2t=7t('M',s.5l,s.3H);1A;1E'y':2p=4v('y');1A;1E'H':4r=4v('H');1A;1E'h':4r=4v('h');1A;1E'i':aS=4v('i');1A;1E's':aQ=4v('s');1A;1E'a':5p=7t('a',[s.3T,s.3E],[s.3T,s.3E])-1;1A;1E'A':5p=7t('A',[s.3T,s.3E],[s.3T,s.3E])-1;1A;1E\"'\":15(7p(\"'\")){8a()}1i{4Y=1d}1A;d0:8a()}}}15(2p<2r){2p+=1k 1p().1z()-1k 1p().1z()%2r+(2p<=(5x f!='9T'?f:1k 1p().1z()%2r+96(f,10))?0:-2r)}15(8R>-1){2t=1;1t=8R;do{1b g=32-1k 1p(2p,2t-1,32).1f();15(1t<=g){1A}2t++;1t-=g}5a(1d)}4r=(5p==-1)?4r:((5p&&4r<12)?(4r+12):(!5p&&4r==12?0:4r));1b h=s.1f(2p,2t-1,1t,4r,aS,aQ);15(s.1N(h)!=2p||s.1o(h)+1!=2t||s.1X(h)!=1t){1a 4S}1a h}};k.3Y=k.1R.3Y;k.4q=k.1R.4q})(3A);(16($,z){1b A=$.2d,1R=A.1R,2n=1k 1p(),4f={6P:2n.1z()-2r,6O:2n.1z()+1,92:' ',63:'3z/dd/2Z',47:'gX',6J:'ci',4i:'hh:43 A',6N:'cl',7R:'90',6Q:'cm',6R:'cn',8E:'&aY;',6V:'cp',6Y:'cq'},2S=16(l){1b n=$(1j),7x={},2J;15(n.6l('77')){8w(n.1J('2g')){1E'2n':2J='2Z-3z-dd';1A;1E'1R':2J='2Z-3z-8t:43:cs';1A;1E'1R-ct':2J='2Z-3z-8t:43:3W';1A;1E'2t':2J='2Z-3z';7x.47='cu';1A;1E'2l':2J='b2:43:3W';1A}1b q=n.1J('2c'),1G=n.1J('1G');15(q){7x.4V=1R.4q(2J,q)}15(1G){7x.4U=1R.4q(2J,1G)}}1b i,k,1Q,21,3M,1s,2w,9O,5G,46,dc=$.1V({},l.3h),s=$.1V(l.3h,A.1R.4f,4f,7x,dc),2s=0,5j=[],2Y=[],4Z=[],o={},f={y:1N,m:1o,d:1X,h:df,i:dg,s:di,a:dj},4N=s.4N,3f=s.3f,p=s.2S,5D=s.47,5n=s.6J,dl=5D.1x(/D/),5p=5n.1x(/a/i),5C=5n.1x(/h/),8N=p=='1R'?s.63+s.92+s.4i:p=='2l'?s.4i:s.63,dm=1k 1p(),3l=s.3l||{},6m=3l.cw||s.cx||1,5z=3l.cy||s.bk||1,7F=3l.cA||s.cB||1,6v=3l.6v,3k=s.4V||1k 1p(s.6P,0,1),4d=s.4U||1k 1p(s.6O,11,31,23,59,59),7M=6v?0:3k.3G()%6m,6E=6v?0:3k.5L()%5z,7Z=6v?0:3k.67()%7F,9V=7S(6m,7M,(5C?11:23)),9F=7S(5z,6E,59),9D=7S(5z,6E,59);2J=2J||8N;15(p.1x(/2n/i)){$.1n(['y','m','d'],16(j,v){i=5D.6D(1k 6Z(v,'i'));15(i>-1){4Z.1l({o:i,v:v})}});4Z.72(16(a,b){1a a.o>b.o?1:-1});$.1n(4Z,16(i,v){o[v.v]=i});3M=[];1h(k=0;k<3;k++){15(k==o.y){2s++;21=[];1Q=[];1s=s.1N(3k);2w=s.1N(4d);1h(i=1s;i<=2w;i++){1Q.1l(i);21.1l((5D.1x(/2Z/i)?i:(i+'').8i(2,2))+(s.aG||''))}58(3M,1Q,21,s.7R)}1i 15(k==o.m){2s++;21=[];1Q=[];1h(i=0;i<12;i++){1b r=5D.1D(/[dy]/gi,'').1D(/3z/,(i<9?'0'+(i+1):i+1)+(s.8f||'')).1D(/m/,i+1+(s.8f||''));1Q.1l(i);21.1l(r.1x(/6n/)?r.1D(/6n/,'<1Z 1c=\"dw-84\">'+s.3H[i]+'</1Z>'):r.1D(/M/,'<1Z 1c=\"dw-84\">'+s.5l[i]+'</1Z>'))}58(3M,1Q,21,s.83)}1i 15(k==o.d){2s++;21=[];1Q=[];1h(i=1;i<32;i++){1Q.1l(i);21.1l((5D.1x(/dd/i)&&i<10?'0'+i:i)+(s.6k||''))}58(3M,1Q,21,s.6N)}}2Y.1l(3M)}15(p.1x(/2l/i)){9O=1d;4Z=[];$.1n(['h','i','s','a'],16(i,v){i=5n.6D(1k 6Z(v,'i'));15(i>-1){4Z.1l({o:i,v:v})}});4Z.72(16(a,b){1a a.o>b.o?1:-1});$.1n(4Z,16(i,v){o[v.v]=2s+i});3M=[];1h(k=2s;k<2s+4;k++){15(k==o.h){2s++;21=[];1Q=[];1h(i=7M;i<(5C?12:24);i+=6m){1Q.1l(i);21.1l(5C&&i===0?12:5n.1x(/hh/i)&&i<10?'0'+i:i)}58(3M,1Q,21,s.6Q)}1i 15(k==o.i){2s++;21=[];1Q=[];1h(i=6E;i<60;i+=5z){1Q.1l(i);21.1l(5n.1x(/43/)&&i<10?'0'+i:i)}58(3M,1Q,21,s.6R)}1i 15(k==o.s){2s++;21=[];1Q=[];1h(i=7Z;i<60;i+=7F){1Q.1l(i);21.1l(5n.1x(/3W/)&&i<10?'0'+i:i)}58(3M,1Q,21,s.6V)}1i 15(k==o.a){2s++;1b u=5n.1x(/A/);58(3M,[0,1],u?[s.3T.6j(),s.3E.6j()]:[s.3T,s.3E],s.8E)}}2Y.1l(3M)}16 3w(d,i,a){15(o[i]!==z){1a+d[o[i]]}15(a!==z){1a a}1a f[i](dm)}16 58(a,k,v,b){a.1l({21:v,1Q:k,2R:b})}16 3V(v,a,b,c){1a 1g.2c(c,1g.4y(v/a)*a+b)}16 1N(d){1a s.1N(d)}16 1o(d){1a s.1o(d)}16 1X(d){1a s.1X(d)}16 df(d){1b a=d.3G();a=5C&&a>=12?a-12:a;1a 3V(a,6m,7M,9V)}16 dg(d){1a 3V(d.5L(),5z,6E,9F)}16 di(d){1a 3V(d.67(),7F,7Z,9D)}16 dj(d){1a 5p&&d.3G()>11?1:0}16 1f(d){15(d===25){1a d}1b a=3w(d,'h',0);1a s.1f(3w(d,'y'),3w(d,'m'),3w(d,'d',1),3w(d,'a',0)?a+12:a,3w(d,'i',0),3w(d,'s',0))}16 7S(a,b,c){1a 1g.4y((c-b)/a)*a+b}16 dx(d,a){1b b,1Y,7N=1e,6w=1e,aT=0,aJ=0;15(6p(d)){1a d}15(d<3k){d=3k}15(d>4d){d=4d}b=d;1Y=d;15(a!==2){7N=6p(b);5a(!7N&&b<4d){b=1k 1p(b.29()+ad*60*60*24);7N=6p(b);aT++}}15(a!==1){6w=6p(1Y);5a(!6w&&1Y>3k){1Y=1k 1p(1Y.29()-ad*60*60*24);6w=6p(1Y);aJ++}}15(a===1&&7N){1a b}15(a===2&&6w){1a 1Y}1a aJ<aT&&6w?1Y:b}16 6p(d){15(d<3k){1a 1e}15(d>4d){1a 1e}15(ac(d,3f)){1a 1d}15(ac(d,4N)){1a 1e}1a 1d}16 ac(d,a){1b b,j,v;15(a){1h(j=0;j<a.1u;j++){b=a[j];v=b+'';15(!b.1s){15(b.29){15(d.1z()==b.1z()&&d.1o()==b.1o()&&d.1f()==b.1f()){1a 1d}}1i 15(!v.1x(/w/i)){v=v.2B('/');15(v[1]){15((v[0]-1)==d.1o()&&v[1]==d.1f()){1a 1d}}1i 15(v[0]==d.1f()){1a 1d}}1i{v=+v.1D('w','');15(v==d.1X()){1a 1d}}}}}1a 1e}16 ab(a,y,m,b,c,e,f){1b j,d,v;15(a){1h(j=0;j<a.1u;j++){d=a[j];v=d+'';15(!d.1s){15(d.29){15(s.1N(d)==y&&s.1o(d)==m){e[s.1X(d)-1]=f}}1i 15(!v.1x(/w/i)){v=v.2B('/');15(v[1]){15(v[0]-1==m){e[v[1]-1]=f}}1i{e[v[0]-1]=f}}1i{v=+v.1D('w','');1h(k=v-b;k<c;k+=7){15(k>=0){e[k]=f}}}}}}}16 a6(b,i,v,c,y,m,d,e,f){1b g,3W,r,35,2X,5w,5v,5u,5t,j,i1,i2,9e,6d,6b,9d,8K,7Q,aP={},3l={h:6m,i:5z,s:7F,a:1},1t=s.1f(y,m,d),w=['a','h','i','s'];15(b){$.1n(b,16(i,a){15(a.1s){a.4F=1e;g=a.d;3W=g+'';r=3W.2B('/');15(g&&((g.29&&y==s.1N(g)&&m==s.1o(g)&&d==s.1X(g))||(!3W.1x(/w/i)&&((r[1]&&d==r[1]&&m==r[0]-1)||(!r[1]&&d==r[0])))||(3W.1x(/w/i)&&1t.1X()==+3W.1D('w','')))){a.4F=1d;aP[1t]=1d}}});$.1n(b,16(x,a){9e=0;6d=0;i1=0;i2=z;5w=1d;5v=1d;6b=1e;15(a.1s&&(a.4F||(!a.d&&!aP[1t]))){35=a.1s.2B(':');2X=a.2w.2B(':');1h(j=0;j<3;j++){15(35[j]===z){35[j]=0}15(2X[j]===z){2X[j]=59}35[j]=+35[j];2X[j]=+2X[j]}35.7q(35[0]>11?1:0);2X.7q(2X[0]>11?1:0);15(5C){15(35[1]>=12){35[1]=35[1]-12}15(2X[1]>=12){2X[1]=2X[1]-12}}1h(j=0;j<i;j++){15(5j[j]!==z){5u=3V(35[j],3l[w[j]],5G[w[j]],46[w[j]]);5t=3V(2X[j],3l[w[j]],5G[w[j]],46[w[j]]);9d=0;8K=0;7Q=0;15(5C&&j==1){9d=35[0]?12:0;8K=2X[0]?12:0;7Q=5j[0]?12:0}15(!5w){5u=0}15(!5v){5t=46[w[j]]}15((5w||5v)&&(5u+9d<5j[j]+7Q&&5j[j]+7Q<5t+8K)){6b=1d}15(5j[j]!=5u){5w=1e}15(5j[j]!=5t){5v=1e}}}15(!f){1h(j=i+1;j<4;j++){15(35[j]>0){9e=3l[v]}15(2X[j]<46[w[j]]){6d=3l[v]}}}15(!6b){5u=3V(35[i],3l[v],5G[v],46[v])+9e;5t=3V(2X[i],3l[v],5G[v],46[v])-6d;15(5w){i1=9G(e,5u,46[v],0)}15(5v){i2=9G(e,5t,46[v],1)}}15(5w||5v||6b){15(f){$('.dw-1C',e).3p(i1,i2).1m('dw-v')}1i{$('.dw-1C',e).3p(i1,i2).1q('dw-v')}}}})}}16 8F(t,v){1a $('.dw-1C',t).2z($('.dw-1C[1F-1M=\"'+v+'\"]',t))}16 9G(t,v,a,b){15(v<0){1a 0}15(v>a){1a $('.dw-1C',t).1u}1a 8F(t,v)+b}16 65(d){1b i,3Z=[];15(d===25||d===z){1a d}1h(i 3g o){3Z[o[i]]=f[i](d)}1a 3Z}16 aX(a){1b i,v,1s,3Z=[];15(a){1h(i=0;i<a.1u;i++){v=a[i];15(v.1s&&v.1s.29){1s=1k 1p(v.1s);5a(1s<=v.2w){3Z.1l(1k 1p(1s.1z(),1s.1o(),1s.1f()));1s.3n(1s.1f()+1)}}1i{3Z.1l(v)}}1a 3Z}1a a}l.5V=16(a){1a l.3t||a?1f(l.4T(a)):25};l.3n=16(d,a,b,c,e){l.b7(65(d),a,e,c,b)};l.1f=l.5V;l.2J=8N;l.95=o;l.8g.6g=16(){l.3n(1k 1p(),1e,0.3,1d,1d)};l.2v.6g={3v:s.6Y,3u:'6g'};4N=aX(4N);3f=aX(3f);3k=1f(65(3k));4d=1f(65(4d));5G={y:3k.1z(),m:0,d:1,h:7M,i:6E,s:7Z,a:0};46={y:4d.1z(),m:11,d:31,h:9V,i:9F,s:9D,a:1};1a{2Y:2Y,2T:s.2T?16(){1a 1R.3Y(8N,1f(l.4T(1d)),s)}:1e,5S:16(d){1a 1R.3Y(2J,1f(d),s)},5U:16(a){1a 65(a?1R.4q(2J,a,s):(s.7P||1k 1p()))},aB:16(g,i,h,j){1b k=dx(1f(l.4T(1d)),j),4M=65(k),y=3w(4M,'y'),m=3w(4M,'m'),8J=1d,8G=1d;$.1n(['y','m','d','a','h','i','s'],16(x,i){15(o[i]!==z){1b b=5G[i],1G=46[i],6c=31,1M=3w(4M,i),t=$('.dw-37',g).eq(o[i]);15(i=='d'){6c=s.9o(y,m);1G=6c;15(dl){$('.dw-1C',t).1n(16(){1b a=$(1j),d=a.1F('1M'),w=s.1f(y,m,d).1X(),r=5D.1D(/[cH]/gi,'').1D(/dd/,(d<10?'0'+d:d)+(s.6k||'')).1D(/d/,d+(s.6k||''));$('.dw-i',a).22(r.1x(/9p/)?r.1D(/9p/,'<1Z 1c=\"dw-1t\">'+s.5o[w]+'</1Z>'):r.1D(/D/,'<1Z 1c=\"dw-1t\">'+s.6e[w]+'</1Z>'))})}}15(8J&&3k){b=f[i](3k)}15(8G&&4d){1G=f[i](4d)}15(i!='y'){1b c=8F(t,b),i2=8F(t,1G);$('.dw-1C',t).1q('dw-v').3p(c,i2+1).1m('dw-v');15(i=='d'){$('.dw-1C',t).1q('dw-h').3p(6c).1m('dw-h')}}15(1M<b){1M=b}15(1M>1G){1M=1G}15(8J){8J=1M==b}15(8G){8G=1M==1G}15(i=='d'){1b e=s.1f(y,m,1).1X(),4W={};ab(4N,y,m,e,6c,4W,1);ab(3f,y,m,e,6c,4W,0);$.1n(4W,16(i,v){15(v){$('.dw-1C',t).eq(i).1q('dw-v')}})}}});15(9O){$.1n(['a','h','i','s'],16(i,v){1b a=3w(4M,v),d=3w(4M,'d'),t=$('.dw-37',g).eq(o[v]);15(o[v]!==z){a6(4N,i,v,4M,y,m,d,t,0);a6(3f,i,v,4M,y,m,d,t,1);5j[i]=+l.9z(a,t,j).1M}})}l.3X=4M}}};$.1n(['2n','2l','1R'],16(i,v){A.6C.4J[v]=2S})})(3A);(16($){$.1n(['2n','2l','1R'],16(i,v){$.2d.8X(v)})})(3A);(16($){$.2d.8T.dO=$.1V($.2d.8T.dO,{ax:'',aC:'',aE:'',be:'',63:'2Z-3z-dd',47:'hY',5o:['','','','','','',''],6e:['','','','','','',''],cY:['','','','','','',''],6N:'',6Q:'',6R:'',5l:['1','2','3','4','5','6','7','8','9','10','11','12'],3H:['','','','','','','','','','','',''],83:'',6V:'',4i:'b2:43',6J:'hZ',7R:'',6Y:'',3E:'',3T:'',bu:'',bt:'',an:'',aA:'',9I:'',9E:'',i0:'',i3:'',i4:'',7d:['','','','','','',''],9K:['','','','','','',''],i5:'',i6:'',i7:'',i8:'',e0:''})})(3A);",62,1127,"|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||if|function|cal|div|that|return|var|class|true|false|getDate|Math|for|else|this|new|push|addClass|each|getMonth|Date|removeClass|on|start|day|length|mbsc|aria|match|dwb|getFullYear|break|hasClass|li|replace|case|data|max|markup|btn|attr|ma|style|val|getYear|px|height|keys|datetime|ka|sa|pa|extend|ms|getDay|prev|span||values|html|||null|ic||display|getTime|width|top|min|mobiscroll|round|va|type|sc|trigger|calendar|event|time|util|date|na|year|sel|100|offset|month|itemHeight|buttons|end|abs|off|index|setTimeout|split|selected|find|next|preventDefault|elm|output|events|format|ra|role|css|scroll|classes|week|ta|label|preset|headerText|tap|mousedown|theme|parts2|wheels|yy||||dwwl||parts1||ul||mouseup|call|Ga|has3d|click|qa|valid|in|settings|Ia|instances|mind|steps|scrolled|setDate|nh|slice|constrain|isModal|Ca|_hasValue|handler|text|get|cell|ja|mm|jQuery|la|getCoord|target|pmText|left|getHours|monthNames|Ra|nw|color|tabindex|wg|Pa|bottom|id|snap|wnd|button|amText|disabled|step|ss|_tempWheelArray|formatDate|ret||empty||ii|removeAttr||maxs|dateOrder|closest|doAnim|Ha|focus|cancel|maxd|moved|defaults|pnl|touchstart|timeFormat|popup|arrow|full|touchend|_tempValue|oa|200|parseDate|hours|live|stop|toLowerCase|getNumber|dist|iFormat|floor|set|_id|hasFlex|init|outerHeight|nr|apply|st|ua|Da|scroller|La|xa|temp|invalid|scrollLock|modalHeight|txt|bubble|def|getArrayVal|maxDate|minDate|idx|ctx|literal|ord||refresh|pr|matrix|inline||_isVisible|slide|addWheel||while|dist1|Aa|onBtnEnd|Qa|charAt|lang|setValue|Ta|validValues|300|monthNamesShort|isString|tord|dayNames|ampm|controls|testTouch|persp|v2|v1|prop2|prop1|typeof|test|stepM|userdef|hidden|hampm|dord|context|iv|mins|tapped|Za|cssClass|stopPropagation|getMinutes|document|value|anchor|dist2|hide|arr|formatResult|arrw|parseValue|getVal|outerWidth|Ja|ya|window||liquid|touchmove|dateFormat|keydown|getArray|lb|getSeconds|_isInput|look|toDateString|all|maxdays|remove|dayNamesShort|clear|now|prefix|show|toUpperCase|daySuffix|is|stepH|MM|out|isValid|isScrollable|row|rtl|sl|innerWidth|zeroBased|prevValid|lines|themes|modalWidth|pos|rows|presets|search|minM|keyCode|iValue|delete|onShow|timeWheels|jsPrefix|anim|table|dayText|endYear|startYear|hourText|minuteText|layout|dwc|ScrollView|secText|_isFullScreen|tabs|nowText|RegExp|minw|totalw|sort|active|multiple|scrollToPos|cell2|input|cells|_value|position|onPosition|za|labels|Xa|Ea|isArray|onHide|ariaMessage|minWidth|contSize|maxScroll|background|calc|prototype|lookAhead|unshift|mousemove|firstDay|getName|setGlobals|nb|changing|html5def|needsSlide|timer|destroy|body|btnCalNextClass|btnCalPrevClass|preventShow|stepS|select|pb|Transform|setReadOnly|sb|posEvents|minH|nextValid|setVal|defaultValue|hours3|yearText|getMax|trans|showLabel|_isLiquid|getComputedStyle|wb|elastic|minS||Transition|weekDays|monthText|mon|translate3d|isReadOnly|mode|testProps|animationend|checkLiteral|ios7|btnWidth|ob|res|monthSuffix|handlers|clearTimeout|substr|dwa|Na|Bb|onMove|timeUnit|onEnd|tb|_wheelArray|speed|num|ddTHH|minScroll|tindex|switch|mb|Fa|inst|modal|speedUnit|touchcancel|_readValue|ampmText|getIndex|maxprop|prop|maxWidth|minprop|hours2|highlight|tbl|hformat|divergentDayChange|yb|needsRefresh|doy|tr|i18n|_defaults|selectedValues|dwwb|presetShort|liq|icon|Year|onMarkupReady|separator|Wa|diff|order|parseInt|control|nhl|onBtnStart|wasReadOnly|tab|preventPos|hours1|add|btnw|readonly|appendTo|hasButtons|animEnd|wrapper|Moz|Scroller|webkitAnimationEnd|getMaxDayOfMonth|DD|xb|setHours|line|prepareObj|header|Widget|isOldAndroid|multiSelect|maxSnapScroll|getValidCell|dwtd|Ib|breakpoint|maxS|toText|maxM|getValidIndex|generateWheelItems|fromText|readOnly|labelsShort|pixels|ceil|isVisible|hasTime|touch|fixedWidth|selectedLineHeight|selectedLineBorder|string|dwwms|maxH|_processSettings|dwsw|onMonthLoaded|wa|curr|ready|splice|parentClass|isNumeric|nrs|validateTimes|months|btnc|startY||validateDates|isInObj|1000|join|getValid|btnPlusClass||dwv|page|_attachEvents|||calendarText|rb||getPosition|navigate|btnMinusClass||_fillValue|Month||setText|Ba|Va|closeText|validate|cancelText|showOnTap|clearText|axis|yearSuffix|showOnFocus|onWndKeyDown|down|posDebounce|elmList|wndHeight|wndWidth|_preventChange|spec|seconds|_generateContent|minutes|up|onGenMonth|object|calendarClass|convertRanges|nbsp|arrl|plus|components|HH|minus|overlay|clearInterval|startTime|setArrayVal|getDayProps|zb|||kb|_markupReady|selectedText||ub|ariaLabel|prevdef|selectType|stepMinute|getWeekNumber|nextYearText|prevYearText|Next|nextMonthText|Previous|prevMonthText|todayText|timeText|dateText|yearMonth|navigation|quickNav|dir|slideNr|load|callback|liveSwipe|swipe|preMonths|onMonthChange|maxMonthWidth|addEventListener|onDayChange|ransform|onSelectShow|focusOnClose|snap1|snap2|Sa|ib|activeElement|innerHeight|momentum|activeClass|scrollTop|cancelAnimationFrame|requestAnimationFrame|ios|changedTouches|originalEvent|auto|280|showDivergentDays|days|th|multiline|keyup|_dw_pnl_|append|margin|||dwbtn|calendarHeight|tabbed|onCalResize|objectToArray|td|hhiiA|cellspacing|cellpadding|Day|Hours|Minutes|inArray|Seconds|Now|864E5|ssZ|local|mmyy|arguments|hour|stepHour|minute|calbase|second|stepSecond|onValidated|attachShow|ease|transform|formatHeader|my|onCancel|onClear|firstSelectDay|delay|eventText|eventsText|detail|365|wheelDelta|onScroll|onKeyUp|marked|transparent|closeOnSelect|shortYearCutoff|May|dayNamesMin|86400000|default|onKeyDown|dwwbp|ttop|digits|onBeforeShow|baseTheme|getCurrentPosition|onStart|dwo|||orig||component|getHour|getMinute||getSecond|getAmPm|dwwr|regen|defd|right5||left5|up5|down5|checkmark|ion|checkIcon|dwcc||getClosestValidDate||change|_class|onThemeLoad|testPrefix|mod|getInst|option|_isValid|btnClass|closeOnOverlay|_markup|_header|activeInstance|DOMMouseScroll|mousewheel|zh|ndash|dwwbm|arrayToObject|moveElement|dwfl|mmddy|setDefaults|Today|msT|offsetWidth|600px|hideText|dwwc|dwhl|OT|dwsc|offsetHeight|dwpm|offsetLeft|offsetTop|changeWheel|||onBtnTap|Calendar|getValue|Time|_getVal|inv|MozT|version|try|_setVal|||catch|onValueFill||menustrip|listview|Min|Short||weekCounter||white|space|nowrap|onChange|webkitT|scrollHeight|userAgent|textarea|onSelect|calendarWidth|toFixed|vertical|moz|swipeDirection|size|WebkitBoxDirection|6048E5|msFlex|blur|innerDayClass|multiInst|scrollLeft|enable|Yrs|Mths|Days|Hrs|Mins|Secs|||onDayHighlight|Start|numpad|End|0022|activeTabClass|flex|||setInterval|msPerspective|backgroundColor|rgb||rgba|130|299|587|114|000||fff|list|1E3|activeTabInnerClass|dur|disabledClass|frame|onEventBubbleShow|onEventSelect|120|right6|pageshow|markedDisplay|markedText|navigator|OPerspective|backspace3|border|deleteIcon|eventTextClass|title|shadow|none|addValue|removeValue|setValues|getValues|addEvent|removeEvent|getEvents|setEvents|useShortLabels|counter|eventBubbleClass|not|parent|January|February|March|April|June|July|August|September|October|November|December|Jan|||Feb|Mar|Apr|Jun|Jul|Aug||Sep|Oct|Nov|Dec|Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat|pm|left6|MMdyy|MozPerspective|WebkitPerspective|perspectiveProperty|modernizr|400|createElement|toString|08|android|onValueTap|disable|slidedown|slideup|Array|no3d|0012|shift|001|right|mmddyy|old|clickpick|nobtn|_selectedValues|parseFloat|dialog|multi|weeks|ml|ym|ltr|today|||dayClass|assertive|mouseover|170|first||weekNrClass|dwwol|short||tablist|dwwo|MMddyy|transitionend|Clear|Cancel|Close|Selected|Webkit|href|Set|onInit|Text|animate|before|webkitTransitionEnd|dwbc|onTabChange|scrollview|dww|onDestroy|500|dwbw|onClose|dwww|listbox|1024|640|last|selectstart|onMarkupInserted|insertAfter|orientationchange|resize|children|dwl|mdy|onSetDate|yymmdd|HHii|wholeText|||fractionText|unitText|startText|stopText|resetText|lapText|font|".split("|"),0,{}));(function(e){if(e.browser){return}e.browser={};e.browser.mozilla=false;e.browser.webkit=false;e.browser.opera=false;e.browser.msie=false;var d=navigator.userAgent;e.browser.name=navigator.appName;e.browser.fullVersion=""+parseFloat(navigator.appVersion);e.browser.majorVersion=parseInt(navigator.appVersion,10);var a,c,b;if((c=d.indexOf("Opera"))!=-1){e.browser.opera=true;e.browser.name="Opera";e.browser.fullVersion=d.substring(c+6);if((c=d.indexOf("Version"))!=-1){e.browser.fullVersion=d.substring(c+8)}}else{if((c=d.indexOf("MSIE"))!=-1){e.browser.msie=true;e.browser.name="Microsoft Internet Explorer";e.browser.fullVersion=d.substring(c+5)}else{if((c=d.indexOf("Chrome"))!=-1){e.browser.webkit=true;e.browser.name="Chrome";e.browser.fullVersion=d.substring(c+7)}else{if((c=d.indexOf("Safari"))!=-1){e.browser.webkit=true;e.browser.name="Safari";e.browser.fullVersion=d.substring(c+7);if((c=d.indexOf("Version"))!=-1){e.browser.fullVersion=d.substring(c+8)}}else{if((c=d.indexOf("Firefox"))!=-1){e.browser.mozilla=true;e.browser.name="Firefox";e.browser.fullVersion=d.substring(c+8)}else{if((a=d.lastIndexOf(" ")+1)<(c=d.lastIndexOf("/"))){e.browser.name=d.substring(a,c);e.browser.fullVersion=d.substring(c+1);if(e.browser.name.toLowerCase()==e.browser.name.toUpperCase()){e.browser.name=navigator.appName}}}}}}}if((b=e.browser.fullVersion.indexOf(";"))!=-1){e.browser.fullVersion=e.browser.fullVersion.substring(0,b)}if((b=e.browser.fullVersion.indexOf(" "))!=-1){e.browser.fullVersion=e.browser.fullVersion.substring(0,b)}e.browser.majorVersion=parseInt(""+e.browser.fullVersion,10);if(isNaN(e.browser.majorVersion)){e.browser.fullVersion=""+parseFloat(navigator.appVersion);e.browser.majorVersion=parseInt(navigator.appVersion,10)}e.browser.version=e.browser.majorVersion})(jQuery);var PermissionType_READONLY=1;var PermissionType_MODIFY=2;var PermissionType_HIDDEN=3;var PermissionType_DISABLED=4;var PermissionType_PRINT=5;function getOtherProps(d){var e=jQuery("[moduleOtherAttrs='"+d+"']")[0],f=e.attributes,a,c="";for(var b=0;b<f.length;b++){a=f[b];if(a.specified&&a.name.toLowerCase()!="moduleotherattrs"&&a.name!="type"&&a.value!=""&&a.name.toLowerCase().indexOf("jquery")==-1){c+=" "+a.name+"='"+a.value+"'"}}jQuery(e).remove("input");return c}function getOtherAttrs(d){var e=d.attributes,a,c="";for(var b=0;b<e.length;b++){a=e[b];if(a.specified&&a.name.toLowerCase()!="moduletype"&&a.name.toLowerCase()!="classname"&&a.name.toLowerCase()!="discript"&&a.name.toLowerCase()!="style"&&a.name.toLowerCase()!="class"&&a.name.toLowerCase()!="value"&&a.name!="type"&&a.value!=""&&a.name.substr(0,1)!="_"&&a.name.toLowerCase().indexOf("jquery")==-1){c+=" "+a.name+"='"+a.value+"'"}}return c}function loadPedding(){jQuery(".ElementDiv").each(function(a){jQuery(this).load(jQuery(this).attr("src"),{index:a},function(){jQuery("[moduleType='pending']").obpmPending()})})}function jqRefactor(){try{var a=jQuery("input[moduleType='activityButton']");if(a.size()!=0){a.obpmButton()}jQuery("input[moduleType='IncludedView']").filter(function(){return(jQuery(this).parents("div[moduleType='TabNormal']").size()==0)}).obpmIncludedView();jQuery("div[moduleType='TabNormal']").filter(function(){return(jQuery(this).parents("div[moduleType='TabNormal']").size()==0)}).obpmTabNormalField();jQuery("ul[moduleType='TabCollapse']").filter(function(){return(jQuery(this).parents("ul[moduleType='TabCollapse']").size()==0)}).obpmTabCollapseField();jQuery("input[moduleType='formActivityButton']").obpmButtonField();jQuery("span[moduleType='select']").obpmSelectField();jQuery("input[moduleType='input']").obpmInputField();jQuery("textarea[moduleType='textarea']").obpmTextareaField();jQuery("span[moduleType='radio']").obpmRadioField();jQuery("span[moduleType='checkbox']").obpmCheckbox();jQuery("select[moduleType='department']").obpmDepartmentField();jQuery("input[moduleType='viewDialog']").obpmViewDialog();jQuery("input[moduleType='treeDepartment']").obpmTreeDepartmentField();jQuery("input[moduleType='takePhoto']").obpmTakePhoto();jQuery("select[moduleType='selectAbout']").obpmSelectAboutField();jQuery("input[moduleType='dateinput']").obpmDateField();jQuery("input[moduleType='userfield']").obpmUserfield();jQuery("input[moduleType='suggest']").obpmSuggestField();jQuery("span[moduleType='uploadFile']").obpmUploadField();jQuery("textarea[moduleType='htmlEditor']").obpmHtmlEditorField();jQuery("div[moduleType='flowHistoryField']").obpmFlowHistoryField();jQuery("input[moduleType='weixingpsfield']").obpmWeixinGpsField();jQuery("input[moduleType='surveyField']").obpmSurveyField();jQuery("input[moduleType='weixinrecordfield']").obpmWeixinRecord();jQuery("input[moduleType='qrcodefield']").obpmQRCodeField()}catch(b){alert(b)}}var isRefreshLoading=false;var dy_token=true;function dy_getFormid(){return formid}function dy_getValuesMap(b){jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var e={};var a="";var f=new Array();if(jQuery("#dy_refreshObj").size()>0){a=jQuery("#dy_refreshObj").attr("mapVal")}if(a){f=a.split(";")}if(document.getElementsByName("_selects")){var d=getCheckedListStr("_selects");e._selectsText=(d&&d!=null)?d:""}for(var c=0;c<f.length;c++){e[f[c]]=ev_getValue(f[c])}if($("input[name='parentid']").length>0&&b){e.parentid=$("input[name='parentid']").val()}if($("input[name='application']").length>0){e.application=$("input[name='application']").val()}return e}function formOneRow(){$("body").append("<div id='text-width' style='display:none'>"+$(this).text()+"</div>");var a=$("#_formHtml label.field-title");a.each(function(){if($(this).parent(".formfield-wrap[id^='weixinImageUpload']").size()==0){var b=$("#text-width").width();if(b<$(window).width()/2){$(this).addClass("field-title-left");$(this).next().addClass("contactField-right");$(this).parent(".formfield-wrap").addClass("formfield-wrap-box")}}$("#text-width").html("")})}function dy_refresh(actfield){var $dy_refreshObj=jQuery("#dy_refreshObj");var formid=$dy_refreshObj.attr("formid");var docid=$dy_refreshObj.attr("docid");var userid=$dy_refreshObj.attr("userid");var flowid=$dy_refreshObj.attr("flowid");try{if(dy_token){if(typeof FormHelper!="undefined"){dy_token=false;showLoadingToast();isRefreshLoading=true;if(document.getElementById("tabid")){var _tabid=document.getElementById("tabid").value}FormHelper.refresh(_tabid,formid,actfield,docid,userid,dy_getValuesMap(true),flowid,function(str){try{eval(str);jQuery("#flowprocessDiv").hide();jqRefactor();if($(".refreshItem").find("iframe").size()>0){$(".refreshItem").find("iframe").each(function(){$(this).height($(this).parent("span").height())})}$(".refreshItem").css("height","auto").removeClass("refreshItem")}catch(ex){alert("form: "+ex.message)}hideLoadingToast();isRefreshLoading=false;dy_token=true})}}}catch(ex){hideLoadingToast();isRefreshLoading=false;alert("form: "+ex.message)}}(function(a){a.fn.obpmInputField=function(){return this.each(function(){var p=jQuery(this);var m=p.attr("_id");var v=p.attr("_name");var b=p.attr("_textType");var h=p.attr("_isBlank");var j=p.attr("_isBorderType");var d=p.attr("_fieldType");var q=p.attr("_fieldKeyEvent");var f=p.attr("_displayType");var s=p.attr("_hiddenValue");var c=p.attr("_isRefreshOnChanged");var e=p.attr("_cssClass");var u=p.attr("_title");var r=p.attr("style");var t=p.attr("_subGridView");var l=p.attr("_discript");h=(h=="true");c=(c=="true");if(r){r=r.replace(/"([^"]*)"/g,"$1")}var o=p.attr("value");o=o?o:"";l=l?l:v;var g="";if(f==PermissionType_HIDDEN||b.toLowerCase()=="hidden"){g="<input type='hidden' name='"+v+"' id='"+m+"' value='"+o+"' />";this.parentNode.innerHTML=g}else{if(o&&o!=""){o=o.replace(/"/g,"&quot;")}else{if(d=="VALUE_TYPE_NUMBER"){o="0"}}if(!u){u=""}else{if(u!=""){u=u.replace(/"/g,"&quot;")}}g+="<div class='formfield-wrap'><label class='field-title contact-name' for='"+v+"'>"+l+"</label>";if(b=="tel"&&o.length>0){g+='<table width="100%"><tr><td width="95%">'}g+="<input class='contactField requiredField' type=";if(!h){if(b.toLowerCase()=="password"){g+='"password"'}else{if(d=="VALUE_TYPE_NUMBER"){g+='"number"'}else{if(b=="tel"){g+='"text"'}else{g+='"text"'}}}}else{g+='"text"'}if(b=="tel"&&o.length>0){g+=' id="'+v+'" name="'+v+'" value="'+o+'" style="width: 100%; height: 32px; border: 1px solid rgba(0,0,0,.2); border-radius:3px;" data-enhance="false"'}else{if(b=="tel"){g+=' id="'+v+'" name="'+v+'" value="'+o+'" style="background:url(../../phone/resource/main/images/tel.png) no-repeat;background-position:right center; background-size:28px 28px;" data-enhance="false"'}else{g+=' id="'+v+'" name="'+v+'" value="'+o+'" data-enhance="false"'}}if(c){if(t){g+=' onchange="dy_view_refresh(this.id)"'}else{g+=' onchange="dy_refresh(this.id)"'}}g+=" /></div>";if(b=="tel"&&o.length>0){g+='</td><td width="5%"><a href="tel:'+o+'"><span style="width:32px; height:32px; margin:5px; display:block;background:url(../../phone/resource/main/images/tel.png) no-repeat;  background-size:32px 32px;"></span></a></td></tr></table>'}var n=a(g);if(b.toLowerCase()=="readonly"||f==PermissionType_READONLY||f==PermissionType_DISABLED){if(j=="true"){n.find("input").attr("type","hidden").css("display","none");n.append("<div id='"+v+"_show' class='showItem'>"+o+"</div>")}else{n.find("input").attr("readonly","readonly").css({"background-color":"rgb(239, 239, 239)",color:"#333"})}}n.bind("change",function(){if(c){if(t){dy_view_refresh(this.id)}else{dy_refresh(this.id)}}}).replaceAll(p)}})}})(jQuery);(function(a){a.fn.obpmButtonField=function(){return this.each(function(){var e=jQuery(this);var f=e.attr("value");var b=e.attr("activityType");if((b=="29"||b=="43")&&typeof DisplayView=="object"&&DisplayView.getTheView(this)){e.remove();return}switch(b){case"2":activityCss="btn-positive";break;case"3":activityCss="btn-negative";break;case"4":case"42":activityCss="btn-positive";break;case"5":activityCss="";break;case"10":activityCss="";break;case"11":case"34":activityCss="btn-primary";break;default:activityCss="";break}if(b!="5"&&(b==2||b==3||b==4||b==8||b==10||b==34||b==11||b==13||b==21||b==42||b==19)){var c=this.onclick;var d=jQuery("<a class='"+b+" btn "+activityCss+" btn-block' data-transition='fade'>"+f+"</a>").click(c);d.insertAfter(e);e.remove()}else{if(b!="5"){e.remove()}}})}})(jQuery);(function(a){a.fn.obpmTextareaField=function(){return this.each(function(){var n=jQuery(this);var e=n.attr("_id");var p=n.val();var c=n.attr("_name");var t=n.attr("_cssClass");var f=n.attr("classname");var m=n.attr("_isRefreshOnChanged");var l=n.attr("_fieldType");var o=n.attr("_isBorderType");var b=n.attr("style");var h=n.attr("_displayType");var g=n.attr("_hiddenValue");var s=n.attr("_subGridView");var q=n.attr("_discript");p=p?p:"";m=(m=="true");q=q?q:c;var j="";var r="";var d="";if(h==PermissionType_HIDDEN){j+="<textarea style='display:none' name='"+c+"'>"+p+"</textarea>"}else{if(h==PermissionType_READONLY||h==PermissionType_DISABLED){j+="<div class='formfield-wrap'><label class='field-title contact-name' for='"+c+"'>"+q+"</label>";if(o=="true"){j+="<div id='"+c+"_show' class='showItem'>"+p+"</div>"}j+="<textarea rows='5' class='contactField requiredField' readonly='readonly' style='";if(o=="true"){j+=";display:none;"}j+="background-color:#fdfdfd;color: #333;' name='"+c+"' id='"+c+"' data-enhance='false'>"+p+"</textarea></div>"}else{j+="<div class='formfield-wrap'><label class='field-title contact-name' for='"+c+"'>"+q+"</label>";j+="<textarea rows='5' class='contactField requiredField' ";j+='id="'+c+'" name="'+c+'" ';if(m){if(s){j+=' onchange="dy_view_refresh(this.id)"'}else{j+=' onchange="dy_refresh(this.id)"'}}j+=" data-enhance='false'>";j+=p;j+="</textarea></div>"}}n.after(j);n.remove()})}})(jQuery);(function(a){a.fn.obpmCheckbox=function(){return this.each(function(){var l=jQuery(this);var c=l.attr("_name");var f=l.attr("_displayType");var j=l.attr("_textType");var h=l.attr("_isRefreshOnChanged");var d=l.attr("classname");var n=l.attr("_class");var b=l.attr("_getLayout");var m=l.attr("_discript");var e=l.attr("_hiddenValue");var g="";m=m?m:c;h=(h=="true");g+="<div class='formfield-wrap' ";if(f==PermissionType_HIDDEN){g+=" style='display:none;'"}g+="><label class='field-title contact-name' for='"+c+"' >"+m+"</label><div class='radio-box contactField requiredField'>";l.find("span").each(function(r){var p=jQuery(this);var t=p.attr("value");var v=p.attr("text");var o=p.attr("checkedListSize");var q=p.attr("isDef");var s=p.attr("checkedListContains");var u="";u+="<div class='radio-list'><input data-enhance='false' type='checkbox' id='"+c+(r+1)+"' value=\""+t+"\" text='"+v+"' name='"+c+"' ";if(j&&j.toLowerCase()=="readonly"||f==PermissionType_DISABLED||f==PermissionType_READONLY){u+=" disabled='disabled'"}if(h){u+=" onclick='dy_refresh(this.id)'"}if(f==PermissionType_HIDDEN){u+=" style='display:none;'"}if(o>0&&s=="true"||q=="true"){u+=" checked='true'"}u+="/>";u+="<label style='display:inline' for='"+c+(r+1)+"' ";if(f==PermissionType_HIDDEN){u+=" style='display:none;'"}u+=">"+v+"</label>";if(b!=""&&b.toLowerCase()=="vertical"){u+="<br/>"}g+=u;g+="</div> "});g+="</div></div>";if(f==PermissionType_HIDDEN){g+=e}l.after(g);l.remove()})}})(jQuery);(function(a){a.fn.obpmRadioField=function(){return this.each(function(){var n=jQuery(this);var d=n.attr("_id");var c=n.attr("_name");var l=n.attr("_isRefreshOnChanged");var f=n.attr("classname");var q=n.attr("_cssClass");var h=n.attr("_displayType");var m=n.attr("_textType");var e=n.attr("_valueList");var o=n.attr("_discript");var g=n.attr("_hiddenValue");var b=n.attr("_getLayout");l=(l=="true");o=o?o:c;var j="";var p="";j+="<div class='formfield-wrap'";if(h==PermissionType_HIDDEN){j+=" style='display:none;'"}j+="><label class='field-title contact-name' for='"+c+"' >"+o+"</label><div class='radio-box contactField requiredField'>";n.find("span").each(function(u){var r=jQuery(this);var v=r.attr("value");var w=r.attr("get0ption");var t=r.attr("getValue");var s=r.attr("isDef");s=(s=="true");j+="<div class='radio-list'><input data-enhance='false' type='radio' id='"+c+(u+1)+"' value=\""+v+"\" name='"+c+"' class='"+q+"' ";if(h==PermissionType_HIDDEN){j+=" style='display:none;'"}if(l){j+=" isRefreshOnChanged='true' onclick='dy_refresh(this.id)'"}if(m&&m.toLowerCase()=="readonly"||h==PermissionType_DISABLED||h==PermissionType_READONLY){j+=" disabled='disabled'"}if(e!="null"){if(e.split(";")[0]==t){p=t;j+=" checked ='checked' "}}else{if(s){p=t;j+=" checked ='checked' "}}j+=" />";j+="<label style='display:inline' for='"+c+(u+1)+"' ";if(h==PermissionType_HIDDEN){j+=" style='display:none;'"}j+=">"+w+"";j+="</label></div> "});j+="</div></div>";n.after(j);n.remove()})}})(jQuery);(function(a){a.fn.obpmSelectField=function(){return this.each(function(){var o=jQuery(this);var d=o.attr("_id");var c=o.attr("_name");var p=o.children().html();var m=o.attr("_isRefreshOnChanged");var n=o.attr("_textType");var h=o.attr("_displayType");var l=o.attr("_fieldType");var b=o.attr("style");var r=o.attr("_subGridView");var q=o.attr("_discript");var f=o.attr("_hiddenValue");var e=o.attr("onchange");m=(m=="true");r=(r=="true");q=q?q:c;if(b){b=b.replace(/"([^"]*)"/g,"$1")}var j="";var g="";if(e){o.removeAttr("onchange");if(e.indexOf("'")>=0||e.indexOf('"')>=0){alert("onchange");e=""}}else{e=""}if(r){o.removeAttr("subGridView")}j+="<div class='formfield-wrap'><label class='field-title contact-name' for='"+c+"' >"+q+"</label>";j+="<div class='select-box'";if(h==PermissionType_READONLY||n.toLowerCase()=="readonly"||h==PermissionType_DISABLED||n.toLowerCase()=="disabled"){j+=" style='display:none;'"}j+="><select class='contactField requiredField'";j+=" id='"+c+"' data-enhance='false' name='"+c+"' fieldType='"+l+"' ";if(m){if(r){e+=';dy_view_refresh("'+d+'")'}else{e+=';dy_refresh("'+d+'")'}}j+=" onchange='"+e+"'";j+=' style="';if(b){j+=b+";"}if(n.toLowerCase()=="hidden"||h==PermissionType_HIDDEN){j+=" display:none;"}j+='"';if(h==PermissionType_READONLY||n.toLowerCase()=="readonly"||h==PermissionType_DISABLED||n.toLowerCase()=="disabled"){j+=" disabled";g+="<div id='"+c+"_show' class='showItem'>"}j+=">";o.find("span").each(function(){$option=jQuery(this);var t=$option.attr("isSelected");var v=$option.attr("value");var u=$option.html();var s=$option.attr("cssClass");t=t=="true"?true:false;v=v?v:"";var w='<option value="'+v+'" class="'+s+'"';if(t){w+=' selected="true"';g+=v}w+=" >"+u+"</option>";j+=w});if(h==PermissionType_READONLY||n.toLowerCase()=="readonly"||h==PermissionType_DISABLED||n.toLowerCase()=="disabled"){g+="</div>"}j+="</select><i class='icon icon-down'></i></div>";if(h==PermissionType_READONLY||n.toLowerCase()=="readonly"||h==PermissionType_DISABLED||n.toLowerCase()=="disabled"){j+=g}j+="</div>";if(h==PermissionType_HIDDEN){j+="<span>"+f+"</span>"}if(n.toLowerCase()=="hidden"||h==PermissionType_HIDDEN){o.parent().hide()}else{o.parent().show()}o.parent().html(j).find("select").css("width","100%")})}})(jQuery);(function(a){a.fn.obpmDateField=function(){return this.each(function(){var w=jQuery(this);var s=w.attr("_id");var H=w.attr("_name");var h=w.attr("_fieldType");var B=w.attr("classname");var d=w.attr("_class");var z=w.attr("limit");var v=w.attr("value");var j=w.attr("_displayType");var c=w.attr("_textType");var A=w.attr("_dateFmt");var D=w.attr("_getPrevName");var F=w.attr("_getPrevNameMinDate");var x=w.attr("_skin");var f=w.attr("_minDate");var m=w.attr("_maxDate");var n=w.attr("_noPatternHms");var g=w.attr("_isRefreshOnChanged");var E=w.attr("_subGridView");var C=w.attr("_hiddenValue");var p=HTMLDencode(w.attr("_discript"));var u,b,G;v=v?v:"";p=p?p:H;if(A=="yyyy"&&A.length==4){u="yy";b="";G=function(I){I.settings.wheels[0].length=1;I.settings.wheels[1].length=0}}if(A=="yyyy-MM"&&A.length==7){u="yy-mm";b="";G=function(I){I.settings.wheels[0].length=2;I.settings.wheels[1].length=0}}if(A=="yyyy-MM-dd"&&A.length==10){u="yy-mm-dd";b="";G=function(I){I.settings.wheels[0].length=3;I.settings.wheels[1].length=0}}if(A=="yyyy-MM-dd HH:mm"&&A.length==16){u="yy-mm-dd";b="HH:ii";G=function(I){I.settings.wheels[0].length=3;I.settings.wheels[1].length=2}}if(A=="yyyy-MM-dd HH:mm:ss"&&A.length==19){u="yy-mm-dd";b="HH:ii:ss";G=function(I){I.settings.wheels[0].length=3;I.settings.wheels[1].length=2}}if(A=="HH:mm:ss"&&A.length==8){u="";b="HH:ii:ss";G=function(I){}}g=(g=="true");D=(D=="true");n=(n=="true");E=(E=="true");var l="";var r="";if(j!=PermissionType_HIDDEN){var q=getOtherAttrs(w[0]);function o(Q){var O=a("#"+F);var K=O.val();var T=O.attr("dateFmt");if(K&&K!=""){f=K}if(!K||K==""){f="1900-01-01 00:00:00"}if(T=="yyyy"&&trim(f).length==4){f=trim(f)+"-01-01 00:00:00"}if(T=="yyyy-MM"&&trim(f).length==7){f=trim(f)+"-01 00:00:00"}if(T=="yyyy-MM-dd"&&trim(f).length==10){f=trim(f)+" 00:00:00"}if(T=="yyyy-MM-dd HH:mm"&&trim(f).length==16){f=trim(f)+":00"}if(T=="HH:mm:ss"&&trim(f).length==8){f="1900-01-01 "+f}var S=jQuery("input[min_name='"+s+"']");var N=S.attr("dateFmt");if(S.size()>0){var U="";var R="";S.each(function(){var Y=jQuery(this).val();var V=jQuery(this).attr("name");if(Y!=""){var X=new Date(Y.replace(/-/g,"/"));var W=new Date(U.replace(/-/g,"/"));U=(X>W)?U:Y;R=(X>W)?R:V}});U;m=U;dateName=R}if(!m||m==""){m="2099-12-31 23:59:59"}if(N=="yyyy"&&trim(m).length==4){m=trim(m)+"-01-01 00:00:00"}if(N=="yyyy-MM"&&trim(m).length==7){m=trim(m)+"-01 00:00:00"}if(N=="yyyy-MM-dd"&&trim(m).length==10){m=trim(m)+" 00:00:00"}if(N=="yyyy-MM-dd HH:mm"&&trim(m).length==16){m=trim(m)+":00"}if(N=="HH:mm:ss"&&trim(m).length==8){m="0000-00-00 "+m}var P=new Date(f.replace(/-/g,"/"));var L=new Date(m.replace(/-/g,"/"));if(P>L){var M=jQuery("#"+F).attr("name");alert(M+"  "+dateName);return false}var J=m.split(/[- :]/);msMaxDate=new Date(J[0],J[1]-1,J[2],J[3],J[4],J[5]);var I=f.split(/[- :]/);msMinDate=new Date(I[0],I[1]-1,I[2],I[3],I[4],I[5]);if(A=="HH:mm:ss"&&A.length==8){Q.unbind().mobiscroll().time({timeFormat:b,theme:"ios",mode:"mixed",display:"bottom",lang:"zh",minDate:msMinDate?msMinDate:null,maxDate:msMaxDate?msMaxDate:null,stepMinute:5,onBeforeShow:G,onSelect:function(){Q.unbind().bind("click",function(){o(jQuery(this))})}}).trigger("click")}else{Q.unbind().mobiscroll().datetime({dateFormat:u,timeFormat:b,theme:"ios",mode:"mixed",display:"bottom",lang:"zh",minDate:msMinDate?msMinDate:null,maxDate:msMaxDate?msMaxDate:null,stepMinute:5,onBeforeShow:G,onSelect:function(){Q.unbind().bind("click",function(){o(jQuery(this))})}}).trigger("click")}return Q.bind("change",function(){if(g){E?dy_view_refresh(a(this).attr("id")):dy_refresh(a(this).attr("id"))}})}if(c.toLowerCase()=="hidden"){l+="<input type='hidden'"}else{l+="<input class='contactField requiredField Wdate' type='text'"}l+=" id='"+s+"' value='"+v+"' limit='"+z+"' name='"+H+"' classname='"+B+"' fieldType='"+h+"' class='"+d+"'";l+=" isRefreshOnChanged='"+g+"' dateFmt='"+A+"' "+q;if(F){l+=' min_name="'+F+'"'}l+=" style='width:100%;";if(j==PermissionType_READONLY||c.toLowerCase()=="readonly"||j==PermissionType_DISABLED){l+="background-color:#fdfdfd;color: #333;' disabled tabIndex='-1";r+="<div id='"+H+"_show' class='showItem'>"+v+"</div>"}l+="' ";l+=" />";if(c.toLowerCase()=="hidden"){w.replaceWith(l);return}var t=a(l);var e=a("<div class='formfield-wrap'></div>");var y="<label class='field-title contact-name' for='"+H+"'>"+p+"</label>";e.append(y);if(j==PermissionType_READONLY||c.toLowerCase()=="readonly"||j==PermissionType_DISABLED){t.css("display","none")}else{if(!E){t.bind("blur",function(){if(typeof(dateCompareVal)=="function"){dateCompareVal(this)}})}t.bind("click",function(){o(jQuery(this))})}e.append(t);e.append(r);e.replaceAll(w)}else{l+="<input type='hidden' name=\""+H+'" value="'+v+'" />'+C+"";a(l).replaceAll(w)}})}})(jQuery);(function(h){var A=true;var w=false;map={};function r(C){var E=C.path.lastIndexOf("/");var D=C.path.lastIndexOf("_/uploads");this.webPath=C.path;if(D>=0){this.webPath=C.path.substring(D+1)}this.realName=C.path.substring(E+1,C.path.length);this.showName=C.name;this.url=contextPath+this.webPath}function c(C,D){this.name=C;this.path=D}function B(C,E,G,H,J,I,K,F){if(C=="clear"){jQuery("#"+E).html("");jQuery("#"+E.substring(E.indexOf("_")+1)).val("")}else{if(C!=""){var D=jQuery("#"+E);D.empty();D.append(o(C,E,G,H,J,I,K,F))}else{jQuery("#"+E).html("");jQuery("#"+E.substring(E.indexOf("_")+1)).val("")}if(jQuery("#"+E).find(".showOptions").size()>0){jQuery("#"+E).parents(".upload-box").find("button[name='btnDelete']").removeAttr("disabled")}else{jQuery("#"+E).parents(".upload-box").find("button[name='btnDelete']").attr("disabled","disabled")}}}function b(J,E,D,H,I,F,C,G){B(J,E,D,H,I,F,C,G);if(H!="false"){if(C){dy_view_refresh(E)}else{window.setTimeout("dy_refresh('"+E.substring(E.indexOf("_")+1)+"')",500)}}}function m(E,H,F,G){var C=jQuery("#"+H+"pic"+E);if(C.size()!=0){var D=encodeURI(encodeURI(contextPath+"/portal/upload/fileInfor.action?applicationid="+G+"&fileFullName="+F));jQuery.post(D,function(I){var J=C.attr("title");C.attr("title",J+I)})}}function o(U,O,N,F,J,C,S,G){var I=[];if(U){I=JSON.parse(U)}var D="";D+='<div class="hidepic" id="'+O+'showFileDiv" style="background:#fff;width:100%;text-align:left;left:0px;top:17px;"></div>';var H="";for(var Q=0;Q<I.length;Q++){var L=new r(I[Q]);H+='<span class="showOptions btn btn-default" style="text-align: left;display:block;position:relative;z-index:1;margin-bottom:5px;">';var P=false;var E=L.showName.substring(L.showName.lastIndexOf(".")).toLowerCase();if(E==".doc"||E==".docx"){H+='<img style="height:16px;" border="0" src="../../../resource/image/word.gif"/>'}else{if(E==".xls"||E==".xlsx"){H+='<img style="height:16px;" border="0" src="../../../resource/image/excel.gif"/>'}else{if(E==".pdf"){H+='<img style="height:16px;" border="0" src="../../../resource/image/pdf.gif"/>'}else{if(E==".jpg"||E==".png"||E==".jpeg"||E==".gif"){H+='<img style="height:16px;" border="0" src="../../../resource/image/image.gif"/>'}else{H+='<img style="height:16px;" border="0" src="../../../resource/image/empty.gif"/>'}}}}var V=L.showName;var E=V.substring(V.lastIndexOf(".")).toLowerCase();var T=V.substring(0,V.lastIndexOf("."));if(T!=null&&T.length>8){V=T.substring(0,7)+".."+T.charAt(T.length-1)+E}H+='<a type="show" style="cursor:pointer;">'+V+"</a>";H+='<div class="showdiv" style="display: inline-block;right: 0px;position: absolute;top: 0px;">';H+='<div style="white-space:nowrap;padding:3px">';if(P){H+='<span type="showOffice" style="cursor:pointer;margin:2px;font-size:12px;" onselectstart="return false;"></span>'}else{if(E==".jpg"||E==".png"||E==".jpeg"||E==".gif"||E==".ceb"){H+='<span type="showPreview" style="cursor:pointer;font-size: 14px;padding: 5px;display: inline-block;" onselectstart="return false;"><a href="#" url="'+I[Q].path+'" ></a></span>'}}H+='<span type="showDownLoad" style="cursor:pointer;font-size: 14px;padding: 5px;display: inline-block;" onselectstart="return false;"></span>';if(!N){H+='<span type="showDelete" style="cursor:pointer;font-size: 14px;padding: 5px;display: inline-block;" onselectstart="return false;"></span>'}H+="</div>";H+="</div>";H+="</span>"}var R=jQuery("#"+O).html(D);R.find(".hidepic").html(H);var M="";R.find(".showOptions").each(function(W){h(this).bind("click mouseover",function(){}).bind("mouseout",function(){})});R.find(".showdiv").each(function(W){h(this).mouseover(function(){h(this).stop().show()});h(this).mouseout(function(){});h(this).find("span").each(function(X){h(this).mousedown(function(af){h(this).css("background","#efe4b3");var ac=h(this).attr("type");var aa=new r(I[W]);if(ac=="showPreview"){var ad=h(this).find("a");var Z=aa.webPath;var ae=aa.showName;var ab=contextPath+Z;var Y=ae.substring(ae.lastIndexOf(".")).toLowerCase();if(Y==".png"||Y==".jpg"||Y==".gif"||Y==".jpeg"){t(ab)}else{if(Y==".ceb"){z(ab,ae)}else{ad.target="_blank";ad.href=ab;ad.triggerHandler("click")}}}else{if(ac=="showDownLoad"){var ae=aa.showName;var ab=aa.webPath;downloadFile(ae,ab)}else{if(ac=="showDelete"){j(W,O,F,J,C,S,G)}else{if(ac=="showOffice"){l(aa.showName,aa.webPath)}}}}h(this).css("background","#ffffff")})})});R.find("a[type='deleteOne']").each(function(W){h(this).click(function(){j(W,O,F,J,C,S,G)})});R.find("a[type='showpic']").each(function(W){m(W,O,I[W].path,J)});R.find("a[type='showword']").each(function(W){h(this).click(function(){var Y=h(this).attr("showName");var X=h(this).attr("url");x(this,Y,X,N)})});R.find(".showpic1").each(function(){h(this).click(function(){var X=h(this).attr("showName");var W=h(this).attr("url");x(this,X,W,N)})});var K;R.mouseover(function(){if(K){window.clearTimeout(K)}});D="";h(document).bind("mousedown",function(W){})}function l(F,E){var C=encodeURI(encodeURI(contextPath+"/portal/phone/resource/component/upload/preview.jsp?fileName="+F+"&path="+E));var D=window.open(C,"_blank");D.location.href=C}function g(E){var C=h("<pre>").hide().appendTo(document.body);h(C).html(E);var D=C.width();C.remove();return D}function j(G,D,I,L,K,N,F){if(confirm("")){var C=[];var J="";var E=jQuery("#"+D.substring(D.indexOf("_")+1)).val();var H=jQuery("#"+D.substring(D.indexOf("_")+1));C=JSON.parse(H.val());var M=C[G].path;C.splice(G,1);if(C.length>0){J=JSON.stringify(C)}H.val(J);jQuery.ajax({type:"POST",async:false,url:encodeURI(encodeURI(contextPath+"/portal/upload/deleteOne.action?fileFullName="+M)),dataType:"text",data:jQuery("#document_content").serialize(),success:function(O){b(J,D,false,I,L,K,N,F);J=""},error:function(O){jQuery("#"+D.substring(D.indexOf("_")+1)).val(E)}})}}function d(D,E,H,I,J,L,N,M,O){if(jQuery.trim(D)!=""&&D!="clear"){var G=JSON.parse(D);D=G[0].path;var K="";var F=D.lastIndexOf("_/uploads");var C=D;if(F>=0){C=D.substring(F+1)}K+="<div>";if(M=="dialog"){K+='<a id="'+E+'pic0" href="#" class="showhidefilepic"  rel="lightbox" title="'+D.substring(D.lastIndexOf("/")+1)+'; ">'}else{K+='<a id="'+E+'pic0" href="#" href="'+C+'"  rel="lightbox" title="'+D.substring(D.lastIndexOf("/")+1)+'" target="_blank">'}if(D.indexOf("pdf")==-1){K+='<img  src="../../..'+C+'" width='+I+" height="+H+' border="0" />'}else{K+="<font size=2 color=red>"+D.substring(D.lastIndexOf("/")+1)+"</font>"}K+="</a>";K+="&nbsp;&nbsp;";K+="</div>";$content=jQuery("#"+E).html(K);$content.find(".showhidefilepic").click(function(){x(this,D.substring(D.lastIndexOf("/")+1),C,J)});$content.find(".showhidefilepic").each(function(){m(0,E,D,N)})}else{jQuery("#"+E).html("")}}function y(C,D,E,F,G,H,J,I,K){d(C,D,E,F,G,H,J,I,K);if(H!="false"){if(K){dy_view_refresh(D)}else{window.setTimeout("dy_refresh('"+D.substring(D.indexOf("_")+1)+"')",500)}}}function u(D,C){OBPM.dialog.show({opener:window.parent.parent,width:1000,height:580,url:D,args:{},title:C,close:function(E){}})}function z(C){var D=window.open(C,"_blank");D.location.href=C}function x(H,F,G,D){var E="";var C=F.substring(F.lastIndexOf(".")).toLowerCase();if(C==".doc"||C==".docx"||C==".xls"||C==".xlsx"){E=contextPath+"/portal/dynaform/document/doViewWordFile.action";OBPM.dialog.show({opener:window.parent.parent,width:1000,height:550,url:E,args:{webPath:contextPath+G,readonly:D},title:F,close:function(I){}})}else{E=contextPath+G;H.target="_blank";H.href=E;H.triggerHandler("click")}}function t(D){h("body").append('<div id="showImageDialog"></div>');var C=h("#showImageDialog");C.css({display:"none",position:"fixed","z-index":"999",top:"0px",right:"0px",bottom:"0px",left:"0px"});C.append('<div style="filter:alpha(opacity=70);-moz-opacity:0.7;-khtml-opacity: 0.7;position: fixed; z-index: 101; top: 0px; right: 0px; bottom: 0px; left: 0px; opacity: 0.7; background-color: rgb(0, 0, 0);"></div>');C.append('<div id="imageClose" style="color: rgb(255, 255, 255); padding: 4px 10px ;  background-color: rgb(0, 0, 0);cursor: pointer;right: 0px;position: absolute;z-index:104;font-size:20px;">x</div>');var E='<div style="position: absolute; width: 300%; height: 100%; left: -100%;">';E+='<img style="position: absolute; z-index: 102; margin: auto; width: auto; top: 0px; right: 0px; bottom: 0px; left: 0px; display: block; cursor: pointer; max-width: 32%; max-height: 95%;" src="'+D+'"/>';E+="</div>";C.append(E);h("#imageClose").mouseover(function(F){h("#imageClose").css("background-color","rgb(55, 55, 55)")});h("#imageClose").mouseout(function(F){h("#imageClose").css("background-color","rgb(0, 0, 0)")});h("#imageClose").click(function(F){h("#showImageDialog").fadeOut(50,function(){C.remove()})});h("#showImageDialog").fadeIn(50)}function f(D,C,H){if(confirm("")){var G="";if(D.val()!=""){var F=JSON.parse(D.val());for(var E=0;E<F.length;E++){G+=F[E].path+";"}if(G.length>1){G=G.substring(0,G.length-1)}}this.url=contextPath+"/portal/upload/delete.action?fileFullName="+G;G="";q(D,C,url)}}function v(D,C,E){this.url=contextPath+"/core/upload/delete.action?applicationid="+E+"&fileFullName="+D.val();q(D,C,url)}function q(E,D,C){var F=jQuery("#"+D).html();var G=jQuery("#"+D.substring(D.indexOf("_")+1)).val();jQuery("#"+D).html("");jQuery("#"+D.substring(D.indexOf("_")+1)).val("");jQuery.ajax({type:"POST",async:false,url:encodeURI(url),dataType:"text",data:jQuery("#document_content").serialize(),success:function(H){if(jQuery("#"+D).find(".showOptions").size()<=0){jQuery("#"+D).parents(".upload-box").find("button[name='btnDelete']").attr("disabled","disabled")}},error:function(H){jQuery("#"+D).html(F);jQuery("#"+D.substring(D.indexOf("_")+1)).val(G)}})}function e(D,F,J,G,E,H,K,L){var C=contextPath+"/core/upload/upload.jsp?path="+D+"&applicationid="+L;var I=jQuery("#"+F);OBPM.dialog.show({opener:window.parent.parent,width:800,height:450,url:C,args:{},title:"",close:function(M){if(M==null||M==undefined||M=="undefined"){}else{if(I!=null){I.val(M)}return resutl}}})}function s(J,D,F,I,G,E,K,L,M,H,O,N){hiddenDocumentFieldIncludeIframe();var C=contextPath+"/portal/phone/resource/component/upload/obpm.fileUpload.jsp?path="+D;C=p(D,F,I,G,E,K,C);C+="&applicationid="+M;C+="&limitNumber="+H;C+="&fileType="+O;C+="&customizeType="+N;OBPM.dialog.show({url:C,args:{webPath:"aaaaaaaa",readonly:"222222"},title:J,close:function(P){showDocumentFieldIncludeIframe();var T=jQuery("#"+F);var V=a(T,P);var U=[];if(w){var Q=P.split(";");if(T&&T.val()&&G!="image"){U=JSON.parse(T.val())}for(var S=0;S<Q.length;S++){var W=Q[S].split(",");var R=new c(W[0],W[1]);U.push(R)}}if(U.length>0){V=JSON.stringify(U)}T.val(V);if(L&&typeof(L)=="function"){L()}}})}function n(G,D,F){var C=contextPath+"/portal/phone/resource/component/upload/obpm.fileUpload.jsp?path="+G+"&applicationid="+F;var E=jQuery("#"+D);OBPM.dialog.show({opener:window.parent.parent,width:800,height:450,url:C,args:{},title:"upload",close:function(H){if(H==null||H==undefined||H=="undefined"||H=="clear"){E.val("")}else{E.val(H)}}})}function p(D,F,J,G,E,K,C){var I=jQuery("#"+F);var H=jQuery("#"+J);if(G){C+="&allowedTypes="+G}if(E){C+="&maximumSize="+E}if(K){C+="&fileSaveMode="+K}else{C+="&fileSaveMode="+0}return C}function a(C,D){if(D==null||D=="undefined"){w=false;if(C&&C.val()){D=C.val()}else{D=""}}else{w=true}return D}h.fn.obpmUploadField=function(){return this.each(function(){var ah=jQuery(this);var O=ah.attr("tagName");if(O=="ImageUploadField"){ah.obpmWeixinImageUpload();return}var af=ah.attr("id");var Z=ah.attr("disabled");var H=(Z=="disabled");var L=ah.attr("callbakFunction");var aj=ah.attr("path");var N=ah.attr("fileSaveMode");var ae=ah.attr("application");var ai=ah.attr("value");var M=ah.attr("name");var ac=ah.attr("maxsize");var ag=ah.attr("uploadList");var U=ah.html();var ab=ah.attr("refreshOnChanged");var T=ah.attr("uploadLabel");var ao=ah.attr("filelabel");var V=ah.attr("deleteLabel");var F=ah.attr("limitsize");var Q=ah.attr("limitNumber");var J=ah.attr("fileType");var ar=ah.attr("customizeType");var ak=ah.attr("limitType");var aq=ah.attr("opentype");var E=ah.attr("imgHeight");var R=ah.attr("imgWidth");var am=ah.attr("subGridView");ai=ai?ai:"";am=(am=="true");var W="";var C=h("<div class='upload-box'></div>");var ap=h("<table style='width:100%'><tr></tr></table>");U=U?U:"";if(am){var X="<div name='"+M+"_gridView' value='"+ai+"' fieldType='"+O+"' style='display:none;'>"+U+"</div>";var P=h(X);P.appendTo(ap)}var ad="<input type='hidden' name='"+M+"' value='"+ai+"' fieldType='"+O+"' id='"+af+"'/>";var G=h(ad);ah.after(G);if(!H){var al="<td style='padding-right:5px;position:relative;'><button class='btn btn-gray btn-block' data-inline='true' type='button'  value='"+T+"' name='btnSelectDept'";if(Z&&Z!=""){al+=" disabled='"+Z+"' "}al+="><span class='icon icon-share fileUpload_icon'></span> "+T+"</td>";var Y=h(al);Y.bind("click",function(){s(ao+T,aj,af,"_viewid",ak,ac,N,I,ae,Q,J,ar)}).appendTo(ap);var K="<td style='padding-left:5px;position:relative;'><button disabled='disabled' class='btn btn-gray btn-block' data-inline='true' type='button' name='btnDelete'  value='"+V+"'";if(Z&&Z!=""){K+=" disabled='"+Z+"' "}K+="><span class='icon icon-trash fileDelect_icon'></span> "+V+"</button></td>";var D=h(K);D.bind("click",function(){f(jQuery("#"+af),ag,ae)}).appendTo(ap)}if(ak=="image"){var aa="<div style='display: block;' id='"+ag+"' GridType='uploadFile'></div>";var S=h(aa);S.appendTo(ap)}else{var aa="<div style='display: block;'><div  id='"+ag+"' GridType='uploadFile'></div></div>";var S=h(aa);C.append(S)}ap.appendTo(C);if(ah.attr("moduleType")!="uploadFileRefresh"){ah.attr("moduleType","uploadFileRefresh").css("display","none")}ah.after(C);var I=function(){if(ak=="image"){y(jQuery("#"+af).val(),ag,E,R,H,ab,ae,aq,am)}else{b(jQuery("#"+af).attr("value"),ag,H,ab,ae,aq,am,Z)}},an=function(){if(ak=="image"){d(jQuery("#"+af).val(),ag,E,R,H,ab,ae,aq,am)}else{B(jQuery("#"+af).attr("value"),ag,H,ab,ae,aq,am,Z)}};an()})};h.fn.obpmViewImageUpload=function(){return this.each(function(){var J=jQuery(this);var E=J.attr("imgw");var N=J.attr("imgh");var I=J.attr("viewReadOnly");var D=J.attr("docId");var M=J.attr("docFormid");var C=J.attr("url");var G=J.attr("fileName");I=(I=="true")?true:false;var K=N/2;var L=jQuery("#obpm_subGridView").size()>0?true:false;var H="<div  class='bigImg' style='position:relative;width:"+E+"; height:"+N+"'>";if(I){H+="<img alt='"+G+"' border='0' src='"+C+"' width='"+E+"' height='"+N+"' />"}else{H+="<a ";if(!L){H+=" href=\"javaScript:viewDoc('"+D+"','"+M+"')\""}H+=" title='"+G+"'>";H+="<img alt='"+G+"' border='0' src='"+C+"' width='"+E+"' height='"+N+"' />";H+="</a>"}H+="<div  class='smallIcon' style='display:none;position:absolute;right:0px;top:"+K+"px;z-index:100;'><a class='imgClick' href='"+C+"' target='blank'>";H+="<img alt='"+G+"' border='0' src='../../../resource/images/picture_go.png' title='' /></a><div>";H+="</div>";var F=h(H);F.mouseover(function(O){O.stopPropagation();jQuery(this).find(".smallIcon").show()}).mouseout(function(O){O.stopPropagation();jQuery(this).find(".smallIcon").hide()});J.replaceWith(F)})}})(jQuery);(function(c){var a=false;function d(h){var j=c(h);if(j.find(".pan").length>0){return}var l=j.data("id");var g=jQuery("#"+l);var f=jQuery("#"+l+"_img");var e=top.wx?top.wx:wx;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:a?["album","camera"]:["camera"],success:function(m){var n=m.localIds;setTimeout(function(){e.uploadImage({localId:n[0],success:function(p){var o=p.serverId;c.get(contextPath+"/portal/weixin/jsapi/upload.action",{serverId:o},function(q){if(q.status==1){g.val(q.data);f.attr("src",n[0]).show()}})},fail:function(o){alert("")}})},100)}})}function b(f){var h=c(f);var g=h.attr("src");if(g&&g.length>0){var e=top.wx?top.wx:wx;e.previewImage({current:g,urls:[]})}}c.fn.obpmTakePhoto=function(){return this.each(function(){c.cachedScript("http://res.wx.qq.com/open/js/jweixin-1.0.0.js").done(function(v,w){console.log(w);c.cachedScript("../../phone/resource/component/weixin/weixin.jsApi.js").done(function(x,y){console.log(y)})});var r=jQuery(this);var j=r.attr("contextPath");var s=r.attr("value");var f=r.attr("id");var l=r.attr("imgw");var u=r.attr("imgh");var e=r.attr("name");var h=r.attr("tagName");var t=HTMLDencode(r.attr("discript"));var o=r.attr("disabled");var n=r.attr("displayType");a=r.attr("album")=="true";var p=[];var m="";t=t?t:e;if(n!=PermissionType_HIDDEN){var q="";var g="&#xe60f;";if(n==PermissionType_DISABLED){q="ban";var g="&#xe610;"}p.push('<div class="formfield-wrap"><label class="field-title contact-name" for="'+e+'">'+t+"</label>");p.push("");p.push('<a data-id="'+f+'" class="btn btn-gray btn-block btn-photo"><i class="icon iconfont '+q+'">'+g+"</i></a>");p.push('<input type="hidden" id="'+f+'" name="'+e+'" fieldType="'+h+'" value = "'+s+'"/>');p.push('<div class="btn-box-pic">');p.push('<img id="'+f+'_img" src="../../..'+s+'"');p.push(s.indexOf("photo.png")>=0?' style="display:none;" >':" >");p.push("</div></div>");m=c(p.join(""));m.find(".btn-photo").bind("click",function(){d(this)}).end().replaceAll(r)}else{p.push('<input type="hidden" id="'+f+'" name="'+e+'" fieldType="'+h+'" value = "'+s+'"/>');m=c(p.join(""));m.replaceAll(r)}m.find("div.btn-box-pic").each(function(){new RTP.PinchZoom(c(this))})})};c.fn.obpmViewTakePhoto=function(){return this.each(function(){var n=jQuery(this);var g=n.attr("imgw");var r=n.attr("imgh");var m=n.attr("viewReadOnly");var f=n.attr("docId");var q=n.attr("docFormid");var e=n.attr("url");var j=n.attr("fileName");m=(m=="true")?true:false;var o=r/2;var p=jQuery("#obpm_subGridView").size()>0?true:false;var l="<div  class='takePhotoImg' style='position:relative;width:"+g+"; height:"+r+"'>";if(m){l+="<img alt='"+j+"' border='0' src='"+e+"' width='"+g+"' height='"+r+"' />"}else{l+="<a ";if(!p){l+=" href=\"javaScript:viewDoc('"+f+"','"+q+"')\""}l+=" title='"+j+"'>";l+="<img alt='"+j+"' border='0' src='"+e+"' width='"+g+"' height='"+r+"' />";l+="</a>"}l+="<div  class='takePhotoIcon' style='display:none;position:absolute;right:0px;top:"+o+"px;z-index:100;'><a class='imgClick' href='"+e+"' target='blank'>";l+="<img alt='"+j+"' border='0' src='../../../resource/images/picture_go.png' title='' /></a><div>";l+="</div>";var h=c(l);h.mouseover(function(s){s.stopPropagation();jQuery(this).find(".takePhotoIcon").show()}).mouseout(function(s){s.stopPropagation();jQuery(this).find(".takePhotoIcon").hide()});n.replaceWith(h)})}})(jQuery);(function(a){function b(g,f,d){var e=jQuery("#"+g);var c=contextPath+"/portal/share/component/map/form/baiduMap.jsp?type=dialog&applicationid="+f+"&displayType="+d;hiddenDocumentFieldIncludeIframe();OBPM.dialog.show({title:title_map,url:c,args:{fieldID:g,mapData:e.val()},width:1000,height:600,close:function(h){showDocumentFieldIncludeIframe();var j=h;if(h==null||h=="undefined"){}else{e.val(j)}}})}a.fn.obpmMapField=function(){return this.each(function(){var s=jQuery(this);var g=s.attr("id");var d=s.attr("name");var p=s.attr("fieldType");var t=s.attr("value");var e=s.attr("mapLabel");var r=s.attr("application");var m=s.attr("displayType");var v=HTMLDencode(s.attr("discript"));var c=s.attr("srcEnvironment");var l=s.attr("openType");v=v?v:d;if(m!=PermissionType_HIDDEN){var q="<input type='hidden' id='"+g+"' name='"+d+"' fieldType='"+p+"'";if(t){q+=" value='"+t+"'"}q+=" />";s.after(a(q));if(l=="dialog"){var j="<label for='"+d+"'>"+v+"</label><table style='width:100%;height:100%;margin:0px;'>";j+="<tr><td style='border:0'>";j+="<input type='button' value='"+e+"' name='btnSelectDept'";if(m==PermissionType_READONLY||m==PermissionType_DISABLED){j+=" disabled='disabled' "}j+=" />";j+="</td>";j+="</tr></table>";var o=a(j);o.find("input").click(function(){b(g,r,m)});s.after(o)}else{var f=encodeURI(encodeURI(g));var n=window.innerHeight/2;var u="<label for='"+d+"'>"+v+"</label><iframe name='baidumap' id='baidumap' style='margin:0px;width:100%;height:"+n+"px;'";u+="frameborder=0 ";u+=" style=''";u+="src="+c+"/portal/share/component/map/form/baiduMap.jsp?type="+l+"&fieldID="+f+"&applicationid="+r+"&displayType="+m+"";u+=" >";u+="</iframe>";s.replaceWith(u)}}s.remove()})}})(jQuery);(function(a){a.fn.obpmDepartmentField=function(){return this.each(function(){var p=jQuery(this);var d=p.attr("_id");var c=p.attr("_name");var m=p.attr("_fieldType");var f=p.attr("classname");var e=p.attr("class");var n=p.attr("_isRefreshOnChanged");var q=p.html();var b=p.attr("style");var j=p.attr("_displayType");var o=p.attr("_textType");var t=p.attr("_subGridView");var g=p.attr("_hiddenValue");var r=p.attr("_discript");r=r?r:c;n=(n=="true");t=(t=="true");if(b){b=b.replace(/"([^"]*)"/g,"$1")}var l="<div class='formfield-wrap' ";if(j==PermissionType_HIDDEN||o.toLowerCase()=="hidden"){l+=" style='display:none;' "}l+=">";var h="";var s=getOtherAttrs(p[0]);l+="<label class='field-title contact-name' for='"+c+"'>"+r+"</label>";l+="<div class='select-box' ";if(o.toLowerCase()=="readonly"||j==PermissionType_READONLY||j==PermissionType_DISABLED){l+=" style='display:none'";h+="<div id='"+c+"_show' class='showItem'>"+p.find("option:selected").text()+"</div>"}l+="><select class='contactField requiredField' id ='"+d+"' fieldType='"+m+"'";l+=' style="';if(b){l+=b+";"}l+='"';l+="' classname='"+f+"' class='contactField requiredField "+e+"' name='"+c+"' ";l+=" isRefreshOnChanged='"+n+"'"+s;if(n){if(t){l+=" onchange='dy_view_refresh(this.id)'"}else{l+=" onchange='dy_refresh(this.id)'"}}l+=">";l+=""+q;l+="</select><i class='icon icon-down'></i></div>"+h+"</div>";if(j==PermissionType_HIDDEN){l+="<span>"+g+"</span>"}this.parentNode.innerHTML=l})}})(jQuery);(function(a){a.fn.obpmViewDialog=function(){return this.each(function(){var r=jQuery(this);var y=r.attr("name");var x=r.attr("allow");var f=r.attr("mutil");var m=r.attr("selectOne");var q=r.attr("parentid");var o=r.attr("clsName");var v=r.attr("formid");var p=r.attr("fieldid");var s=r.attr("isEdit");var b=r.attr("viewTitle");var t=r.attr("dialogView");var j=r.attr("mapping");var h=r.attr("openType");var w=r.attr("viewType");var c=r.attr("divWidth");var n=r.attr("divHeight");var d=r.attr("isMaximization");var g=r.attr("isRefreshOnChanged");var u=r.attr("caption");var e=r.attr("isDisable");e=(e=="true");g=(g=="true");d=(d=="true");m=(m=="true");f=(f=="true");s=(s=="true");var l="<button style='color:#767673' class='btn btn-gray btn-block' type=";l+="'button'";if(e){l+=" disabled='disabled'"}l+=" ><i class='icon iconfont'>&#xe617;</i> ";if(u&&u.replace(/(^\s*)|(\s*$)/g,"").length>0){l+=u}else{l+=""}l+="</button>";a(l).bind("click",function(){ViewHelper.convertValuesMapToPage(dy_getValuesMap(),function(D){var C={allow:x,mutil:f,selectOne:m,parentid:q,className:o,formid:v,fieldid:p,isEdit:s};var A=contextPath+"/portal/phone/dynaform/view/dialogTemp.jsp";A+="?_viewid="+t;A+="&datetime="+new Date().getTime();A+="&"+jQuery.param(C,true);if(c==null||c==""&&d==false){A+="&_defaultSize=true"}var B=640;var z=400;if(c!=""&&c.length>0){B=c}if(n!=""&&n.length>0){z=n}OBPM.dialog.show({width:B,height:z,url:A,args:{html:new String(D),parent:window},maximization:d,maximized:true,title:b,close:function(F){if(!F){return}DWREngine.setAsync(false);var E=jQuery("#document_content").serializeArray();var G=new Object;a.each(E,function(J,I){G[I.name]=I.value});G=a.extend(G,F.params?F.params:{});G.selectedValue=F.selectedValue?F.selectedValue:"";ViewHelper.runViewDialogCallbackscript(G,function(I){});DWREngine.setAsync(true);var H=F.selectedValue;if(C.selectOne=="false"||C.selectOne==false){getDialogValue(j,H)}else{getDialogSelectValue(j,H)}if(g){dy_refresh(y)}}})})}).replaceAll(r)})}})(jQuery);(function(a){a.fn.obpmTreeDepartmentField=function(){return this.each(function(){var q=jQuery(this);var b=q.attr("_textType");var s=q.attr("_fieldId");var d=q.attr("_fieldType");var f=q.attr("_cssClass");var p=q.attr("_fieldText");var v=q.attr("_limit");var c=q.attr("_isRefreshOnChanged");var A=q.attr("_name");var e=q.attr("_fieldValue");var z=q.attr("_title");var t=q.attr("style");var y=s+"_text";var o=s;var g=q.attr("_displayType");var r=q.attr("_treeTip");var x=q.attr("_subGridView");var l=HTMLDencode(q.attr("_discript"));var w=q.attr("_hiddenValue");var l=q.attr("_discript");l=l?l:A;c=(c=="true");x=(x=="true");var h="";var n="";var j=false;var m=getOtherAttrs(q[0]);h+="<div class='formfield-wrap' style='position: relative;";if(b.toLowerCase()=="hidden"||g==PermissionType_HIDDEN){h+=";display:none;"}h+="'><label class='field-title contact-name' for='"+A+"'>"+l+"</label>";h+="<input class='contactField requiredField' data-enhance='false' type='text' readonly ";h+=" id='"+y+"'";h+=" class='"+f+"'";h+=" fieldType='"+d+"'";h+=" value='"+p+"'"+m;if(g==PermissionType_READONLY||g==PermissionType_DISABLED||b.toLowerCase()=="readonly"){h+=" style='display:none;'";n+="<div id='"+A+"_show' class='showItem'>"+p+"</div>"}h+=" />";h+="<input type='hidden' id='"+o+"'";h+=" name='"+A+"'";h+=" fieldType='"+d+"'";h+=" value='"+e+"'";h+=" />";if(b.toLowerCase()!="hidden"&&g!=PermissionType_HIDDEN){if(g!=PermissionType_READONLY&&g!=PermissionType_DISABLED&&b.toLowerCase()!="readonly"){h+="<span data-enhance='false' class='tree-department' ";var u="{textField:'"+y+"',valueField:'"+o+"',limit:'"+v+"',callback:"+(c?(x?"dy_view_refresh":"dy_refresh"):"''")+",readonly:"+j+"}";h+=" onclick=\"showDepartmentSelect('actionName',"+u+')"';h+=" title='"+r+"'";h+="></span>"}}if(g==PermissionType_HIDDEN){h+=""+w+""}h+=n+"</div>";this.parentNode.innerHTML=h})}})(jQuery);(function(a){a.fn.obpmUserfield=function(){return this.each(function(){var x=jQuery(this);var u=x.attr("_id");var D=x.attr("_name");var e=x.attr("_fieldType");var f=x.attr("class");var w=x.attr("value");var q=x.attr("_getFieldValue");var m=x.attr("_limitSum");var d=x.attr("_isRefreshOnChanged");var b=x.attr("_roleid");var g=x.attr("_selectUser");var p=x.attr("_add");var l=x.attr("_clearlabel");var B=x.attr("_subGridView");var C=x.attr("_selectMode");var h=x.attr("_displayType");var c=x.attr("_textType");var A=x.attr("_hiddenValue");var y=x.attr("style");var o=x.attr("_discript");if(y){y=y.replace(/"([^"]*)"/g,"$1")}e=e?e:"";f=f?f:"";q=q?q:"";m=m?m:"";d=(d=="true");B=(B=="true");b=b?b:"";g=g?g:"";p=p?p:"";l=l?l:"";C=C?C:"";h=h?h:"";c=c?c:"";A=A?A:"";y=y?"style='"+y+";'":"";w=w?w:"";o=o?o:D;var n=false;var j="";var t="";var s=getOtherAttrs(x[0]);if(h==PermissionType_READONLY||c.toLowerCase()=="readonly"||h==PermissionType_DISABLED){n=true;t+="<div id='"+D+"_show' class='showItem'>"+w+"</div>"}j+="<div class='formfield-wrap'><input type='hidden' id='"+u+"' name='"+D+"' value='"+q+"' fieldType='"+e+"' />";if(c.toLowerCase()=="hidden"||h==PermissionType_HIDDEN){j+="<input type='hidden'"}else{j+="<label class='field-title contact-name' for='"+D+"'>"+o+"</label>";j+="<div class='userSelectBox'><input class='contactField requiredField userField' data-enhance='false' type='text' readonly "}if(h==PermissionType_READONLY||h!=PermissionType_MODIFY){j+=" disabled='disabled'"}j+=" isRefreshOnChanged='"+d+"'";j+=" id='"+u+"_text' class='"+f+"'  filetype='userfield' fieldtype='"+e+"' name='"+D+"_text' "+s;if(w){j+=" value='"+w+"'";j+=" title='"+bulitTitle(w)+"'"}j+=" />";if(c.toLowerCase()!="hidden"&&h!=PermissionType_HIDDEN){if(c.toLowerCase()!="readonly"&&h==PermissionType_MODIFY){var z="{textField:'"+u+"_text',valueField:'"+u+"',limitSum:'"+m+"',selectMode:'"+C+"',callback:'"+(d?(B?'dy_view_refresh("'+u+'")':'dy_refresh("'+D+'")'):"")+"',readonly:"+n+"}";var r='jQuery("#'+u+'_text").val("");jQuery("#'+u+'_text").attr("title","");jQuery("#'+u+'").val("");'+(d?(B?'dy_view_refresh("'+u+'")':'dy_refresh("'+D+'")'):"");j+="<span class='selectBtn icon icon-person' onclick=showUserSelectNoFlow('actionName',"+z+",'"+b+"') title='"+g+"'></span>";j+="<span class='selectBtn icon icon-trash' onclick='"+r+"' title='"+l+"'></span>"}}if(h==PermissionType_HIDDEN){j+=""+A+""}j+="</div>"+t+"</div>";var v=a(j);if(h==PermissionType_READONLY||c.toLowerCase()=="readonly"||h==PermissionType_DISABLED){v.find("input").css("display","none")}x.parent().html(v).find("input[type='text']").css("width","100%")})}})(jQuery);function bulitTitle(b){if(b!=null&&b!=""){var d=b.split(";");var c="";for(var a=0;a<d.length;a++){if(a!=0&&a%10==0){c+="\n"}c+=d[a]+";"}return c==""?c:c.substring(0,c.length-1)}return""}(function(a){a.fn.obpmIncludedView=function(){return this.each(function(){if(!HAS_SUBFORM){HAS_SUBFORM=true;a("#form_tab").append('<a class="control-item swiper-slide active" href="#item1mobile" style="width:auto;"></a>').show();a("#document_content").css("margin-top","36px")}var z=jQuery(this);var v=z.attr("id");var o=z.attr("isRefreshOnChanged");var t=z.attr("getName");var w=z.attr("userType");var A=z.attr("action");var n=z.attr("application");var f=z.attr("_viewid");var c=z.attr("_fieldid");var m=227;var D=z.attr("isRelate");var x=z.attr("parentid");var h=z.attr("divid");var e=z.attr("getEditMode");var u=z.attr("fixation");var E=z.attr("fixationHeight");if(u){height="height:"+E+";"}else{height=""}var q=z.parents(".tabcontent");if(q.html()){var b="true";var C=q.attr("formid");var j="";if(q.is(":visible")){j="display:block;"}else{j="display:none;"}}else{var b="false"}w=(w=="true");e=(e=="true");o=(o=="true");var s="";s+="<div id='"+c+"' isRelate='"+D+"' istab='"+b+"' getName='"+t+"' fixation='"+u+"' fixationHeight='"+E+"' name='display_view' width='100%' height='100%' frameborder='0' style='' ";if(w){s+=" src='../view/preView.action";s+="?application="+n+"";s+="&_skinType="+z.attr("skinType")+""}else{s+=" src='../view/";s+=""+A+"";s+="?application="+n+""}s+="&_viewid="+f+"";s+="&_fieldid="+c+"";s+="&_opentype="+m+"";s+="&parentid="+x+"";s+="&isRelate="+D+"";s+="&divid="+h+"";s+="&_from=includedView";if(e){s+="&isedit=false"}if(o){s+="&refreshparent=true"}s+="'";s+=" isRefreshOnChanged='"+o+"'";s+=" style='"+height+"overflow:auto;'></div>";var y=a(s);var r=a("#tab_"+c);if(r.length==0){r=a('<span id="tab_'+c+'" class="control-content"></span>');var g=z.parent();if(g.parent(".tabcontent").size()<=0){a("#form_tab").append("<a _tid="+C+' class="control-item swiper-slide" href="#tab_'+c+'" style="width:auto;'+j+'">'+t+"</a>")}else{if(g.parent().attr("ishidden")=="false"){a("#form_tab").append("<a _tid="+C+' class="control-item swiper-slide" href="#tab_'+c+'" style="width:auto;'+j+'">'+t+"</a>")}}a("#form_continer").append(r)}y.load(y.attr("src"),function(){var F=a(".tab_parameter");var G=c+"_params";var H=a("<div></div>").attr("id",G).attr("_action",a(this).attr("src")).css("display","none");a.each(a(this).find(".tab_parameter").find("input[type!=button],select,textarea").serializeArray(),function(){H.append("<span name='"+this.name+"'>"+this.value+"</span>")});a(this).append(H);F.find("input[type!=button],select,textarea").each(function(){if(!a(this).attr("moduleType")){a(this).remove()}});jqRefactor()});y.bind("refresh",function(){y.load(y.attr("src"),function(){var F=a(".tab_parameter");var G=c+"_params";var H=a("<div></div>").attr("id",G).attr("_action",a(this).attr("src")).css("display","none");a.each(a(this).find(".tab_parameter").find("input[type!=button],select,textarea").serializeArray(),function(){H.append("<span name='"+this.name+"'>"+this.value+"</span>")});a(this).append(H);F.find("input[type!=button],select,textarea").each(function(){if(!a(this).attr("moduleType")){a(this).remove()}});dy_refresh(name)})});r.html(y);z.remove();var p=0;var l=a("#form_tab").find(".control-item:visible").size();for(var B=0;B<l;B++){a(".segmented-control").removeAttr("style");a("#form_tab").find(".control-item:visible:eq("+B+")").css({width:"auto",display:"block"});p=a("#form_tab").find(".control-item:visible:eq("+B+")").outerWidth()+p}a(".tab-box").width(a(window).width());a(".segmented-control").removeAttr("style");if(p<=a(window).width()){a(".segmented-control").css("display","table");a("#form_tab .control-item:visible").css("display","table-cell")}else{a(".segmented-control").width(p);a("#form_tab .control-item:visible").css("display","block");var d=new Swiper(".swiper-container",{slidesPerView:"auto",spaceBetween:0,freeMode:true})}if(a("#form_tab .control-item:visible").size()<=1){a("#form_tab").find("[_tid]").hide();a("#form_tab").find("a[href='#item1mobile']").hide();a("#document_content").css("margin-top","0px")}})}})(jQuery);(function(a){a.fn.obpmPending=function(){return this.each(function(){var g=jQuery(this);var c=g.attr("id");var j=g.attr("formId");var h=g.attr("summaryCfgId");var b=g.attr("Summary");var e=g.attr("isread");e=(e=="true");var f="";var d="";var l="";if(e){d="pd";l="16x16_0700/pencil";alt=""}else{d="pdread";l="16x16_0380/email_edit";alt=""}f+="<a title='"+alt+"' class='"+d+"' href=\"javaScript:viewDoc('"+c+"', '"+j+"','"+h+"')\" style='background:url(\"../../lib/icon/"+l+".png\") no-repeat;display: block;background-position: 0 50%;padding-left: 20px;margin-bottom:5px;'>";f+="&nbsp;"+b+"&nbsp;";f+="</a>";jQuery(f).replaceAll(g)})}})(jQuery);(function(a){a.fn.obpmWordField=function(){return this.each(function(){var w=jQuery(this);var D=w.attr("name");var v=w.attr("id");var p=w.attr("getItemValue");var q=w.attr("getId");var b=w.attr("wordid");var s=w.attr("getOpenTypeEquals");var f=w.attr("showWord");var d=w.attr("secondvalue");var A=w.attr("docgetId");var l=w.attr("docgetFormname");var h=w.attr("openType");var n=w.attr("displayType");var t=HTMLDencode(w.attr("discript"));var y=w.attr("saveable");var m=w.attr("isSignature");var x=w.attr("filename");var e=w.attr("_docid");var z=w.attr("_type");var B=w.attr("fieldname");var r=w.attr("formname");var j=w.attr("content.versions");var g=w.attr("application");var c=w.attr("_isEdit");var u=w.attr("signature");var C=(n==PermissionType_READONLY||n==PermissionType_DISABLED);y=(y=="true");m=(m=="true");t=t?t:D;var o="";if(n!=PermissionType_HIDDEN){o+="<label for='"+D+"'>"+t+"</label>";if(h&&h=="2"||h=="3"){if(p&&p!=""){d=p}else{p=b}o+="<input type='hidden' name='"+D+"' id='"+v+"' value='"+p+"' />";o+="<input type='hidden' id='"+q+"' value='"+d+"' />";o+="<button class='button-class' type='button'";if(n==PermissionType_READONLY){o+=" readonly"}o+=">";o+=" <img src='../../share/images/view/word.gif'></img>";o+="</button>"}else{if(C){c=1}if(p&&p!=""){x=p}o+="<input type='hidden'  name='"+D+"' id='"+q+"' value='"+p+"' />";o+="<iframe fieldName='"+D+"' id='"+q+"' ";o+=" name='word' frameborder='0' width='100%' height='645px' scrolling='no' style='overflow:visible;z-index:-1px;' type='word' ";o+=" src='"+contextPath+"/portal/dynaform/document/newword.action?id="+q+"";o+="&filename="+x+"";o+="&_docid="+e+"";o+="&_type="+z+"";o+="&fieldname="+B+"";o+="&formname="+r+"";o+="&content.versions="+j+"";o+="&application="+g+"";o+="&_isEdit="+c+"";o+="&isSignature="+m+"";o+="&isOnlyRead="+C+"";o+="&signature="+u+"'";o+=" ></iframe>"}if(h&&h=="2"||h=="3"){a(o).find("button").bind("click",function(){showWordDialog(f,"WordControl",A,l,d,v,"content.versions",h,n,y,C,u,(m?true:false))}).end().replaceAll(w)}else{a(o).replaceAll(w)}}else{a(o).replaceAll(w)}})}})(jQuery);(function(c){var b={SHOW_MODE_TEXT:"text",SHOW_MODE_DIAGRAM:"diagram",SHOW_MODE_TEXT_AND_DIAGRAM:"textAndDiagram"};function a(e){var d=[];d.push("<table cellSpacing='0' cellPadding='1' width='100%' align='center' style='border:solid #cccccc;border-width:1px 0px 0px 1px;'><tbody>");e.find("table tr").each(function(f){var g=jQuery(this);if(f==0){d.push("<thead>");d.push("<tr style='line-height:22px;'>");g.children().each(function(){var h=jQuery(this);d.push("<th style='align:center;font-family: Arial;border:solid #cccccc;border-width:0px 1px 1px 0px;background-color:#EFF0F1;width="+h.attr("width")+"' >");d.push(h.text()+"</th>")});d.push("</tr></thead>")}else{d.push("<tr style='line-height:22px;'>");g.children().each(function(){var j=jQuery(this);d.push("<td style='font-family: Arial;border:solid #cccccc;border-width:0px 1px 1px 0px;align:center;'>");d.push(j.text()?j.text():"&nbsp;");if(j.hasClass("attitude")&&j.find("span").length==1){var h=j.find("span").data("datas");d.push("<a href='");d.push("data:"+h.type+","+h.data);d.push("' target='_blank' title='' >");d.push("<img height='32px' src='");d.push("data:"+h.type+","+h.data);d.push("' >");d.push("</a>")}d.push("</td>")});d.push("</tr>")}});d.push("</tbody></table>");return d.join("")}c.fn.obpmFlowHistoryField=function(){return this.each(function(){var j=jQuery(this);var g=j.attr("showMode");var d=j.attr("flowDiagram");var f=j.attr("mobile");var e=j.attr("_name");var l=j.attr("_discript");l=l?l:e;var h=[];if(f=="true"){h.push("<div style='list-style-type:none;margin-left: 3px;margin-right: 3px;margin-top: 3px;margin-bottom: 3px;'>");h.push("<label class='field-title contact-name' for='"+e+"'>"+l+"</label>");if(g==b.SHOW_MODE_TEXT){h.push("<li>"+a(j)+"</li>")}else{if(g==b.SHOW_MODE_DIAGRAM){h.push("<li><img src='"+d+"' style='width:100%' /></li>")}else{if(g==b.SHOW_MODE_TEXT_AND_DIAGRAM){h.push("<li><img src='"+d+"' style='width:100%' /></li>");h.push("<li>"+a(j)+"</li>")}}}h.push("</div>")}j.replaceWith(c(h.join("")))})}})(jQuery);(function(f){function e(g,h){wx.getLocation({success:function(j){var m=j.latitude;var l=j.longitude;f.post(contextPath+"/attendance/attendance/convertGps2Baidu.action",{from:"0",x:l,y:m},function(n){if(1==n.status){var p=new BMap.Point(n.data.x,n.data.y);var o=new BMap.Geocoder();o.getLocation(p,function(r){var u=r.addressComponents;var t=u.province+u.city+u.district+u.street+u.streetNumber;var q={latitude:m,longitude:l,address:t};var s=g.data("weixinGpsField").options;f("input[name='"+s.name+"']").val(JSON.stringify(q));g.data("weixinGpsField").panel.find(".address-text").text(q.address);if(h&&typeof h=="function"){h(n)}})}else{}},"json")}})}function b(j){var h=j.val();if(!h||h.length<=0){return}var g=f.parseJSON(h);wx.openLocation({latitude:g.latitude,longitude:g.longitude,name:"",address:g.address,scale:25,infoUrl:""})}function d(n){f.cachedScript("http://res.wx.qq.com/open/js/jweixin-1.0.0.js").done(function(o,p){console.log(p);f.cachedScript("../../phone/resource/component/weixin/weixin.jsApi.js").done(function(q,r){console.log(r)})});var l=a(n);var m=[];m.push('<div class="card_app">');m.push('<ul class="table-view table-address">');m.push('<li class="table-view-cell">');m.push('<a class="navigate-right location" data-transition="slide-in">');m.push('<span class="badge">');if(l.displayType==2){m.push('<p class="refresh"></p>')}m.push("</span>");m.push('<div class="text"><i class="icon icon-add iconfont">&#xe613;</i><p class="add address-text"> &nbsp;</p></div>');m.push("</a>");m.push("</li>");m.push("</ul></div>");var h=f(m.join(""));h.insertAfter(n);var j=n.val();if(j.length<=0&&(l.displayType==2||l.displayType==3)){setTimeout(function(){e(n,function(){if(l.isRefreshOnChanged){dy_refresh(l.id)}})},3000)}else{if(j&&j!=""){var g=f.parseJSON(j);h.find(".address-text").text(g.address)}}if(l.displayType==3){h.hide()}return h}function c(j){var g=j.data("weixinGpsField").panel;var h=j.data("weixinGpsField").options;g.find(".refresh").on("click",function(l){l.preventDefault();l.stopPropagation();g.find(".address-text").html(" &nbsp;");e(j,function(){if(h.isRefreshOnChanged){dy_refresh(h.id)}})});g.find(".location").on("click",function(l){l.preventDefault();l.stopPropagation();b(j)})}function a(h){var g={};g.id=h.attr("id");g.name=h.attr("name");g.displayType=h.attr("displayType");g.isRefreshOnChanged=h.attr("isRefreshOnChanged");return g}f.fn.obpmWeixinGpsField=function(g,h){if(typeof g=="string"){return f.fn.obpmWeixinGpsField.method[g](this,h)}g=g||{};return this.each(function(){var j=f(this);var m=j.data("weixinGpsField");if(m){f.extend(m.options,g)}else{var l=d(j);m=j.data("weixinGpsField",{options:f.extend({},f.fn.obpmWeixinGpsField.defaults,a(j),g),panel:l});c(j)}})},f.fn.obpmWeixinGpsField.defaults={id:"",isRefreshOnChanged:false,name:undefined},f.fn.obpmWeixinGpsField.method={setValue:function(h,g){},getValue:function(g){}}})(jQuery);(function(e){function d(q){var p=b(q);var n=q.val();var j=e('<div id="survyfield_container_'+p.id+'" class="survyfield_container"></div>');var r=p.questions;var o=p.displayType;for(i in r){var m=r[i];var l=h(m,o);j.append(l);j.append(e('<div class="space-content"></div>'))}j.insertAfter(q);return j}function h(l,m){var j=e('<div class="question-content" id=""question-content-'+l.id+'"><div class="question-content-title"><b></b>'+l.topic+"</div></div>");var n=g(l,m);n.appendTo(j);return j}function g(l,n){var j=e('<div class="question-content-answer"><table id="question-content-answer-'+l.id+'" width="100%" border="0" cellspacing="0" cellpadding="0"></table></div>');var m=n==4||n==1?"disabled":"";for(i in l.options){var o=l.options[i];var q=o.type;var r=o.value;var s=o.text;var p=undefined;switch(q){case"checkbox":case"radio":if(o.custom){p=e('<tr id="question-'+l.id+"-answerrow-"+i+'"><td style="height: 26px; padding-right: 10px;"><input id="question-'+l.id+"-answer-"+i+'" name="question-'+l.id+'-answer" ordernumber="'+i+'" type="'+q+'" value="" data-type="'+q+'" data-custom="true"  data-text="'+s+'" onclick="" '+m+'><label for="question-'+l.id+"-answer-"+i+'">'+s+'</label><input id="question-'+l.id+'-answer-value" name="question-'+l.id+'-answer-value" type="text" value="" '+m+"></td> </tr>")}else{p=e('<tr id="question-'+l.id+"-answerrow-"+i+'"><td style="height: 26px; padding-right: 10px;"><input id="question-'+l.id+"-answer-"+i+'" name="question-'+l.id+'-answer" ordernumber="'+i+'" type="'+q+'" data-type="'+q+'" data-custom="false" data-text="'+s+'" value="'+r+'" onclick="" '+m+'><label for="question-'+l.id+"-answer-"+i+'">'+s+"</label></td> </tr>")}break;case"text":p=e('<tr id="question-'+l.id+"-answerrow-"+i+'"><td style="height: 26px; padding-right: 10px;"><input id="question-'+l.id+"-answer-"+i+'" name="question-'+l.id+'-answer" ordernumber="'+i+'" type="'+q+'" data-type="'+q+'" data-custom="false" data-text="'+s+'" value="'+r+'" onclick="" '+m+'><label for="question-'+l.id+"-answer-"+i+'">'+s+"</label></td> </tr>");break;case"textarea":p=e('<tr id="question-'+l.id+"-answerrow-"+i+'"><td style="height: 26px; padding-right: 10px;"><textarea id="question-'+l.id+"-answer-"+i+'" name="question-'+l.id+'-answer" ordernumber="'+i+'" data-type="'+q+'" data-custom="false" data-text="'+s+'" onclick="" '+m+">"+r+'</textarea><label for="question-'+l.id+"-answer-"+i+'">'+s+"</label></td> </tr>");break;default:break}p.appendTo(j)}return j}function c(j){}function b(l){var j={};j.id=l.attr("id");j.name=l.attr("name");j.displayType=l.data("displayType");j.discription=l.data("discription");j.questions=l.data("questions");return j}function a(r){var m=[];var q=r.data("surveyField");var n=q.options;var j=q.panel;var o=n.questions;for(i in o){var l=o[i];var p={question:l.id,answers:[]};j.find("input[name='question-"+l.id+"-answer']:checked").each(function(t){var z=e(this);var u=z.data("type");var x=z.data("custom");var y=z.data("text");var s=x?z.parent().find("input[name='"+z.attr("name")+"-value']").val():z.val();var w={type:u,custom:x,text:y,value:s};p.answers.push(w)});m.push(p)}r.val(JSON.stringify(m));return m}function f(n,r){if(typeof r=="string"&&r.length>0){r=e.parseJSON(r)}var s=r||[];var m=n.data("surveyField");var t=m.options;var l=m.panel;var o=t.questions;for(i in s){var q=s[i];var j=q.question;var p=q.answers;l.find("input[name='question-"+j+"-answer']").each(function(u){var w=e(this);for(k in p){var v=p[k];if(!v.custom&&v.value==w.val()){w.attr("checked","true");break}if(v.custom&&w.data("custom")&&v.text==w.data("text")){w.attr("checked","true");w.parent().find("input[name='"+w.attr("name")+"-value']").val(v.value);break}}})}}e.fn.obpmSurveyField=function(j,l){if(typeof j=="string"){return e.fn.obpmSurveyField.method[j](this,l)}j=j||{};return this.each(function(){var m=e(this);var o=m.data("surveyField");if(o){e.extend(o.options,j)}else{var n=d(m);o=m.data("surveyField",{options:e.extend({},e.fn.obpmSurveyField.defaults,b(m),j),panel:n});c(m);f(m,m.val())}})},e.fn.obpmSurveyField.defaults={id:"",name:undefined,displayType:2,discription:"",questions:[]},e.fn.obpmSurveyField.method={setValue:function(l,j){},getValue:function(j){j.each(function(){a(e(this))})}}})(jQuery);!function(B){function z(v,m,g,d){function h(c,a){return c-=d,a-=d,0>c||c>=s||0>a||a>=s?!1:r.isDark(c,a)}var r=B(g,m);r.addData(v),r.make(),d=d||0;var s=r.getModuleCount(),l=r.getModuleCount()+2*d,p=function(f,c,u,y){var w=this.isDark,a=1/l;this.isDark=function(n,o){var P=o*a,Q=n*a,e=P+a,t=Q+a;return w(n,o)&&(f>e||P>u||c>t||Q>y)}};this.text=v,this.level=m,this.version=g,this.moduleCount=l,this.isDark=h,this.addBlank=p}function L(g,h,m,l,f){m=Math.max(1,m||1),l=Math.min(40,l||40);for(var c=m;l>=c;c+=1){try{return new z(g,h,c,f)}catch(d){}}}function E(d,V,R){var p=R.size,m="bold "+R.mSize*p+"px "+R.fontname,w=j("<canvas/>")[0].getContext("2d");w.font=m;var T=w.measureText(R.label).width,U=R.mSize,Q=T/p,S=(1-Q)*R.mPosX,v=(1-U)*R.mPosY,P=S+Q,W=v+U,y=0.01;1===R.mode?d.addBlank(0,v-y,p,W+y):d.addBlank(S-y,v-y,P+y,W+y),V.fillStyle=R.fontcolor,V.font=m,V.fillText(R.label,S*p,v*p+0.75*R.mSize*p)}function D(d,T,P){var m=P.size,h=P.image.naturalWidth||1,v=P.image.naturalHeight||1,R=P.mSize,S=R*h/v,y=(1-S)*P.mPosX,Q=(1-R)*P.mPosY,p=y+S,w=Q+R,U=0.01;3===P.mode?d.addBlank(0,Q-U,m,w+U):d.addBlank(y-U,Q-U,p+U,w+U),T.drawImage(P.image,y*m,Q*m,S*m,R*m)}function H(d,c,f){j(f.background).is("img")?c.drawImage(f.background,0,0,f.size,f.size):f.background&&(c.fillStyle=f.background,c.fillRect(f.left,f.top,f.size,f.size));var a=f.mode;1===a||2===a?E(d,c,f):(3===a||4===a)&&D(d,c,f)}function O(h,g,l,p,m,f,c,d){h.isDark(c,d)&&g.rect(p,m,f,f)}function x(d,y,p,h,g,l,v,w,m,s){v?d.moveTo(y+l,p):d.moveTo(y,p),w?(d.lineTo(h-l,p),d.arcTo(h,p,h,g,l)):d.lineTo(h,p),m?(d.lineTo(h,g-l),d.arcTo(h,g,y,g,l)):d.lineTo(h,g),s?(d.lineTo(y+l,g),d.arcTo(y,g,y,p,l)):d.lineTo(y,g),v?(d.lineTo(y,p+l),d.arcTo(y,p,h,p,l)):d.lineTo(y,p)}function K(d,y,p,h,g,l,v,w,m,s){v&&(d.moveTo(y+l,p),d.lineTo(y,p),d.lineTo(y,p+l),d.arcTo(y,p,y+l,p,l)),w&&(d.moveTo(h-l,p),d.lineTo(h,p),d.lineTo(h,p+l),d.arcTo(h,p,h-l,p,l)),m&&(d.moveTo(h-l,g),d.lineTo(h,g),d.lineTo(h,g-l),d.arcTo(h,g,h-l,g,l)),s&&(d.moveTo(y+l,g),d.lineTo(y,g),d.lineTo(y,g-l),d.arcTo(y,g,y+l,g,l))}function N(X,U,aj,ac,ab,ag,am,al){var ae=X.isDark,ai=ac+ag,V=ab+ag,ah=aj.radius*ag,R=am-1,ak=am+1,Q=al-1,ad=al+1,aa=ae(am,al),P=ae(R,Q),f=ae(R,al),Y=ae(R,ad),Z=ae(am,ad),S=ae(ak,ad),af=ae(ak,al),u=ae(ak,Q),W=ae(am,Q);aa?x(U,ac,ab,ai,V,ah,!f&&!W,!f&&!Z,!af&&!Z,!af&&!W):K(U,ac,ab,ai,V,ah,f&&W&&P,f&&Z&&Y,af&&Z&&S,af&&W&&u)}function G(a,R,P){var d,c,p=a.moduleCount,Q=P.size/p,y=O;for(C&&P.radius>0&&P.radius<=0.5&&(y=N),R.beginPath(),d=0;p>d;d+=1){for(c=0;p>c;c+=1){var m=P.left+c*Q,w=P.top+d*Q,S=Q;y(a,R,P,m,w,S,d,c)}}if(j(P.fill).is("img")){R.strokeStyle="rgba(0,0,0,0.5)",R.lineWidth=2,R.stroke();var v=R.globalCompositeOperation;R.globalCompositeOperation="destination-out",R.fill(),R.globalCompositeOperation=v,R.clip(),R.drawImage(P.fill,0,0,P.size,P.size),R.restore()}else{R.fillStyle=P.fill,R.fill()}}function J(e,d){var g=L(d.text,d.ecLevel,d.minVersion,d.maxVersion,d.quiet);if(!g){return null}var f=j(e).data("qrcode",g),c=f[0].getContext("2d");return H(g,c,d),G(g,c,d),f}function A(c){var a=j("<canvas/>").attr("width",c.size).attr("height",c.size);return J(a,c)}function I(a){return j("<img/>").attr("src",A(a)[0].toDataURL("image/png"))}function q(d){var T=L(d.text,d.ecLevel,d.minVersion,d.maxVersion,d.quiet);if(!T){return null}var m,e,v=d.size,R=d.background,S=Math.floor,P=T.moduleCount,Q=S(v/P),p=S(0.5*(v-Q*P)),y={position:"relative",left:0,top:0,padding:0,margin:0,width:v,height:v},U={position:"absolute",padding:0,margin:0,width:Q,height:Q,"background-color":d.fill},w=j("<div/>").data("qrcode",T).css(y);for(R&&w.css("background-color",R),m=0;P>m;m+=1){for(e=0;P>e;e+=1){T.isDark(m,e)&&j("<div/>").css(U).css({left:p+e*Q,top:p+m*Q}).appendTo(w)}}return w}function M(a){return F&&"canvas"===a.render?A(a):F&&"image"===a.render?I(a):q(a)}var j=jQuery,F=function(){var a=document.createElement("canvas");return Boolean(a.getContext&&a.getContext("2d"))}(),C="[object Opera]"!==Object.prototype.toString.call(window.opera),b={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:0.1,mPosX:0.5,mPosY:0.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};j.fn.qrcode=function(c){var a=j.extend({},b,c);return this.each(function(){"canvas"===this.nodeName.toLowerCase()?J(this,a):j(this).append(M(a))})}}(function(){var a=function(){function b(c,f){if("undefined"==typeof c.length){throw new Error(c.length+"/"+f)}var h=function(){for(var e=0;e<c.length&&0==c[e];){e+=1}for(var s=new Array(c.length-e+f),l=0;l<c.length-e;l+=1){s[l]=c[l+e]}return s}(),g={};return g.getAt=function(e){return h[e]},g.getLength=function(){return h.length},g.multiply=function(o){for(var r=new Array(g.getLength()+o.getLength()-1),s=0;s<g.getLength();s+=1){for(var l=0;l<o.getLength();l+=1){r[s+l]^=A.gexp(A.glog(g.getAt(s))+A.glog(o.getAt(l)))}}return b(r,0)},g.mod=function(o){if(g.getLength()-o.getLength()<0){return g}for(var r=A.glog(g.getAt(0))-A.glog(o.getAt(0)),s=new Array(g.getLength()),l=0;l<g.getLength();l+=1){s[l]=g.getAt(l)}for(var l=0;l<o.getLength();l+=1){s[l]^=A.gexp(A.glog(o.getAt(l))+r)}return b(s,0).mod(o)},g}var D=function(v,S){var L=236,V=17,O=v,R=j[S],G=null,Q=0,U=null,r=new Array,N={},K=function(g,e){Q=4*O+17,G=function(l){for(var h=new Array(l),o=0;l>o;o+=1){h[o]=new Array(l);for(var s=0;l>s;s+=1){h[o][s]=null}}return h}(Q),n(0,0),n(Q-7,0),n(0,Q-7),J(),I(),P(g,e),O>=7&&u(g),null==U&&(U=F(O,R,r)),f(U,e)},n=function(h,g){for(var l=-1;7>=l;l+=1){if(!(-1>=h+l||h+l>=Q)){for(var o=-1;7>=o;o+=1){-1>=g+o||g+o>=Q||(l>=0&&6>=l&&(0==o||6==o)||o>=0&&6>=o&&(0==l||6==l)||l>=2&&4>=l&&o>=2&&4>=o?G[h+l][g+o]=!0:G[h+l][g+o]=!1)}}}},c=function(){for(var h=0,g=0,l=0;8>l;l+=1){K(!0,l);var o=p.getLostPoint(N);(0==l||h>o)&&(h=o,g=l)}return g},I=function(){for(var g=8;Q-8>g;g+=1){null==G[g][6]&&(G[g][6]=g%2==0)}for(var e=8;Q-8>e;e+=1){null==G[6][e]&&(G[6][e]=e%2==0)}},J=function(){for(var s=p.getPatternPosition(O),l=0;l<s.length;l+=1){for(var M=0;M<s.length;M+=1){var W=s[l],T=s[M];if(null==G[W][T]){for(var g=-2;2>=g;g+=1){for(var h=-2;2>=h;h+=1){-2==g||2==g||-2==h||2==h||0==g&&0==h?G[W+g][T+h]=!0:G[W+g][T+h]=!1}}}}}},u=function(h){for(var g=p.getBCHTypeNumber(O),l=0;18>l;l+=1){var o=!h&&1==(g>>l&1);G[Math.floor(l/3)][l%3+Q-8-3]=o}for(var l=0;18>l;l+=1){var o=!h&&1==(g>>l&1);G[l%3+Q-8-3][Math.floor(l/3)]=o}},P=function(l,h){for(var s=R<<3|h,T=p.getBCHTypeInfo(s),M=0;15>M;M+=1){var g=!l&&1==(T>>M&1);6>M?G[M][8]=g:8>M?G[M+1][8]=g:G[Q-15+M][8]=g}for(var M=0;15>M;M+=1){var g=!l&&1==(T>>M&1);8>M?G[8][Q-M-1]=g:9>M?G[8][15-M-1+1]=g:G[8][15-M-1]=g}G[Q-8][8]=!l},f=function(h,ac){for(var Y=-1,M=Q-1,s=7,aa=0,ab=p.getMaskFunction(ac),X=Q-1;X>0;X-=2){for(6==X&&(X-=1);;){for(var Z=0;2>Z;Z+=1){if(null==G[M][X-Z]){var T=!1;aa<h.length&&(T=1==(h[aa]>>>s&1));var W=ab(M,X-Z);W&&(T=!T),G[M][X-Z]=T,s-=1,-1==s&&(aa+=1,s=7)}}if(M+=Y,0>M||M>=Q){M-=Y,Y=-Y;break}}}},H=function(Y,ai){for(var ac=0,ab=0,al=0,X=new Array(ai.length),ah=new Array(ai.length),ak=0;ak<ai.length;ak+=1){var ae=ai[ak].dataCount,ag=ai[ak].totalCount-ae;ab=Math.max(ab,ae),al=Math.max(al,ag),X[ak]=new Array(ae);for(var Z=0;Z<X[ak].length;Z+=1){X[ak][Z]=255&Y.getBuffer()[Z+ac]}ac+=ae;var af=p.getErrorCorrectPolynomial(ag),W=b(X[ak],af.getLength()-1),aj=W.mod(af);ah[ak]=new Array(af.getLength()-1);for(var Z=0;Z<ah[ak].length;Z+=1){var T=Z+aj.getLength()-ah[ak].length;ah[ak][Z]=T>=0?aj.getAt(T):0}}for(var ad=0,Z=0;Z<ai.length;Z+=1){ad+=ai[Z].totalCount}for(var aa=new Array(ad),M=0,Z=0;ab>Z;Z+=1){for(var ak=0;ak<ai.length;ak+=1){Z<X[ak].length&&(aa[M]=X[ak][Z],M+=1)}}for(var Z=0;al>Z;Z+=1){for(var ak=0;ak<ai.length;ak+=1){Z<ah[ak].length&&(aa[M]=ah[ak][Z],M+=1)}}return aa},F=function(W,o,X){for(var Z=C.getRSBlocks(W,o),Y=x(),h=0;h<X.length;h+=1){var T=X[h];Y.put(T.getMode(),4),Y.put(T.getLength(),p.getLengthInBits(T.getMode(),W)),T.write(Y)}for(var M=0,h=0;h<Z.length;h+=1){M+=Z[h].dataCount}if(Y.getLengthInBits()>8*M){throw new Error("code length overflow. ("+Y.getLengthInBits()+">"+8*M+")")}for(Y.getLengthInBits()+4<=8*M&&Y.put(0,4);Y.getLengthInBits()%8!=0;){Y.putBit(!1)}for(;;){if(Y.getLengthInBits()>=8*M){break}if(Y.put(L,8),Y.getLengthInBits()>=8*M){break}Y.put(V,8)}return H(Y,Z)};return N.addData=function(g){var e=z(g);r.push(e),U=null},N.isDark=function(g,e){if(0>g||g>=Q||0>e||e>=Q){throw new Error(g+","+e)}return G[g][e]},N.getModuleCount=function(){return Q},N.make=function(){K(!1,c())},N.createTableTag=function(h,g){h=h||2,g="undefined"==typeof g?4*h:g;var l="";l+='<table style="',l+=" border-width: 0px; border-style: none;",l+=" border-collapse: collapse;",l+=" padding: 0px; margin: "+g+"px;",l+='">',l+="<tbody>";for(var M=0;M<N.getModuleCount();M+=1){l+="<tr>";for(var s=0;s<N.getModuleCount();s+=1){l+='<td style="',l+=" border-width: 0px; border-style: none;",l+=" border-collapse: collapse;",l+=" padding: 0px; margin: 0px;",l+=" width: "+h+"px;",l+=" height: "+h+"px;",l+=" background-color: ",l+=N.isDark(M,s)?"#000000":"#ffffff",l+=";",l+='"/>'}l+="</tr>"}return l+="</tbody>",l+="</table>"},N.createImgTag=function(h,g){h=h||2,g="undefined"==typeof g?4*h:g;var l=N.getModuleCount()*h+2*g,M=g,s=l-g;return B(l,l,function(W,X){if(W>=M&&s>W&&X>=M&&s>X){var T=Math.floor((W-M)/h),o=Math.floor((X-M)/h);return N.isDark(o,T)?0:1}return 1})},N};D.stringToBytes=function(f){for(var c=new Array,g=0;g<f.length;g+=1){var h=f.charCodeAt(g);c.push(255&h)}return c},D.createStringToBytes=function(f,c){var g=function(){for(var H=E(f),s=function(){var e=H.read();if(-1==e){throw new Error}return e},r=0,v={};;){var J=H.read();if(-1==J){break}var K=s(),G=s(),I=s(),t=String.fromCharCode(J<<8|K),F=G<<8|I;v[t]=F,r+=1}if(r!=c){throw new Error(r+" != "+c)}return v}(),h="?".charCodeAt(0);return function(s){for(var n=new Array,u=0;u<s.length;u+=1){var l=s.charCodeAt(u);if(128>l){n.push(l)}else{var e=g[s.charAt(u)];"number"==typeof e?(255&e)==e?n.push(e):(n.push(e>>>8),n.push(255&e)):n.push(h)}}return n}};var y={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},j={L:1,M:0,Q:3,H:2},d={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},p=function(){var h=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],r=1335,g=7973,e=21522,l={},o=function(f){for(var c=0;0!=f;){c+=1,f>>>=1}return c};return l.getBCHTypeInfo=function(f){for(var c=f<<10;o(c)-o(r)>=0;){c^=r<<o(c)-o(r)}return(f<<10|c)^e},l.getBCHTypeNumber=function(f){for(var c=f<<12;o(c)-o(g)>=0;){c^=g<<o(c)-o(g)}return f<<12|c},l.getPatternPosition=function(c){return h[c-1]},l.getMaskFunction=function(c){switch(c){case d.PATTERN000:return function(n,f){return(n+f)%2==0};case d.PATTERN001:return function(n,f){return n%2==0};case d.PATTERN010:return function(n,f){return f%3==0};case d.PATTERN011:return function(n,f){return(n+f)%3==0};case d.PATTERN100:return function(n,f){return(Math.floor(n/2)+Math.floor(f/3))%2==0};case d.PATTERN101:return function(n,f){return n*f%2+n*f%3==0};case d.PATTERN110:return function(n,f){return(n*f%2+n*f%3)%2==0};case d.PATTERN111:return function(n,f){return(n*f%3+(n+f)%2)%2==0};default:throw new Error("bad maskPattern:"+c)}},l.getErrorCorrectPolynomial=function(c){for(var f=b([1],0),s=0;c>s;s+=1){f=f.multiply(b([1,A.gexp(s)],0))}return f},l.getLengthInBits=function(f,c){if(c>=1&&10>c){switch(f){case y.MODE_NUMBER:return 10;case y.MODE_ALPHA_NUM:return 9;case y.MODE_8BIT_BYTE:return 8;case y.MODE_KANJI:return 8;default:throw new Error("mode:"+f)}}else{if(27>c){switch(f){case y.MODE_NUMBER:return 12;case y.MODE_ALPHA_NUM:return 11;case y.MODE_8BIT_BYTE:return 16;case y.MODE_KANJI:return 10;default:throw new Error("mode:"+f)}}else{if(!(41>c)){throw new Error("type:"+c)}switch(f){case y.MODE_NUMBER:return 14;case y.MODE_ALPHA_NUM:return 13;case y.MODE_8BIT_BYTE:return 16;case y.MODE_KANJI:return 12;default:throw new Error("mode:"+f)}}}},l.getLostPoint=function(s){for(var O=s.getModuleCount(),K=0,F=0;O>F;F+=1){for(var v=0;O>v;v+=1){for(var H=0,M=s.isDark(F,v),N=-1;1>=N;N+=1){if(!(0>F+N||F+N>=O)){for(var J=-1;1>=J;J+=1){0>v+J||v+J>=O||(0!=N||0!=J)&&M==s.isDark(F+N,v+J)&&(H+=1)}}}H>5&&(K+=3+H-5)}}for(var F=0;O-1>F;F+=1){for(var v=0;O-1>v;v+=1){var L=0;s.isDark(F,v)&&(L+=1),s.isDark(F+1,v)&&(L+=1),s.isDark(F,v+1)&&(L+=1),s.isDark(F+1,v+1)&&(L+=1),(0==L||4==L)&&(K+=3)}}for(var F=0;O>F;F+=1){for(var v=0;O-6>v;v+=1){s.isDark(F,v)&&!s.isDark(F,v+1)&&s.isDark(F,v+2)&&s.isDark(F,v+3)&&s.isDark(F,v+4)&&!s.isDark(F,v+5)&&s.isDark(F,v+6)&&(K+=40)}}for(var v=0;O>v;v+=1){for(var F=0;O-6>F;F+=1){s.isDark(F,v)&&!s.isDark(F+1,v)&&s.isDark(F+2,v)&&s.isDark(F+3,v)&&s.isDark(F+4,v)&&!s.isDark(F+5,v)&&s.isDark(F+6,v)&&(K+=40)}}for(var G=0,v=0;O>v;v+=1){for(var F=0;O>F;F+=1){s.isDark(F,v)&&(G+=1)}}var I=Math.abs(100*G/O/O-50)/5;return K+=10*I},l}(),A=function(){for(var f=new Array(256),c=new Array(256),g=0;8>g;g+=1){f[g]=1<<g}for(var g=8;256>g;g+=1){f[g]=f[g-4]^f[g-5]^f[g-6]^f[g-8]}for(var g=0;255>g;g+=1){c[f[g]]=g}var h={};return h.glog=function(e){if(1>e){throw new Error("glog("+e+")")}return c[e]},h.gexp=function(e){for(;0>e;){e+=255}for(;e>=256;){e-=255}return f[e]},h}(),C=function(){var f=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],c=function(n,l){var o={};return o.totalCount=n,o.dataCount=l,o},g={},h=function(l,n){switch(n){case j.L:return f[4*(l-1)+0];case j.M:return f[4*(l-1)+1];case j.Q:return f[4*(l-1)+2];case j.H:return f[4*(l-1)+3];default:return void 0}};return g.getRSBlocks=function(o,H){var s=h(o,H);if("undefined"==typeof s){throw new Error("bad rs block @ typeNumber:"+o+"/errorCorrectLevel:"+H)}for(var v=s.length/3,J=new Array,K=0;v>K;K+=1){for(var G=s[3*K+0],I=s[3*K+1],t=s[3*K+2],F=0;G>F;F+=1){J.push(c(I,t))}}return J},g}(),x=function(){var f=new Array,c=0,g={};return g.getBuffer=function(){return f},g.getAt=function(h){var l=Math.floor(h/8);return 1==(f[l]>>>7-h%8&1)},g.put=function(h,e){for(var l=0;e>l;l+=1){g.putBit(1==(h>>>e-l-1&1))}},g.getLengthInBits=function(){return c},g.putBit=function(h){var l=Math.floor(c/8);f.length<=l&&f.push(0),h&&(f[l]|=128>>>c%8),c+=1},g},z=function(e){var g=y.MODE_8BIT_BYTE,f=D.stringToBytes(e),c={};return c.getMode=function(){return g},c.getLength=function(h){return f.length},c.write=function(l){for(var h=0;h<f.length;h+=1){l.put(f[h],8)}},c},m=function(){var e=new Array,c={};return c.writeByte=function(f){e.push(255&f)},c.writeShort=function(f){c.writeByte(f),c.writeByte(f>>>8)},c.writeBytes=function(f,g,l){g=g||0,l=l||f.length;for(var h=0;l>h;h+=1){c.writeByte(f[h+g])}},c.writeString=function(f){for(var g=0;g<f.length;g+=1){c.writeByte(f.charCodeAt(g))}},c.toByteArray=function(){return e},c.toString=function(){var f="";f+="[";for(var g=0;g<e.length;g+=1){g>0&&(f+=","),f+=e[g]}return f+="]"},c},w=function(){var h=0,g=0,l=0,u="",s={},f=function(e){u+=String.fromCharCode(c(63&e))},c=function(e){if(0>e){}else{if(26>e){return 65+e}if(52>e){return 97+(e-26)}if(62>e){return 48+(e-52)}if(62==e){return 43}if(63==e){return 47}}throw new Error("n:"+e)};return s.writeByte=function(e){for(h=h<<8|255&e,g+=8,l+=1;g>=6;){f(h>>>g-6),g-=6}},s.flush=function(){if(g>0&&(f(h<<6-g),h=0,g=0),l%3!=0){for(var n=3-l%3,e=0;n>e;e+=1){u+="="}}},s.toString=function(){return u},s},E=function(h){var g=h,l=0,u=0,s=0,f={};f.read=function(){for(;8>s;){if(l>=g.length){if(0==s){return -1}throw new Error("unexpected end of file./"+s)}var n=g.charAt(l);if(l+=1,"="==n){return s=0,-1}n.match(/^\s$/)||(u=u<<6|c(n.charCodeAt(0)),s+=6)}var e=u>>>s-8&255;return s-=8,e};var c=function(e){if(e>=65&&90>=e){return e-65}if(e>=97&&122>=e){return e-97+26}if(e>=48&&57>=e){return e-48+52}if(43==e){return 62}if(47==e){return 63}throw new Error("c:"+e)};return f},q=function(c,H){var v=c,h=H,g=new Array(c*H),l={};l.setPixel=function(f,e,o){g[e*v+f]=o},l.write=function(n){n.writeString("GIF87a"),n.writeShort(v),n.writeShort(h),n.writeByte(128),n.writeByte(0),n.writeByte(0),n.writeByte(0),n.writeByte(0),n.writeByte(0),n.writeByte(255),n.writeByte(255),n.writeByte(255),n.writeString(","),n.writeShort(0),n.writeShort(0),n.writeShort(v),n.writeShort(h),n.writeByte(0);var f=2,u=G(f);n.writeByte(f);for(var e=0;u.length-e>255;){n.writeByte(255),n.writeBytes(u,e,255),e+=255}n.writeByte(u.length-e),n.writeBytes(u,e,u.length-e),n.writeByte(0),n.writeString(";")};var F=function(u){var f=u,I=0,K=0,J={};return J.write=function(e,n){if(e>>>n!=0){throw new Error("length over")}for(;I+n>=8;){f.writeByte(255&(e<<I|K)),n-=8-I,e>>>=8-I,K=0,I=0}K=e<<I|K,I+=n},J.flush=function(){I>0&&f.writeByte(K)},J},G=function(f){for(var P=1<<f,L=(1<<f)+1,o=f+1,I=s(),O=0;P>O;O+=1){I.add(String.fromCharCode(O))}I.add(String.fromCharCode(P)),I.add(String.fromCharCode(L));var M=m(),K=F(M);K.write(P,o);var Q=0,J=String.fromCharCode(g[Q]);for(Q+=1;Q<g.length;){var N=String.fromCharCode(g[Q]);Q+=1,I.contains(J+N)?J+=N:(K.write(I.indexOf(J),o),I.size()<4095&&(I.size()==1<<o&&(o+=1),I.add(J+N)),J=N)}return K.write(I.indexOf(J),o),K.write(L,o),K.flush(),M.toByteArray()},s=function(){var n={},f=0,o={};return o.add=function(e){if(o.contains(e)){throw new Error("dup key:"+e)}n[e]=f,f+=1},o.size=function(){return f},o.indexOf=function(e){return n[e]},o.contains=function(e){return"undefined"!=typeof n[e]},o};return l},B=function(g,M,H,l){for(var h=q(g,M),F=0;M>F;F+=1){for(var J=0;g>J;J+=1){h.setPixel(J,F,H(J,F))}}var L=m();h.write(L);for(var G=w(),I=L.toByteArray(),N=0;N<I.length;N+=1){G.writeByte(I[N])}G.flush();var K="";return K+="<img",K+=' src="',K+="data:image/gif;base64,",K+=G,K+='"',K+=' width="',K+=g,K+='"',K+=' height="',K+=M,K+='"',l&&(K+=' alt="',K+=l,K+='"'),K+="/>"};return D}();return function(b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports&&(module.exports=b())}(function(){return a}),!function(b){b.stringToBytes=function(d){function c(g){for(var f=[],h=0;h<g.length;h++){var j=g.charCodeAt(h);128>j?f.push(j):2048>j?f.push(192|j>>6,128|63&j):55296>j||j>=57344?f.push(224|j>>12,128|j>>6&63,128|63&j):(h++,j=65536+((1023&j)<<10|1023&g.charCodeAt(h)),f.push(240|j>>18,128|j>>12&63,128|j>>6&63,128|63&j))}return f}return c(d)}}(a),a}());(function(d){var f={HANDLE_TYPE_TEXT:"text",HANDLE_TYPE_LINK:"link",HANDLE_TYPE_CALLBACK_EVENT:"callback_event"};function c(r,s){var h=d('<div id="qrcode_container_'+s.id+'"></div>');var p="";switch(s.handleType){case f.HANDLE_TYPE_TEXT:p=s.value;break;case f.HANDLE_TYPE_LINK:case f.HANDLE_TYPE_CALLBACK_EVENT:var o=d("input[name='formid']").val();if(d("input[name='_templateForm']").val().length>0){o=d("input[name='_templateForm']").val()}var g=d("input[name='domain']").val();var m=d("input[name='content.id']").val();var n=s.fieldId;var j=d("input[name='application']").val();var q=s.serverHost.length==0?window.location.protocol+"//"+window.location.host+contextPath:s.serverHost;p=q+"/portal/document/qrcodefield/ready?domainId="+g+"&formId="+o+"&docId="+m+"&fieldId="+n+"&applicationId="+j+"&_randomCode="+s.randomCode;break;default:break}var l={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:s.size,fill:"#000",background:null,text:p,radius:0,quiet:0,mode:0,mSize:0.1,mPosX:0.5,mPosY:0.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};h.insertAfter(r);h.qrcode(l);return h}function b(h){var g=h.data("qrcode").options;if(g.handleType==f.HANDLE_TYPE_CALLBACK_EVENT){e(h)}}function e(j){var g=j.data("qrcode").options;var h=d("input[name='content.id']").val();var l=window.setInterval(function(){d.get(contextPath+"/portal/document/qrcodefield/handle?action=track&_randomCode="+g.randomCode,function(m){if(m=="success"){window.clearInterval(l);Activity.refreshForm()}})},5*1000)}function a(l){var j={};j.id=l.attr("id");j.fieldId=l.data("fieldId");j.handleType=l.data("handleType");j.serverHost=l.data("serverHost");j.name=l.attr("name");j.discription=HTMLDencode(l.data("discription"))?HTMLDencode(l.data("discription")):j.name;j.value=l.val();j.refreshOnChanged=(l.data("refreshOnChanged")?(l.data("refreshOnChanged")=="true"||l.data("refreshOnChanged")==true):undefined),j.displayType=l.data("displayType");j.size=l.data("size");var m="";var h=16;var n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678";var g=n.length;for(i=0;i<h;i++){m+=n.charAt(Math.floor(Math.random()*g))}j.randomCode=m;return j}d.fn.obpmQRCodeField=function(g,h){if(typeof g=="string"){return d.fn.obpmQRCodeField.method[g](this,h)}g=g||{};return this.each(function(){var j=d(this);var m=j.data("qrcode");if(m){d.extend(m.options,g)}else{g=d.extend({},d.fn.obpmQRCodeField.defaults,a(j),g);var l=c(j,g);m=j.data("qrcode",{options:g,panel:l});b(j)}})},d.fn.obpmQRCodeField.defaults={id:"",fieldId:"",handleType:f.HANDLE_TYPE_TEXT,serverHost:"",name:"",value:"",refreshOnChanged:false,discription:"",displayType:null},d.fn.obpmQRCodeField.method={setValue:function(h,g){},getValue:function(g){g.each(function(){})}}})(jQuery);var Activity={_LOCK:false,doExecute:function(d,b,c){var a=null;switch(b){case 1:a=new QueryBtn(d,c);break;case 2:a=new CreateBtn(d,c);break;case 3:a=new DeleteBtn(d,c);break;case 4:a=new SaveStartWorkflow(d,c);break;case 5:a=new WorkflowProcess(d,c);break;case 8:a=new CloseWindowBtn(d,c);break;case 9:a=new SaveCloseWindowBtn(d,c);break;case 10:a=new BackBtn(d,c);break;case 11:a=new SaveBackBtn(d,c);break;case 13:a=new NoneBtn(d,c);break;case 14:a=new HtmlPrintBtn(d,c);break;case 16:a=new ExportToExcelBtn(d,c);break;case 15:a=new HtmlPrintWithHisBtn(d,c);break;case 18:a=new ClearAllBtn(d,c);break;case 19:a=new SaveWithoutValidateBtn(d,c);break;case 20:a=new BatchApproveBtn(d,c);break;case 21:a=new SaveCopyBtn(d,c);break;case 25:a=new ExportToPdfBtn(d,c);break;case 26:a=new FileDownloadBtn(d,c);break;case 27:a=new ExcelImportBtn(d,c);break;case 28:a=new SignatureBtn(d,c);break;case 29:a=new BatchSignatureBtn(d,c);break;case 30:a=new FlexPrintBtn(d,c);break;case 33:a=new StartWorkflow(d,c);break;case 34:a=new SaveBtn(d,c);break;case 36:a=new PrintViewBtn(d,c);break;case 37:a=new TranspondBtn(d,c);break;case 42:a=new SaveNewBtn(d,c);break;case 43:a=new JumpToBtn(d,c);break;case 45:a=new ArchiveBtn(d,c);break;default:break}if(!a){return}Activity.doBefore(a)},doBefore:function(activityType){if(Activity._LOCK){return}Activity._LOCK=true;dy_lock();setTimeout(function(){Activity._LOCK=false;dy_unlock()},60*1000);if(activityType.doBefore){if(!activityType.doBefore()){Activity._LOCK=false;return}}var flag=false;jQuery.ajax({type:"POST",async:false,url:contextPath+"/portal/dynaform/activity/runbeforeactionscript.action?_actid="+activityType.actId,dataType:"text",data:activityType.getBeforePostData(),success:function(result){if(result!=null&&result!=""){result=result.replace(/\n/g,"<br/>");result=result.replace(/\r/g,"<br/>");var jsmessage=eval("("+result+")");var type=jsmessage.type;var content=jsmessage.content;if(type){if(type=="16"){Activity.showMessage(content,"error");flag=false}if(type=="32"){var rtn=window.confirm(content);if(!rtn){flag=false}else{flag=true}}}else{flag=true}if(flag){var changedField=jsmessage.changedField;if(typeof(changedField)!="undefined"&&changedField!=null&&changedField.length>0){for(var i=0;i<changedField.length;i++){var field=changedField[i];for(var key in field){if(document.getElementsByName(key).length>0){document.getElementsByName(key)[0].value=field[key]}}}}}}else{flag=true}},error:function(XMLHttpRequest,textStatus,errorThrown){Activity._LOCK=false;dy_unlock();if(XMLHttpRequest.readyState==0){Activity.showMessage("","error");Activity.refreshForm()}else{Activity.showMessage(errorThrown.message,"error")}}});if(!flag){Activity._LOCK=false;dy_unlock()}else{Activity.doAction(activityType)}},doAction:function(a){if(a.doAction){if(!a.doAction()){Activity._LOCK=false;dy_unlock();return}}jQuery.ajax({type:"POST",async:true,url:contextPath+"/portal/dynaform/activity/execute.action?_activityid="+a.actId,dataType:"json",data:a.getActionPostData(),success:function(n){if(n.status==1){var f=false;if(n.message&&n.message.length>3){Activity.showMessage(n.message,"info")}switch(n.data.resultType){case"form":Activity.refreshForm(a);break;case"view":Activity.refreshView(a);break;case"back":var e=$("#_backURL").val();if(e&&e.length>0){window.location.href=e}else{var l=$("input[name='openType']").val();if("277"==l||"16"==l){Activity.closeWindow()}else{history.back()}}break;case"close":var e=$("#_backURL").val();var l=$("input[name='openType']").val();if(!l||""==l){if(e&&e.length>0){window.location.href=e}return}Activity.closeWindow();break;case"message":if(n.data.resultData.type==16){Activity.showMessage(n.data.resultData.content,"error")}else{if(n.data.resultData.type==32){}}Activity._LOCK=false;if(a.actType==11){f=true}break;case"setParameter":a.params.parameter=n.data.resultData;break;case"validate":var j=n.data.resultData;var h="";for(var b in j){var g=j[b];for(var d in g){var c=g[d];h+=c+";"}}Activity.showMessage(h,"error");Activity._LOCK=false;dy_unlock();hideLoadingToast();return;break;case"exception":Activity.showMessage(n.data.resultData,"error",60*1000);return;break;default:break}if(a.doAfter&&typeof a.doAfter=="function"){if((a.actType!=11||f)){a.doAfter(n.data)}}}else{Activity.showMessage(n.message,"error")}Activity._LOCK=false;dy_unlock()},error:function(b,d,c){Activity._LOCK=false;dy_unlock();if(b.readyState==0){Activity.showMessage("","error")}else{Activity.showMessage(c.message,"error")}}})},refreshForm:function(a){jQuery.ajax({type:"POST",async:true,url:contextPath+"/portal/dynaform/activity/refreshForm.action",dataType:"json",data:jQuery("#document_content").serialize(),success:function(d){if(d.status==1){var c=d.data;var b=c.activityHtml;if(b){$(".formActBtn").html(b)}var e=c.formHtml;if(e){$("#_formHtml").html(e)}dy_lock();if(c.systemFields){for(var f in c.systemFields){$("input[name='"+f+"']").val(c.systemFields[f])}}if(c.processorHtml){$("#processorHtml").html('<div class="processor"><b>'+c.processorHtml+"</b></div>")}if(c.flowStateHtml){$("#flowStateHtml").html('<div class="flowstate" onmouseover="showFlowState(\'flowstate\');"><b>'+c.flowStateHtml+"</b></div>")}if(jQuery("input[name='content.stateid']").val().length>0){jQuery(".flowbtn").show()}initFormCommon();if($("input[activityType='5']")){FlowPanel.refreshFlowPanel("init")}dy_unlock()}else{Activity.showMessage(d.message,"error");Activity._LOCK=false}},error:function(b,d,c){if(b.readyState==0){Activity.showMessage("","error")}else{Activity.showMessage(c.message,"error")}Activity._LOCK=false}})},refreshView:function(a){jQuery.ajax({type:"POST",async:true,url:contextPath+"/portal/dynaform/activity/refreshView.action",dataType:"json",data:jQuery(document.forms[0]).serialize(),success:function(d){if(d.status==1){var c=d.data;var b=c.activityHtml;if(b){}var e=c.viewHtml;if(e){$("#viewHtml").html(e)}dy_lock();initListComm();adjustDataIteratorSize();setTimeout(function(){listViewAdjustLayout()},10);dy_unlock()}else{Activity.showMessage(d.message,"error");Activity._LOCK=false}Activity._LOCK=false},error:function(b,d,c){if(b.readyState==0){Activity.showMessage("","error")}else{Activity.showMessage(c.message,"error")}Activity._LOCK=false}})},back:function(a){var b=0;if(a.actType==11||a.actType==13){b=3000}setTimeout(function(){var c=$("#_backURL").val();if(c&&c.length>0){window.location.href=c}else{var d=$("input[name='openType']").val();if("277"==d||"16"==d){Activity.closeWindow()}else{history.back()}}},b)},closeWindow:function(){if($("#myModalexample",parent.document).hasClass("active")){parent.MyPopup._modal.trigger("close");return}var a=$("input[name='view_id']").val();if(parent){var d=parent.document.getElementById("sub_divid");var e=parent.document.getElementById(a);if(e){e.src=d.value;parent.ev_reloadParent();return}if(parent.frames.main_iframe){var c=parent.frames.main_iframe.frames.detail.frames[a];if(c){try{c.ev_reload();hidden()}catch(b){}}else{parent.close();parent.parentWindow.ev_reload()}}else{OBPM.dialog.doExit()}}else{OBPM.dialog.doExit()}},showMessage:function(c,b,a){if(!c){return}window.showMessage(b,c);dy_unlock()},makeAllFieldAble:function(d){var a=[];if(!d){d=document.forms[0].elements}for(var c=0;c<d.length;c++){var b=d[c];if(b.disabled==true){b.disabled=false;a.push(b)}}return a},setFieldDisabled:function(a){for(var c=0;c<a.length;c++){var b=a[c];if(b.disabled==false){b.disabled=true}}},cache:{}};function SaveStartWorkflow(b,a){this.actId=b;this.params=a;this.actType=4;if(typeof SaveStartWorkflow._initialized=="undefined"){SaveStartWorkflow.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveStartWorkflow.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveStartWorkflow.prototype.doBefore=function(){var c=true;var d=document.getElementById("operation");if(d){d.value="doSave"}setHTMLValue();return c};SaveStartWorkflow.prototype.doAction=function(){return true};SaveStartWorkflow.prototype.doAfter=function(c){};SaveStartWorkflow._initialized=true}return this}var historyRecory=history.length;function WorkflowProcess(b,a){this.actId=b;this.params=a;this.actType=5;if(typeof WorkflowProcess._initialized=="undefined"){WorkflowProcess.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};WorkflowProcess.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};WorkflowProcess.prototype.doBefore=function(){showLoadingToast();setHTMLValue();var c=true;return c};WorkflowProcess.prototype.doAction=function(){return true};WorkflowProcess.prototype.doAfter=function(c){hideLoadingToast();var g=$("#_backURL").val();var d=$("#openType").val();if($("#openType").val()=="from_weixin_message"){if(typeof WeixinJSBridge=="undefined"){if(document.addEventListener){document.addEventListener("WeixinJSBridgeReady",onBridgeReady,false)}else{if(document.attachEvent){document.attachEvent("WeixinJSBridgeReady",onBridgeReady);document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)}}}try{WeixinJSBridge.invoke("closeWindow",{},function(e){})}catch(j){}}else{if(g&&g.length>0){setTimeout(function(){window.location.href=g},3000)}else{if(GetReferrer()==""){try{WeixinJSBridge.invoke("closeWindow",{},function(e){})}catch(j){window.close()}}else{if($("#myModalexample",parent.document).hasClass("active")){parent.MyPopup._modal.trigger("close");return}else{var h=history.length;var f=-2;if(h-historyRecory>1){f=-(h-historyRecory+1)}history.go(f)}}}}}}WorkflowProcess._initialized=true;return this}function GetReferrer(){var a="";if(document.referrer.length>0){a=document.referrer}try{if(a.length==0&&opener.location.href.length>0){a=opener.location.href}}catch(b){}return a}function SaveBtn(b,a){this.actId=b;this.params=a;this.actType=34;if(typeof SaveBtn._initialized=="undefined"){SaveBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveBtn.prototype.doBefore=function(){var d=false;var e=document.getElementById("operation");if(e){e.value="doSave"}setHTMLValue();var c=false;if(!c||c=="false"){d=true}else{if(retvalue>=0){d=true}}return d};SaveBtn.prototype.doAction=function(){return true};SaveBtn.prototype.doAfter=function(d){if(d.resultType==="message"){var c=parseInt($("input[name='content.versions']").val());$("input[name='content.versions']").val((c+1)+"")}};SaveBtn._initialized=true}return this}function SaveBackBtn(b,a){this.actId=b;this.params=a;this.actType=11;if(typeof SaveBackBtn._initialized=="undefined"){SaveBackBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveBackBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveBackBtn.prototype.doBefore=function(){var d=false;var e=document.getElementById("operation");if(e){e.value="doSave"}setHTMLValue();var c=false;if(!c||c=="false"){d=true}else{if(retvalue>=0){d=true}}return d};SaveBackBtn.prototype.doAction=function(){return true};SaveBackBtn.prototype.doAfter=function(c){var g=$("#_backURL").val();var d=$("#openType").val();if($("#openType").val()=="from_weixin_message"){if(typeof WeixinJSBridge=="undefined"){if(document.addEventListener){document.addEventListener("WeixinJSBridgeReady",onBridgeReady,false)}else{if(document.attachEvent){document.attachEvent("WeixinJSBridgeReady",onBridgeReady);document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)}}}try{WeixinJSBridge.invoke("closeWindow",{},function(e){})}catch(j){}}else{if(g&&g.length>0){setTimeout(function(){window.location.href=g},3000)}else{if(GetReferrer()==""){try{WeixinJSBridge.invoke("closeWindow",{},function(e){})}catch(j){window.close()}}else{if($("#myModalexample",parent.document).hasClass("active")){parent.MyPopup._modal.trigger("close");return}else{var h=history.length;var f=-1;if(h-historyRecory>1){f=-(h-historyRecory+1)}setTimeout(function(){history.go(f)},3000)}}}}};SaveBackBtn._initialized=true}return this}function SaveWithoutValidateBtn(b,a){this.actId=b;this.params=a;this.actType=34;if(typeof SaveWithoutValidateBtn._initialized=="undefined"){SaveWithoutValidateBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");jQuery("iframe[name='display_view']").trigger("save");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveWithoutValidateBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveWithoutValidateBtn.prototype.doBefore=function(){var d=false;var f=document.getElementById("operation");if(f){f.value="doSave"}setHTMLValue();var e=doWordSave();if(!e){alert("Word Word");return false}var c=false;if(!c||c=="false"){d=true}else{if(e>=0){d=true}}if(d){d=ifSubSaveForm()}return d};SaveWithoutValidateBtn.prototype.doAction=function(){return true};SaveWithoutValidateBtn.prototype.doAfter=function(c){};SaveWithoutValidateBtn._initialized=true}return this}function SaveCloseWindowBtn(b,a){this.actId=b;this.params=a;this.actType=9;if(typeof SaveCloseWindowBtn._initialized=="undefined"){SaveCloseWindowBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveCloseWindowBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveCloseWindowBtn.prototype.doBefore=function(){var d=false;var f=document.getElementById("operation");if(f){f.value="doSave"}setHTMLValue();var e=doWordSave();if(!e){alert("Word Word");return false}var c=false;if(!c||c=="false"){d=true}else{if(e>=0){d=true}}if(d){d=ifSubSaveForm()}if(d){d=beforeAct(this.actType)}return d};SaveCloseWindowBtn.prototype.doAction=function(){return true};SaveCloseWindowBtn.prototype.doAfter=function(c){};SaveCloseWindowBtn._initialized=true}return this}function SaveNewBtn(b,a){this.actId=b;this.params=a;this.actType=10;this.withOld=a.withOld;if(typeof SaveNewBtn._initialized=="undefined"){SaveNewBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveNewBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveNewBtn.prototype.doBefore=function(){var c=true;var d=document.getElementById("operation");if(d){d.value="doSave"}setHTMLValue();return c};SaveNewBtn.prototype.doAction=function(){return true};SaveNewBtn.prototype.doAfter=function(c){jQuery.ajax({type:"POST",async:true,url:contextPath+"/portal/dynaform/activity/newDocument.action?_withOld="+this.withOld,dataType:"json",timeout:3000,data:jQuery("#document_content").serialize(),success:function(f){if(f.status==1){var e=f.data;var d=e.activityHtml;if(d){$(".formActBtn").html(d)}var g=e.formHtml;if(g){$("#_formHtml").html(g)}dy_lock();if($("input[activityType='5']")){FlowPanel.refreshFlowPanel("init")}if(e.systemFields){for(var h in e.systemFields){$("input[name='"+h+"']").val(e.systemFields[h])}}$("#processorHtml").html("");$("#flowStateHtml").html("");jQuery(".flowbtn").hide();initFormCommon();dy_unlock()}else{Activity.showMessage(f.message,"error")}},error:function(d,f,e){if(d.readyState==0){Activity.showMessage("","error")}else{Activity.showMessage(e.message,"error")}}})};SaveNewBtn._initialized=true}return this}function BackBtn(b,a){this.actId=b;this.params=a;this.actType=10;if(typeof BackBtn._initialized=="undefined"){BackBtn.prototype.getBeforePostData=function(){return jQuery("#document_content").serialize()};BackBtn.prototype.getActionPostData=function(){return jQuery("#document_content").serialize()};BackBtn.prototype.doBefore=function(){var c=false;c=ifSubSaveForm();if(c){c=beforeAct(this.actType)}return c};BackBtn.prototype.doAction=function(){return true};BackBtn.prototype.doAfter=function(c){};BackBtn._initialized=true}return this}function NoneBtn(b,a){this.actId=b;this.params=a;this.actType=13;this.afterActionType=a.afterActionType;this.afterActionDispatcherUrlScript=a.afterActionDispatcherUrlScript;if(typeof NoneBtn._initialized=="undefined"){NoneBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};NoneBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};NoneBtn.prototype.doBefore=function(){return true};NoneBtn.prototype.doAction=function(){return true};NoneBtn.prototype.doAfter=function(c){switch(this.afterActionType){case 0:break;case 1:Activity.back(this);break;case 2:var d=$("input[name='openType']").val();if("277"==d||"16"==d){Activity.closeWindow()}else{Activity.back(this)}break;case 3:window.location.href=this.afterActionDispatcherUrlScript;break;default:break}};NoneBtn._initialized=true}return this}function SaveCopyBtn(b,a){this.actId=b;this.params=a;this.actType=21;if(typeof SaveCopyBtn._initialized=="undefined"){SaveCopyBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveCopyBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SaveCopyBtn.prototype.doBefore=function(){var d=false;var f=document.getElementById("operation");if(f){f.value="doSave"}setHTMLValue();var e=doWordSave();if(!e){alert("Word Word");return false}var c=false;if(!c||c=="false"){d=true}else{if(e>=0){d=true}}if(d){d=ifSubSaveForm()}return d};SaveCopyBtn.prototype.doAction=function(){return true};SaveCopyBtn.prototype.doAfter=function(c){if(!c.resultData){return}$("input[name='content.id']").val(c.resultData);Activity.refreshForm(this)};SaveCopyBtn._initialized=true}return this}function CloseWindowBtn(b,a){this.actId=b;this.params=a;this.actType=8;if(typeof CloseWindowBtn._initialized=="undefined"){CloseWindowBtn.prototype.getBeforePostData=function(){return jQuery("#document_content").serialize()};CloseWindowBtn.prototype.getActionPostData=function(){return jQuery("#document_content").serialize()};CloseWindowBtn.prototype.doBefore=function(){var c=false;c=ifSubSaveForm();if(c){c=beforeAct(this.actType)}return c};CloseWindowBtn.prototype.doAction=function(){return true};CloseWindowBtn.prototype.doAfter=function(c){if(c.resultType&&(c.resultType=="message"||c.resultType=="validate"||c.resultType=="exception")){return}var d=$("input[name='openType']").val();if("277"==d||"16"==d){top.OBPM.dialog.doExit()}else{if($("#openType").val()=="from_weixin_message"){if(typeof WeixinJSBridge=="undefined"){if(document.addEventListener){document.addEventListener("WeixinJSBridgeReady",onBridgeReady,false)}else{if(document.attachEvent){document.attachEvent("WeixinJSBridgeReady",onBridgeReady);document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)}}}try{WeixinJSBridge.invoke("closeWindow",{},function(e){})}catch(f){}}else{if(GetReferrer()==""){try{WeixinJSBridge.invoke("closeWindow",{},function(e){})}catch(f){window.close()}}else{history.go(-2)}}}};CloseWindowBtn._initialized=true}return this}function HtmlPrintBtn(b,a){this.actId=b;this.params=a;this.actType=14;if(typeof HtmlPrintBtn._initialized=="undefined"){HtmlPrintBtn.prototype.getBeforePostData=function(){return jQuery("#document_content").serialize()};HtmlPrintBtn.prototype.getActionPostData=function(){return jQuery("#document_content").serialize()};HtmlPrintBtn.prototype.doBefore=function(){return true};HtmlPrintBtn.prototype.doAction=function(){return true};HtmlPrintBtn.prototype.doAfter=function(m){var g=false;var f=document.getElementsByName("content.id")[0].value;var j=document.getElementsByName("content.applicationid")[0].value;var h=document.getElementsByName("_formid")[0].value;var l=document.getElementsByName("_flowid")[0].value;var c=document.getElementsByName("_templateForm")[0].value;var e=document.getElementById("signatureExist").value;var d=contextPath+"/portal/dynaform/activity/print.action?_docid="+f;d+="&_formid="+h;d+="&_signatureExist="+e;d+="&application="+j;if(g&&l){d+="&_flowid="+l}if(c){d+="&_templateForm="+c}if(parent!=top){parent.open(d)}else{window.open(d)}};HtmlPrintBtn._initialized=true}return this}function HtmlPrintWithHisBtn(b,a){this.actId=b;this.params=a;this.actType=14;if(typeof HtmlPrintWithHisBtn._initialized=="undefined"){HtmlPrintWithHisBtn.prototype.getBeforePostData=function(){return jQuery("#document_content").serialize()};HtmlPrintWithHisBtn.prototype.getActionPostData=function(){return jQuery("#document_content").serialize()};HtmlPrintWithHisBtn.prototype.doBefore=function(){return true};HtmlPrintWithHisBtn.prototype.doAction=function(){return true};HtmlPrintWithHisBtn.prototype.doAfter=function(m){var g=true;var f=document.getElementsByName("content.id")[0].value;var j=document.getElementsByName("content.applicationid")[0].value;var h=document.getElementsByName("_formid")[0].value;var l=document.getElementsByName("_flowid")[0].value;var c=document.getElementsByName("_templateForm")[0].value;var e=document.getElementById("signatureExist").value;var d=contextPath+"/portal/dynaform/activity/print.action?_docid="+f;d+="&_formid="+h;d+="&_signatureExist="+e;d+="&_activityid="+this.actId;d+="&application="+j;if(g&&l){d+="&_flowid="+l}if(c){d+="&_templateForm="+c}if(parent!=top){parent.open(d)}else{window.open(d)}};HtmlPrintWithHisBtn._initialized=true}return this}function FlexPrintBtn(b,a){this.actId=b;this.params=a;this.actType=30;this.printerid=a.printerid;this.withFlowHis=a.withFlowHis;if(typeof FlexPrintBtn._initialized=="undefined"){FlexPrintBtn.prototype.getBeforePostData=function(){return jQuery("#document_content").serialize()};FlexPrintBtn.prototype.getActionPostData=function(){return jQuery("#document_content").serialize()};FlexPrintBtn.prototype.doBefore=function(){return true};FlexPrintBtn.prototype.doAction=function(){return true};FlexPrintBtn.prototype.doAfter=function(c){var g=document.getElementsByName("content.id")[0].value;var f=document.getElementsByName("_formid")[0].value;var d=document.getElementsByName("_flowid")[0].value;var e=contextPath+"/portal/share/dynaform/printer/flexprint.jsp?_activityid="+this.actId+"&id="+this.printerid+"&_docid="+g+"&_formid="+f+"&_flowid="+d;if(parent!=top){parent.open(e)}else{window.open(e)}};FlexPrintBtn._initialized=true}return this}function ExportToPdfBtn(b,a){this.actId=b;this.params=a;this.actType=25;if(typeof ExportToPdfBtn._initialized=="undefined"){ExportToPdfBtn.prototype.getBeforePostData=function(){return jQuery("#document_content").serialize()};ExportToPdfBtn.prototype.getActionPostData=function(){return jQuery("#document_content").serialize()};ExportToPdfBtn.prototype.doBefore=function(){return true};ExportToPdfBtn.prototype.doAction=function(){var d=document.getElementsByName("content.id")[0].value;var c=contextPath+"/portal/dynaform/activity/process.action?_activityid="+this.actId;document.forms[0].action=c;document.forms[0].submit();return false};ExportToPdfBtn.prototype.doAfter=function(c){};ExportToPdfBtn._initialized=true}return this}function FileDownloadBtn(b,a){this.actId=b;this.params=a;this.actType=26;if(typeof FileDownloadBtn._initialized=="undefined"){FileDownloadBtn.prototype.getBeforePostData=function(){return jQuery("#document_content").serialize()};FileDownloadBtn.prototype.getActionPostData=function(){return jQuery("#document_content").serialize()};FileDownloadBtn.prototype.doBefore=function(){return true};FileDownloadBtn.prototype.doAction=function(){var c=contextPath+"/portal/dynaform/activity/process.action?_activityid="+this.actId;document.forms[0].action=c;document.forms[0].submit();return false};FileDownloadBtn.prototype.doAfter=function(c){};FileDownloadBtn._initialized=true}return this}function SignatureBtn(b,a){this.actId=b;this.params=a;this.actType=28;if(typeof SignatureBtn._initialized=="undefined"){SignatureBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SignatureBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};SignatureBtn.prototype.doBefore=function(){if(navigator.userAgent.indexOf("MSIE")<=0){alert("IE!");return}var h=null;if(window.ActiveXObject){try{h=new ActiveXObject("Microsoft.XMLHTTP")}catch(l){alert("Microsoft.XMLHTTP,AJAX..")}}else{if(window.XMLHttpRequest){try{h=new XMLHttpRequest()}catch(l){alert("XMLHttpRequest,AJAX..")}}}var f=document.getElementById("mGetDocumentUrl").value;var c=document.getElementById("mLoginname").value;var d=document.getElementsByName("content.id")[0].value;var g=document.getElementsByName("formid")[0].value;var j=document.getElementsByName("applicationid")[0].value;f=f+"?_docid="+d+"&_formid="+g+"&_applicationid="+j;h.onreadystatechange=function(){if(h.readyState==4&&h.status==200){if(h.responseText=="false"){return}var n=h.responseText.split(",");var e="";for(var m=0;m<n.length;m++){if(m!=n.length-1){e=e+(n[m]+"="+n[m]+";")}else{e=e+(n[m]+"="+n[m])}}if(document_content.SignatureControl!=null){document_content.SignatureControl.FieldsList=e;document_content.SignatureControl.Position(460,260);document_content.SignatureControl.UserName="lyj";document_content.SignatureControl.DivId="contentTable";document_content.SignatureControl.RunSignature()}else{alert("iSignatureHTML");document.getElementById("hreftest").click()}}};h.open("POST",f);h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.send(null);return false};SignatureBtn.prototype.doAction=function(){return false};SignatureBtn.prototype.doAfter=function(c){};SignatureBtn._initialized=true}return this}function TranspondBtn(b,a){this.actId=b;this.params=a;this.actType=37;this.summaryCfg=a.summaryCfg;if(typeof TranspondBtn._initialized=="undefined"){TranspondBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};TranspondBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};TranspondBtn.prototype.doBefore=function(){return true};TranspondBtn.prototype.doAction=function(){var g=document.getElementsByName("content.applicationid")[0].value;var c=document.getElementsByName("content.id")[0].value;var f=document.getElementsByName("_formid")[0].value;var e=document.getElementById("signatureExist").value;var h=window.location.toString();var d="../share/dynaform/view/activity/emailTranspond.jsp?application="+g;OBPM.dialog.show({opener:window.parent.parent,width:700,height:300,args:{_activityid:this.actId,application:g,docid:c,formid:f,transpond:this.summaryCfg,handleUrl:h,signatureExist:e},url:d,title:"",close:function(){}});return false};TranspondBtn.prototype.doAfter=function(c){};TranspondBtn._initialized=true}return this}function JumpToBtn(b,a){this.actId=b;this.params=a;this.actType=43;this.jumpType=a.jumpType;this.targetList=a.targetList;this.jumpMode=a.jumpMode;if(typeof JumpToBtn._initialized=="undefined"){JumpToBtn.prototype.getBeforePostData=function(){if(jQuery("#formList").size()>0){return jQuery("#formList").serialize()}else{return jQuery("#document_content").serialize()}};JumpToBtn.prototype.getActionPostData=function(){if(jQuery("#formList").size()>0){return jQuery("#formList").serialize()}else{return jQuery("#document_content").serialize()}};JumpToBtn.prototype.doBefore=function(){return true};JumpToBtn.prototype.doAction=function(){switch(this.jumpMode){case 0:var q=this.targetList.split(";");var o;for(var g=0;g<q.length;g++){o=q[0].split("|")[0]}if(this.jumpType==0){var p=document.getElementById("application").value;var r=document.getElementsByName("content.id")[0].value;var e=document.getElementById("view_id").value;var d=document.getElementsByName("signatureExist")[0].value;var n=document.getElementsByName("formid")[0].value;var f=document.getElementsByName("_backURL")[0].value;var m=contextPath+"/portal/dynaform/document/view.action";var l=contextPath+"/portal/dynaform/activity/process.action?_activityid="+this.actId;var c=l+"&applicationid="+p+"&application="+p+"&_jumpForm="+n+"&_formid="+o+"&view_id="+e+"&_isJump=1&_backURL="+encodeURIComponent(m+"?_docid="+r+"&application="+p+"&_formid="+n+"&view_id="+e+"&signatureExist="+d+"&_backURL="+encodeURIComponent(f));window.location.href=c}else{}break;case 1:var j=jQuery("#document_content").serialize();var c=contextPath+"/portal/dynaform/activity/process.action?_activityid="+this.actId;var h='<input type="hidden" name="formData" value="'+j+'" />';jQuery("#document_content").append(h);document.forms[0].action=c;makeAllFieldAble();document.forms[0].submit();break;default:break}return false};JumpToBtn.prototype.doAfter=function(c){};JumpToBtn._initialized=true}return this}function CreateBtn(actId,params){this.actId=actId;this.params=params;this.actType=2;this.viewType=params.viewType;this.openType=params.openType;this.formId=params.formId;this.target=params.target;if(typeof CreateBtn._initialized=="undefined"){CreateBtn.prototype.getBeforePostData=function(){if(typeof HAS_SUBFORM!="undefined"&&HAS_SUBFORM){return DisplayView.span2Params(this.target)}else{return jQuery(document.forms[0]).serialize()}};CreateBtn.prototype.getActionPostData=function(){if(typeof HAS_SUBFORM!="undefined"&&HAS_SUBFORM){var application=$(".control-content.active").find("span[name='application']").text();var view=DisplayView.getTheView(this.target);var json=DisplayView.span2Json(this.target);json.formId=this.formId;var elems=$(view).find("[name=_selects]:checked");json._backURL="";return DisplayView.addVal2Params(json,elems)}else{return jQuery(document.forms[0]).serialize()+"&formId="+this.formId}};CreateBtn.prototype.doBefore=function(){return true};CreateBtn.prototype.doAction=function(){if(this.openType==288){jQuery("#VIEW_OPEN_TYPE_GRID_BTN").css("display","");DocumentUtil.doNew(this.actId,getGridParams(),function(rtn){var oTR=eval(rtn);if(oTR){insertRow(oTR[0],oTable.rows.length);newRows.push(oTR.attr("id"));doRowEdit(oTR.attr("id"))}jQuery("#"+oTR.attr("id")).bind("change",function(){setFieldValChanged(true)}).bind("keydown",function(e){var key=e.which;if(this.type!="textarea"&&key==13){e.preventDefault()}});jqRefactor();ev_resize4IncludeViewPar()});return false}return true};CreateBtn.prototype.doAfter=function(result){var url=contextPath+"/portal/dynaform/activity/process.action?_activityid="+this.actId+"&_formid="+this.formId;if(this.params.parameter){url+="&content.id="+this.params.parameter}if(this.openType==17){var isRelate=document.getElementsByName("isRelate");url+="&isSubDoc=true";if(isRelate){if(isRelate.length>0){var relate=isRelate[0].value;url+="&isRelate="+relate}}}if(document.getElementsByName("_openType")[0]){if(typeof HAS_SUBFORM!="undefined"&&HAS_SUBFORM){this.openType=document.getElementsByName("_openType")[0].innerText}else{this.openType=document.getElementsByName("_openType")[0].value}}var parameters=getQueryString(this.openType);resetBackURL();if(this.openType==1){if(isHomePage()){url+="&_backURL="+encodeURIComponent(contextPath+"/portal/dispatch/homepage.jsp");url+="&"+parameters;parent.location=appendApplicationidByView(url)}else{document.forms[0].action=url;document.forms[0].submit()}}else{if(this.openType==OPEN_TYPE_POP||this.openType==OPEN_TYPE_DIV){var oSelects=document.getElementsByName("_selects");var _selects="";if(oSelects){for(var i=0;i<oSelects.length;i++){if(oSelects[i].checked){_selects+="&_selects="+oSelects[i].value}}}url+="&"+parameters+"&openType="+this.openType+_selects;url=appendApplicationidByView(url);$("#document_content").hide();$("#myModalexample").find(".content").css({position:"static",height:$(window).height()-44});$("#myModalexample").find(".content>iframe").css({position:"absolute","z-index":"1",top:"44px",height:$(window).height()-44});MyPopup.open({url:url,title:"",success:function(){$("[name='_fieldid']").each(function(){$("#document_content").show();$("#"+$(this).text()).trigger("refresh")})}})}else{if(this.openType==OPEN_TYPE_OWN){var id=document.getElementsByName("_viewid")[0].value;if(this.openType==VIEW_TYPE_SUB){var sub_divid=parent.document.getElementById("sub_divid");var doc_obj=parent.document.getElementById(id);if(sub_divid){sub_divid.value=doc_obj.src}document.forms[0].action=url;document.forms[0].submit()}else{document.forms[0].action=url;document.forms[0].submit()}}else{if(toggleButton("button_act")){return false}}}}};CreateBtn._initialized=true}return this}function DeleteBtn(b,a){this.actId=b;this.params=a;this.actType=3;this.target=a.target;if(typeof DeleteBtn._initialized=="undefined"){DeleteBtn.prototype.getBeforePostData=function(){if(typeof DisplayView=="object"&&DisplayView.getTheView(this.target)){var c=DisplayView.getTheView(this.target);var e=DisplayView.span2Json(this.target);var d=$(c).find("[name=_selects]:checked");return DisplayView.addVal2Params(e,d)}else{return jQuery(document.forms[0]).serialize()}};DeleteBtn.prototype.getActionPostData=function(){if(typeof DisplayView=="object"&&DisplayView.getTheView(this.target)){var c=DisplayView.getTheView(this.target);var e=DisplayView.span2Json(this.target);var d=$(c).find("[name=_selects]:checked");return DisplayView.addVal2Params(e,d)}else{return jQuery(document.forms[0]).serialize()}};DeleteBtn.prototype.doBefore=function(){var c=document.getElementsByName("_selects");var f=false;for(var d=0;d<c.length;d++){if(c[d].checked==true){f=true;break}}if(f){var e=window.confirm("");if(!e){return false}}else{alert("");return false}return true};DeleteBtn.prototype.doAction=function(){return true};DeleteBtn.prototype.doAfter=function(d){var c=$("[name='_openType']:eq(0)").text();if(c&&c=="277"){var e=$(this.target).parents("div[name='display_view']");var f=e.attr("src");e.trigger("refresh")}else{document.forms[0].action=contextPath+"/portal/dynaform/view/displayView.action";document.forms[0].submit()}};DeleteBtn._initialized=true}return this}function ClearAllBtn(b,a){this.actId=b;this.params=a;this.actType=18;if(typeof ClearAllBtn._initialized=="undefined"){ClearAllBtn.prototype.getBeforePostData=function(){return jQuery(document.forms[0]).serialize()};ClearAllBtn.prototype.getActionPostData=function(){return jQuery(document.forms[0]).serialize()};ClearAllBtn.prototype.doBefore=function(){return window.confirm("")};ClearAllBtn.prototype.doAction=function(){return true};ClearAllBtn.prototype.doAfter=function(c){document.forms[0].action=contextPath+"/portal/dynaform/view/displayView.action";document.forms[0].submit()};ClearAllBtn._initialized=true}return this}function QueryBtn(b,a){this.actId=b;this.params=a;this.actType=1;this.viewId=a.viewId;this.target=a.target;if(typeof QueryBtn._initialized=="undefined"){QueryBtn.prototype.getBeforePostData=function(){if(typeof HAS_SUBFORM!="undefined"&&HAS_SUBFORM){return DisplayView.span2Params(this.target)}else{return jQuery(document.forms[0]).serialize()}};QueryBtn.prototype.getActionPostData=function(){if(typeof HAS_SUBFORM!="undefined"&&HAS_SUBFORM){var e=$(".control-content.active").find("span[name='application']").text();var c=DisplayView.getTheView(this.target);var f=DisplayView.span2Json(this.target);f.formId=this.formId;var d=$(c).find("[name=_selects]:checked");f._backURL="";return DisplayView.addVal2Params(f,d)}else{return jQuery(document.forms[0]).serialize()+"&formId="+this.formId}};QueryBtn.prototype.doBefore=function(){return true};QueryBtn.prototype.doAction=function(){return true};QueryBtn.prototype.doAfter=function(d){var c=$("[name='_openType']:eq(0)").text();if(c&&c=="277"){var e=$(this.target).parents("div[name='display_view']");var f=e.attr("src");e.load(f,function(){var g=$(".tab_parameter");var h=this.id+"_params";var j=$("<div></div>").attr("id",h).attr("_action",$(this).attr("src")).css("display","none");$.each($(this).find(".tab_parameter").find("input[type!=button],select,textarea").serializeArray(),function(){j.append("<span name='"+this.name+"'>"+this.value+"</span>")});$(this).append(j);g.find("input[type!=button],select,textarea").each(function(){if(!$(this).attr("moduleType")){$(this).remove()}});jqRefactor()})}else{document.forms[0].action=contextPath+"/portal/dynaform/view/displayView.action?_viewid="+this.viewId;document.forms[0].submit()}};QueryBtn._initialized=true}return this}function BatchApproveBtn(b,a){this.actId=b;this.params=a;this.actType=20;this.hasRun=false;if(typeof BatchApproveBtn._initialized=="undefined"){BatchApproveBtn.prototype.getBeforePostData=function(){return jQuery(document.forms[0]).serialize()};BatchApproveBtn.prototype.getActionPostData=function(){return jQuery(document.forms[0]).serialize()};BatchApproveBtn.prototype.doBefore=function(){var c=document.getElementsByName("_selects");var e=false;for(var d=0;d<c.length;d++){if(c[d].checked==true){e=true;break}}if(!e){alert("")}return e};BatchApproveBtn.prototype.doAction=function(){if(this.hasRun){return true}var c=this;if(jQuery("#inputAuditRemarkDiv"+this.actId).attr("id")){artDialog.prompt("",function(e,d){jQuery("#_attitude"+c.actId).val(e);c.hasRun=true;Activity.doAction(c)},true)}return false};BatchApproveBtn.prototype.doAfter=function(c){document.forms[0].action=contextPath+"/portal/dynaform/view/displayView.action";document.forms[0].submit()};BatchApproveBtn._initialized=true}return this}function ExportToExcelBtn(b,a){this.actId=b;this.params=a;this.actType=16;this.fileName=a.fileName;this.expSub=a.expSub;this.hasRun=false;if(typeof ExportToExcelBtn._initialized=="undefined"){ExportToExcelBtn.prototype.getBeforePostData=function(){return jQuery(document.forms[0]).serialize()};ExportToExcelBtn.prototype.getActionPostData=function(){return jQuery(document.forms[0]).serialize()};ExportToExcelBtn.prototype.doBefore=function(){if(this.hasRun){alert("");return false}return true};ExportToExcelBtn.prototype.doAction=function(){var c=document.forms[0].action;var d=contextPath+"/portal/dynaform/activity/process.action?_activityid="+this.actId+"&filename="+this.fileName+"&isExpSub="+this.expSub;document.forms[0].action=d;document.forms[0].submit();this.hasRun=true;document.forms[0].action=c;return false};ExportToExcelBtn.prototype.doAfter=function(c){};ExportToExcelBtn._initialized=true}return this}function PrintViewBtn(b,a){this.actId=b;this.params=a;this.actType=14;if(typeof PrintViewBtn._initialized=="undefined"){PrintViewBtn.prototype.getBeforePostData=function(){return jQuery(document.forms[0]).serialize()};PrintViewBtn.prototype.getActionPostData=function(){return jQuery(document.forms[0]).serialize()};PrintViewBtn.prototype.doBefore=function(){return true};PrintViewBtn.prototype.doAction=function(){return true};PrintViewBtn.prototype.doAfter=function(c){var g=document.getElementsByName("_viewid")[0].value;var f=document.getElementById("signatureExist").value;var e=contextPath+"/portal/dynaform/view/printView.action";e+="?_signatureExist="+f;e+="&_activityid="+this.actId;e+="&isprint=true";var d=document.forms[0];d.action=e;fmwin=window.open("about:blank","_my_submit_win");d.target="_my_submit_win";d.submit();d.target=""};PrintViewBtn._initialized=true}return this}function ExcelImportBtn(b,a){this.actId=b;this.params=a;this.actType=27;this.impmappingconfigid=a.impmappingconfigid;if(typeof ExcelImportBtn._initialized=="undefined"){ExcelImportBtn.prototype.getBeforePostData=function(){return jQuery(document.forms[0]).serialize()};ExcelImportBtn.prototype.getActionPostData=function(){return jQuery(document.forms[0]).serialize()};ExcelImportBtn.prototype.doBefore=function(){return true};ExcelImportBtn.prototype.doAction=function(){var c=this.impmappingconfigid;var j="";if(document.getElementsByName("parentid")){j=document.getElementsByName("parentid")[0].value}var f="";if(document.getElementsByName("application")){f=document.getElementsByName("application")[0].value}var h="";if(document.getElementsByName("isRelate")){var g=document.getElementsByName("isRelate");if(g.length!=0){h=g[0].value}}var d=document.getElementsByName("_viewid")[0].value;if(c){var e=importURL;e+="?parentid="+j;e+="&id="+c;e+="&application="+f;e+="&isRelate="+h;e+="&_activityid="+this.actId;e+="&_viewid="+d;OBPM.dialog.show({width:530,height:420,url:e,args:{},title:"Excel",close:function(l){document.forms[0].submit()}})}return false};ExcelImportBtn.prototype.doAfter=function(c){};ExcelImportBtn._initialized=true}return this}function BatchSignatureBtn(b,a){this.actId=b;this.params=a;this.actType=29;if(typeof BatchSignatureBtn._initialized=="undefined"){BatchSignatureBtn.prototype.getBeforePostData=function(){return jQuery(document.forms[0]).serialize()};BatchSignatureBtn.prototype.getActionPostData=function(){return jQuery(document.forms[0]).serialize()};BatchSignatureBtn.prototype.doBefore=function(){if(navigator.userAgent.indexOf("MSIE")<0){alert("iSignatureHTMLIEIE");return}var n=document.getElementsByName("_selects").length;var c;var h="";for(var j=0;j<n;j++){c=document.getElementsByName("_selects")[j];if(c.checked){if(j!=n-1){h=h+c.value+";"}else{h=h+c.value}}}var p=null;if(window.ActiveXObject){try{p=new ActiveXObject("Microsoft.XMLHTTP")}catch(o){alert("Microsoft.XMLHTTP,AJAX..")}}else{if(window.XMLHttpRequest){try{p=new XMLHttpRequest()}catch(o){alert("XMLHttpRequest,AJAX..")}}}var d=document.getElementById("mGetBatchDocumentUrl").value;var l=document.getElementById("mLoginname").value;var m=document.getElementById("DocumentID").value;var f=document.getElementById("ApplicationID").value;var g=document.getElementById("FormID").value;d=d+"?DocumentID="+m+"&ApplicationID2="+f+"&FormID2="+g;p.onreadystatechange=function(){if(p.readyState==4&&p.status==200){if(p.responseText=="false"){return}var r=p.responseText.split(",");var e="";for(var q=0;q<r.length;q++){if(q!=r.length-1){e=e+(r[q]+"="+r[q]+";")}else{e=e+(r[q]+"="+r[q])}}if(formList.SignatureControl!=null){if(h==""){alert("")}formList.SignatureControl.FieldsList=e;formList.SignatureControl.Position(460,275);formList.SignatureControl.DocumentList=h;formList.SignatureControl.WebSetFontOther("True","","0","","11","000128","True");formList.SignatureControl.SaveHistory="false";formList.SignatureControl.UserName="lyj";formList.SignatureControl.WebCancelOrder=0;formList.SignatureControl.AutoCloseBatchWindow=true;formList.SignatureControl.RunBatchSignature()}else{alert("iSignatureHTML");document.getElementById("hreftest2").click()}}};p.open("POST",d);p.setRequestHeader("Content-Type","application/x-www-form-urlencoded");p.send(null);return false};BatchSignatureBtn.prototype.doAction=function(){return false};BatchSignatureBtn.prototype.doAfter=function(c){};BatchSignatureBtn._initialized=true}return this}function ArchiveBtn(b,a){this.actId=b;this.params=a;this.actType=45;if(typeof ArchiveBtn._initialized=="undefined"){ArchiveBtn.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};ArchiveBtn.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};ArchiveBtn.prototype.doBefore=function(){return true};ArchiveBtn.prototype.doAction=function(){return true};ArchiveBtn.prototype.doAfter=function(c){};ArchiveBtn._initialized=true}return this}function StartWorkflow(b,a){this.actId=b;this.params=a;this.actType=33;this.editMode=a.editMode;this.title=a.title;this.hasRun=false;this.flowParams="";if(typeof StartWorkflow._initialized=="undefined"){StartWorkflow.prototype.getBeforePostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery("#document_content").serialize();Activity.setFieldDisabled(c);return d};StartWorkflow.prototype.getActionPostData=function(){var c=Activity.makeAllFieldAble();jQuery("input[moduleType='surveyField']").obpmSurveyField("getValue");var d=jQuery(document.forms[0]).serialize()+"&_editMode="+this.editMode+"&"+this.flowParams;Activity.setFieldDisabled(c);return d};StartWorkflow.prototype.doBefore=function(){if(this.hasRun){return true}if(this.editMode==null||this.editMode==0){var e=document.getElementById("_docid").value;var g=document.getElementById("_formid").value;var f=contextPath+"/portal/share/workflow/runtime/startWorkFlow.jsp?_docid="+e+"&formid="+g;var d=this.title;if(d==null||d==""){d="Undefind"}tempAllDisabledField();makeFieldState(false);var c=this;OBPM.dialog.show({width:600,height:420,url:f,args:{},title:d,close:function(h){if(h){c.flowParams=h;c.hasRun=true;Activity.doBefore(c)}}});return false}else{if(this.editMode==1){setHTMLValue();return true}}return false};StartWorkflow.prototype.doAction=function(){return true};StartWorkflow.prototype.doAfter=function(c){};StartWorkflow._initialized=true}return this}(function(j){var c=true;var o=false;map={};function g(s){var r=s.lastIndexOf("/");var t=s.lastIndexOf("/");this.webPath=s;this.realName=s.substring(t+1,s.length);this.showName=s.substring(r+1,s.length);this.url=contextPath+this.webPath}function h(r,t,x,A,D){if(jQuery.trim(r)!=""){var C=map[t]?map[t]:"";if(jQuery.trim(C)!=""&&c&&o){r=C+";"+r}jQuery("#"+t.substring(t.indexOf("_")+1)).val(r);var z="";z+='<div class="hidepic" id="'+t+'showFileDiv"style="background:#fff;text-align:left;z-index:100000;"></div>';z+="</div>";var B=r.split(";");var v="";for(var w=0;w<B.length;w++){var y=new g(B[w]);v+='<a title="'+y.showName+'" href='+y.url+' target="_blank" style="margin-top:2px;white-space:nowrap;text-decoration: none" >'+y.showName+'</a>&nbsp;<a href=# type="deleteOne" index='+w+">";if(!x){v+='<img  border="0" src="../../../resource/image/close.gif"/>'}v+="</a><br/>"}var s=jQuery("#"+t).html(z);s.find(".hidepic").html(v);s.find("a[type='deleteOne']").each(function(E){j(this).click(function(){e(E,t,x,A,D)})});var u;s.mouseover(function(){if(u){window.clearTimeout(u)}});z=""}else{jQuery("#"+t.substring(t.indexOf("_")+1)).val(r);jQuery("#"+t).html("")}c=true;o=false}function m(v,t,s,u,r){h(v,t,s,u,r);if(u){if(r){dy_view_refresh(t)}else{window.setTimeout("dy_refresh('"+t.substring(t.indexOf("_")+1)+"')",500)}}}function b(r,s,t,u,x,A,F){map[s+"index"]=0;map[s+"Imagewidth"]=u;map[s+"Imageheigh"]=t;if(jQuery.trim(r)!=""){var D=map[s]?map[s]:"";if(jQuery.trim(D)!=""&&c&&o){r=D+";"+r;map[s]=r}map[s]=r;jQuery("#"+s.substring(s.indexOf("_")+1)).val(r);var z="";z+='<div class="container1" id="'+s+'div" style="width:'+u+";height:"+t+'">';z+='<ul class="slider1 slider2 '+s+'idSlider2" id="'+s+'idSlider2">';var B=r.split(";");map[s+"maxindex"]=B.length;for(var w=0;w<B.length;w++){var y=new g(B[w]);z+='<li><a href="'+y.url+'" rel="lightbox" title="'+y.showName+'" target="_blank">';if(B[w].indexOf("pdf")==-1){z+='<img src="'+y.url+'" width='+u+" height="+t+' border="0"/>'}else{var E=B[w].lastIndexOf("/");var v=B[w].substr(E+1);z+="<font size=2 color=red>"+v+"</font>"}z+="</a></li>"}z+="</ul>";z+='<ul class="num">';z+='<li  title="" id="'+s+'showNumber" class="'+s+'showNumber" style="width:30">'+1+"/"+B.length+"</li>";z+='<li><img title="" type="previous" src="../../../resource/image/previous.png" /></li>';z+='<li><img title="" type="next" src="../../../resource/image/next.png"/></li><li>';if(!x){z+='<a href=# type="delete"><img  border="0" src="../../../resource/image/close.gif"/></a>'}z+="</li></ul></div>";var C=jQuery("#"+s).html(z);C.find("a[type='delete']").click(function(){n(s,x,A,F)});C.find("img[type='previous']").click(function(){d(s)});C.find("img[type='next']").click(function(){q(s)})}else{jQuery("#"+s).html("");map[s]="";jQuery("#"+s.substring(s.indexOf("_")+1)).val(r)}c=true;o=false}function p(x,t,u,w,s,v,r){b(x,t,u,w,s,v,r);if(v){if(r){dy_view_refresh(t)}else{window.setTimeout("dy_refresh('"+t.substring(t.indexOf("_")+1)+"')",500)}}}function e(v,r,u,w,z){if(!u){if(confirm("")){c=false;o=false;var x=jQuery("#"+r.substring(r.indexOf("_")+1)).val().split(";");var y="";for(var t=0;t<x.length;t++){if(t!=v){y+=x[t]+";"}}y=y.substring(0,y.lastIndexOf(";"));var s=jQuery("#"+r.substring(r.indexOf("_")+1)).val();jQuery("#"+r.substring(r.indexOf("_")+1)).val(y);jQuery.ajax({type:"POST",async:false,url:encodeURI(encodeURI(contextPath+"/portal/upload/fileManagerdelete.action")),dataType:"text",timeout:3000,data:jQuery("#document_content").serialize(),success:function(A){m(y,r,u,w,z)},error:function(A){jQuery("#"+r.substring(r.indexOf("_")+1)).val(s)}});y=""}}}function n(s,x,y,z){if(!x){if(confirm("")){c=false;o=false;var r="";var A=jQuery("#"+s.substring(s.indexOf("_")+1)).val().split(";");for(var w=0;w<A.length;w++){if(w!=map[s+"index"]){r+=A[w]+";"}}r=r.substring(0,r.lastIndexOf(";"));var t=jQuery("#"+s.substring(s.indexOf("_")+1)).val();jQuery("#"+s.substring(s.indexOf("_")+1)).val(r);var u=map[s+"Imageheigh"];var v=map[s+"Imagewidth"];jQuery.ajax({type:"POST",async:false,url:encodeURI(encodeURI(contextPath+"/portal/upload/fileManagerdelete.action")),dataType:"text",timeout:3000,data:jQuery("#document_content").serialize(),success:function(B){p(r,s,u,v,x,y,z)},error:function(B){jQuery("#"+id.substring(id.indexOf("_")+1)).val(t)}})}}}function d(r){if(map[r+"index"]>0){map[r+"index"]--}a(map[r+"index"],r);jQuery("."+r+"showNumber").html((map[r+"index"]+1)+"/"+map[r+"maxindex"])}function q(r){if(map[r+"index"]<map[r+"maxindex"]-1){map[r+"index"]++}a(map[r+"index"],r);jQuery("."+r+"showNumber").html((map[r+"index"]+1)+"/"+map[r+"maxindex"])}function a(s,r){jQuery("."+r+"idSlider2").stop(true,false).animate({left:-(map[r+"Imagewidth"]*s)},800)}function f(t,s){if(confirm("")){var r=jQuery("#"+s).html();var u=jQuery("#"+s.substring(s.indexOf("_")+1)).val();jQuery("#"+s).html("");jQuery("#"+s.substring(s.indexOf("_")+1)).val("");jQuery.ajax({type:"POST",async:false,url:encodeURI(encodeURI(contextPath+"/portal/upload/fileManagerdelete.action")),dataType:"text",timeout:3000,data:jQuery("#document_content").serialize(),success:function(v){},error:function(v){jQuery("#"+s).html(r);jQuery("#"+s.substring(s.indexOf("_")+1)).val(u)}});t.value="";map[s]="";isReUpload=true}}function l(s,u,x,v,t,y,z,A){var r=contextPath+"/portal/share/component/filemanager/filemanager.jsp?path="+s;var w=document.getElementById(u);if(v){r+="&allowedTypes="+v}if(t){r+="&maximumSize="+t}if(y){r+="&fileSaveMode="+y}else{r+="&fileSaveMode="+0}r+="&applicationid="+A;hiddenDocumentFieldIncludeIframe();showfrontframe({title:"File Manager",url:r,w:1000,h:600,callback:function(B){showDocumentFieldIncludeIframe();var C=B;if(B==null||B=="undefined"){if(w&&w.value){o=false;C=w.value}else{C=""}}else{o=true}w.value=C;if(z&&typeof(z)=="function"){z()}}})}j.fn.obpmFileManager=function(){return this.each(function(){var G=jQuery(this);var D=G.attr("id");var O=G.attr("name");var w=G.attr("fieldType");var F=G.attr("value");var M=G.attr("maxsize");var t=G.attr("limitType");var s=G.attr("disabled");var C=G.attr("path");var J=G.attr("fileSaveMode");var v=G.attr("application");var B=HTMLDencode(G.attr("discript"));var A=(s=="disabled");var x=G.attr("imgWidth");var K=G.attr("imgHeight");var r=G.attr("uploadList");var N=G.attr("refreshOnChanged");var u=G.attr("fileManagerLabel");var H=G.attr("fileRemoveLabel");var L=G.attr("subGridView");L=(L=="true");var z="<table><tr>";if(t=="file"){z+="<td style='border:0'>";z+="<div id='"+r+"' GridType='fileManager'></div>";z+="</td>"}z+="<td style='border:0'>";if(t=="image"){z+="<div id='"+r+"' GridType='fileManager'></div>"}z+="<input type='hidden' id='"+D+"' name='"+O+"' fieldType='"+w+"' value='"+F+"' />";z+="<input type='button' value='"+u+"' name='btnFileManager' class='btnFileManager'";if(s&&s!=""){z+=" disabled='"+s+"' "}var y=function(){if(t=="file"){m(document.getElementById(D).value,r,A,N,L)}else{p(document.getElementById(D).value,r,K,x,A,N,L)}},I=function(){if(t=="file"){h(document.getElementById(D).value,r,A,N,L)}else{b(document.getElementById(D).value,r,K,x,A,N,L)}};z+="/>";z+="<input class='FMdeleteFile' type='button' value='"+H+"' name='btnDelete'";if(s&&s!=""){z+=" disabled='"+s+"' "}z+="/>";z+="</td>";z+="<td style='border:0'>"+B+"</td>";z+="</tr></table>";var E=j(z);E.find(".btnFileManager").click(function(){l(C,D,"_viewid",t,M,J,y,v)}).end().find(".FMdeleteFile").click(function(){f(document.getElementById(D),r)});G.replaceWith(E);I()})};j.fn.obpmViewFileManager=function(){return this.each(function(){var x=jQuery(this);var s=x.attr("imgw");var A=x.attr("imgh");var w=x.attr("str");var r=x.attr("uploadListId");var v=x.attr("viewReadOnly");map[r+"index"]=0;map[r+"maxindex"]=w;map[r+"Imagewidth"]=s;v=(v=="true")?true:false;var y=A/2;var z=jQuery("#obpm_subGridView").size()>0?true:false;var u="";u+="<div class='container1' id='"+r+"div' style='width:"+s+"; height:117px;'>";u+="<ul class='slider1 slider2 "+r+"idSlider2' id='"+r+"idSlider2'>";x.find("[subType='aField']").each(function(){var D=jQuery(this);var C=D.attr("docId");var E=D.attr("docFormid");var B=D.attr("url");var F=D.attr("fileName");u+="<li style='position:relative;' class='imgList'>";if(v){u+="<img border='0' alt='"+F+"'";u+=" src='"+B+"' width='"+s+"' height='"+A+"' />"}else{u+="<a";if(!z){u+=" href='javaScript:viewDoc(\""+C+'","'+E+"\")'"}u+=" title='"+F+"'><img border='0' alt='"+F+"'";u+=" src='"+B+"' width='"+s+"' height='"+A+"' /></a>"}u+="<div class='showImgIcon' style='display:none;position:absolute;right:0px;top:"+y+"px;z-index:100;'><a cancelBubble = true;  class='imgClick' href='"+B+"' target='blank'><img alt='"+F+"' border='0' src='";u+="../../../resource/images/picture_go.png' title='' /></a><div></li>"});u+="</ul>";u+="<ul class='num'>";u+="<li  title='' id='"+r+"showNumber' class='"+r+"showNumber' style='width:30;'>"+1+"/"+w+"</li>";u+=" <li><img title='' type='previous' src='../../../resource/image/previous.png' /></li>";u+=" <li><img title='' type='next' src='../../../resource/image/next.png'/></li>";u+="</ul></div>";var t=j(u);t.find(".imgList").mouseover(function(B){B.stopPropagation();jQuery(this).find(".showImgIcon").show()}).mouseout(function(B){B.stopPropagation();jQuery(this).find(".showImgIcon").hide()});t.find("img[type='previous']").click(function(B){B.stopPropagation();d(r)});t.find("img[type='next']").click(function(B){B.stopPropagation();q(r)});x.replaceWith(t)})}})(jQuery);(function(a){a.fn.obpmHtmlEditorField=function(){return this.each(function(){var h=jQuery(this);var f=h.attr("displayType");var n=URLDecode(h.html());var b=h.attr("style");var c=h.attr("name");var m=h.attr("_discript");m=m?m:c;var g="";if(f==PermissionType_HIDDEN){a(g).replaceAll(h)}else{if(f!=PermissionType_MODIFY){g+="<label for='"+c+"'>"+m+"</label>";g+="<div class='html-edit' readonly='readonly' name='"+c+"' >";if(n!="null"){g+=n}g+="</div>";a(g).replaceAll(h)}else{var d=a("<div class='formfield-wrap'><label class='field-title contact-name' for='"+c+"'>"+m+"</label>");var j=a("<div class='html-edit' id='"+c+"' name='"+c+"'></div>");var e=document.createElement("iframe");e.style.cssText="border: black thin;width:100%; height:200px";e.setAttribute("class","html-edit-panel");j.append(e).appendTo(d);h.after(d);var l=e.contentDocument;l.designMode="On";if(n!="null"&&n!=""){setTimeout(function(){l.write(n)},15)}h.attr("moduletype","htmlEditorSave")}}})}})(jQuery);(function(a){a.fn.obpmSelectAboutField=function(){return this.remove();return this.each(function(){var j=jQuery(this);var c=j.attr("id");var b=j.attr("name");var g=j.attr("isRefreshOnChanged");var e=j.attr("displayType");var d=j.attr("hiddenValue");var h=j.attr("textType");var l=j.val();var m=j.attr("_discript");l=l?l:"";m=m?m:b;g=(g=="true");var f="";if(e!=PermissionType_HIDDEN){if(!j.attr("isLoaded")){j.attr("isLoaded",true)}else{return}j.before("<label for='"+b+"'>"+m+"</label>");j.bind("change",function(){if(g){}});if(e==PermissionType_READONLY||h.toLowerCase()=="readonly"||e==PermissionType_DISABLED){jQuery("#"+c).multiselect2side({selectedPosition:"right",moveOptions:false,labelsx:"",labeldx:"",readOnly:true})}else{jQuery("#"+c).multiselect2side({selectedPosition:"right",moveOptions:false,labelsx:"",labeldx:"",readOnly:false})}}else{f+="<input type='hidden' name='"+b+"' id='"+c+"' value='"+l+"' />";f+="<div>"+d+"</div>";j.after(f);j.remove()}})}})(jQuery);function callRefresh(b){var a=jQuery(b);var c=a.attr("isRefreshOnChanged");c=(c=="true");if(c){dy_refresh(a.id)}}(function(a){jQuery.fn.multiselect2side=function(c){c=a.extend({selectedPosition:"right",moveOptions:true,labelTop:"Top",labelBottom:"Bottom",labelUp:"Up",labelDown:"Down",labelSort:"Sort",labelsx:"Available",labeldx:"Selected",maxSelected:-1,readOnly:false},c);var b=function(d){if(d.find("option:selected").size()==0){d.find("[text='']").attr("selected",true)}else{d.find("[text='']").attr("selected",false)}};return this.each(function(){var e=a(this);var j=a(this).attr("name");if(j.indexOf("[")!=-1){j=j.substring(0,j.indexOf("["))}var o=j+"ms2side__dx";var l=j+"ms2side__sx";var p=a(this).attr("size");if(p<5){a(this).attr("size","5");p=5}var n="<div class='ms2side__updown'><p class='SelSort' title='Sort'>"+c.labelSort+"</p><p class='MoveTop' title='Move on top selected option'>"+c.labelTop+"</p><p class='MoveUp' title='Move up selected option'>"+c.labelUp+"</p><p class='MoveDown' title='Move down selected option'>"+c.labelDown+"</p><p class='MoveBottom' title='Move on bottom selected option'>"+c.labelBottom+"</p></div>";var f="<span class='ms2side__div'>"+((c.selectedPosition!="right"&&c.moveOptions)?n:"")+"<table><tbody><tr><td class='ms2side__select'>"+(c.labelsx?("<span class='ms2side__header'>"+c.labelsx+"</span>"):"");if(c.readOnly){f+="<select data-enhance='false' title='"+c.labelsx+"' name='"+l+"' id='"+l+"' size='"+p+"' multiple='multiple' disabled='disabled'></select>"}else{f+="<select data-enhance='false' title='"+c.labelsx+"' name='"+l+"' id='"+l+"' size='"+p+"' multiple='multiple'></select>"}f+="</td><td class='ms2side__options'>"+((c.selectedPosition=="right")?("<table style='display: inline;vertical-align:bottom;'><tr><td><p class='AddOne' title='Add Selected'>&rsaquo;</p></td></tr><tr><td><p class='AddAll' title='Add All'>&raquo;</p></td></tr><tr><td><p class='RemoveOne' title='Remove Selected'>&lsaquo;</p></td></tr><tr><td><p class='RemoveAll' title='Remove All'>&laquo;</p></td></tr></table>"):("<table style='display: inline;vertical-align:bottom'><tr><td><p class='AddOne' title='Add Selected'>&lsaquo;</p></td></tr><tr><td><p class='AddAll' title='Add All'>&laquo;</p></td></tr><tr><td><p class='RemoveOne' title='Remove Selected'>&rsaquo;</p></td></tr><tr><td><p class='RemoveAll' title='Remove All'>&raquo;</p></td></tr></table>"))+"</td><td class='ms2side__select'>"+(c.labeldx?("<span class='ms2side__header'>"+c.labeldx+"</span>"):"");if(c.readOnly){f+="<select data-enhance='false' title='"+c.labeldx+"' name='"+o+"' id='"+o+"' size='"+p+"' multiple='multiple' disabled='disabled'></select>"}else{f+="<select data-enhance='false' title='"+c.labeldx+"' name='"+o+"' id='"+o+"' size='"+p+"' multiple='multiple'></select>"}f+="</td></tr></tbody></table>"+((c.selectedPosition=="right"&&c.moveOptions)?n:"")+"</span>";a(this).after(f).hide();var h=a(this).next().find("select");var m=(c.selectedPosition=="right")?h.eq(0):h.eq(1);var d=(c.selectedPosition=="right")?h.eq(1):h.eq(0);var g=a(".ms2side__select").eq(0).height();a(this).next().find(".ms2side__options, .ms2side__updown").each(function(){var q=((g/2)-(a(this).height()/2));if(q>0){a(this).css("padding-top",q+"px")}});a(this).find("option:selected[text!='']").clone().appendTo(d);a(this).find("option:not(:selected)[text!='']").clone().appendTo(m);m.find("option").eq(0).attr("selected",true);h.change(function(){var u=a(this).parent().parent();var r=m.children();var t=d.children();var q=m.find("option:selected");var s=d.find("option:selected");if(q.size()==0||(c.maxSelected>=0&&(q.size()+t.size())>c.maxSelected)){u.find(".AddOne").addClass("ms2side__hide")}else{u.find(".AddOne").removeClass("ms2side__hide")}u.find(".RemoveOne, .MoveUp, .MoveDown, .MoveTop, .MoveBottom, .SelSort").addClass("ms2side__hide");if(t.size()>1){u.find(".SelSort").removeClass("ms2side__hide")}if(s.size()>0){u.find(".RemoveOne").removeClass("ms2side__hide");if(s.size()<t.size()){if(s.val()!=t.val()){u.find(".MoveUp, .MoveTop").removeClass("ms2side__hide")}if(s.last().val()!=t.last().val()){u.find(".MoveDown, .MoveBottom").removeClass("ms2side__hide")}}}if(r.size()==0||(c.maxSelected>=0&&r.size()>=c.maxSelected)){u.find(".AddAll").addClass("ms2side__hide")}else{u.find(".AddAll").removeClass("ms2side__hide")}if(t.size()==0){u.find(".RemoveAll").addClass("ms2side__hide")}else{u.find(".RemoveAll").removeClass("ms2side__hide")}if(c.readOnly){u.find(".AddOne, .AddAll, .RemoveOne, .RemoveAll").addClass("ms2side__hide")}});m.dblclick(function(){a(this).find("option:selected").each(function(q,r){if(c.maxSelected<0||d.children().size()<c.maxSelected){a(this).remove().appendTo(d);e.find('[value="'+a(r).val()+'"]').attr("selected",true).remove().appendTo(e)}});a(this).trigger("change");callRefresh(e)});d.dblclick(function(){a(this).find("option:selected").each(function(q,r){a(this).remove().appendTo(m);e.find('[value="'+a(r).val()+'"]').attr("selected",false).remove().appendTo(e)});b(e);a(this).trigger("change");callRefresh(e)});a(this).next().find(".ms2side__options p").click(function(){if(!a(this).hasClass("ms2side__hide")){if(a(this).hasClass("AddOne")){m.find("option:selected").each(function(q,r){a(this).remove().appendTo(d);e.find('[value="'+a(r).val()+'"]').attr("selected",true).remove().appendTo(e)})}else{if(a(this).hasClass("AddAll")){m.children().appendTo(d);m.children().remove();e.find("option").attr("selected",true)}else{if(a(this).hasClass("RemoveOne")){d.find("option:selected").each(function(q,r){a(this).remove().appendTo(m);e.find('[value="'+a(r).val()+'"]').attr("selected",false).remove().appendTo(e)});b(e)}else{if(a(this).hasClass("RemoveAll")){d.children().appendTo(m);d.children().remove();e.find("option").each(function(){if(jQuery(this).val()){jQuery(this).attr("selected",false)}else{jQuery(this).attr("selected",true)}});b(e)}}}}callRefresh(e)}m.trigger("change")});a(this).next().find(".ms2side__updown").children().click(function(){var s=d.find("option:selected");var z=d.find("option");if(!a(this).hasClass("ms2side__hide")){if(a(this).hasClass("SelSort")){z.sort(function(B,A){var D=a(B).text().toUpperCase();var C=a(A).text().toUpperCase();return(D<C)?-1:(D>C)?1:0});e.find("option:selected").remove();z.each(function(){d.append(a(this).clone().attr("selected",true));e.append(a(this).attr("selected",true))})}else{if(a(this).hasClass("MoveUp")){var t=s.first().prev();var w=e.find("[value="+t.val()+"]");s.each(function(){a(this).insertBefore(t);e.find("[value="+a(this).val()+"]").insertBefore(w)})}else{if(a(this).hasClass("MoveDown")){var v=s.last().next();var x=e.find("[value="+v.val()+"]");s.each(function(){a(this).insertAfter(v);e.find("[value="+a(this).val()+"]").insertAfter(x)})}else{if(a(this).hasClass("MoveTop")){var u=z.first();var r=e.find("[value="+u.val()+"]");s.each(function(){a(this).insertBefore(u);e.find("[value="+a(this).val()+"]").insertBefore(r)})}else{if(a(this).hasClass("MoveBottom")){var y=z.last();var q=e.find("[value="+y.val()+"]");s.each(function(){y=a(this).insertAfter(y);q=e.find("[value="+a(this).val()+"]").insertAfter(q)})}}}}}}m.trigger("change")});a(this).next().find(".ms2side__options, .ms2side__updown").children().hover(function(){a(this).addClass("ms2side_hover")},function(){a(this).removeClass("ms2side_hover")});m.trigger("change");a(this).next().show()})}})(jQuery);(function($){$.fn.obpmSuggestField=function(){return this.each(function(i){var TEXT_TYPE_HIDDEN="hidden",TEXT_TYPE_READONLY="readonly",TEXT_TYPE_TEXT="text",TEXT_TYPE_PASSWORD="password";var $field=jQuery(this);var fieldId=$field.attr("_fieldId");var name=$field.attr("_name");var isRefreshOnChanged=$field.attr("_isRefreshOnChanged");var displayType=$field.attr("_displayType");var textType=$field.attr("_textType");var value=$field.attr("value");var text=$field.attr("text");if(text==""||text==null){text=value}var json=$field.attr("_json")?$field.attr("_json"):"{}";var otherAttrs=$field.attr("_otherAttrs");var style=$field.attr("style");var fieldType=$field.attr("_fieldType");var fieldId2=fieldId.replace(/\-/g,"_");var subGridView=$field.attr("_subGridView");var discript=$field.attr("_discript");var hiddenValue=$field.attr("_hiddenValue");var dataMode=$field.attr("_dataMode");var formId=$field.attr("_formid");var _fieldId4sych=$field.attr("_fieldId4sych");var domainId=$field.attr("_domainId");isRefreshOnChanged=(isRefreshOnChanged=="true");subGridView=(subGridView=="true");value=value?value:"";discript=discript?discript:name;if(style){style=style.replace(/"([^"]*)"/g,"$1")}var otherAttrsHtml=getOtherAttrs($field[0]);var $spanHtml=$("<div class='formfield-wrap'></div>");var htmlShow="";if(textType.toLowerCase()!=TEXT_TYPE_HIDDEN&&displayType!=PermissionType_HIDDEN){$spanHtml.append("<label class='field-title contact-name' for='"+name+"'>"+discript+"</label>");var inputHtml="<input type='text' class='contactField form-control' GridType='suggestField' value='"+value+"' id='"+fieldId+"_show' name='"+name+"_show'fieldtype = '"+fieldType+"' autocomplete='off' "+getOtherProps(otherAttrs)+otherAttrsHtml;inputHtml+=' style="';if(style){inputHtml+=style+";"}inputHtml+=" z-index:97;";if(displayType==PermissionType_READONLY||TEXT_TYPE_READONLY==textType.toLowerCase()||displayType==PermissionType_DISABLED){inputHtml+="display:none;";htmlShow+="<div id='"+name+"_show1' class='showItem'>"+value+"</div>"}inputHtml+='"';inputHtml+=" />";var $input=$(inputHtml);$spanHtml.append($input);$input.val(text);if(dataMode=="local"){var source=eval(json)||[];$input.typeahead({source:source,autoSelect:true,menu:'<ul class="typeahead dropdown-menu" style="width:95%" role="listbox"></ul>',item:'<li><a href="#" role="option"></a></li>',delay:100,afterSelect:function(current){if(current){if(current.id!=$("#"+fieldId).val()){$("#"+fieldId).val(current.id);if(isRefreshOnChanged){if(subGridView){dy_view_refresh(fieldId+"_show")}else{dy_refresh(fieldId+"_show")}}}}}})}else{if(dataMode=="remote"){var url=contextPath+"/portal/document/suggestfield/query?_formFieldId="+_fieldId4sych;$input.typeahead({source:function(query,process){var fields=Activity.makeAllFieldAble();var data=jQuery("#document_content").serialize()+"&__keyword="+query;Activity.setFieldDisabled(fields);$.get(url,data,function(json){process(eval(json))})},autoSelect:true,menu:'<ul class="typeahead dropdown-menu" style="width:95%" role="listbox"></ul>',item:'<li><a href="#" role="option"></a></li>',delay:500,afterSelect:function(current){if(current){if(current.id!=$("#"+fieldId).val()){$("#"+fieldId).val(current.id);if(isRefreshOnChanged){if(subGridView){dy_view_refresh(fieldId+"_show")}else{dy_refresh(fieldId+"_show")}}}}}})}}}var discriptHtml="";if(displayType==PermissionType_HIDDEN){discriptHtml+="<span>"+hiddenValue+"</span>"}var hiddenHtml="<input type='hidden' value='"+value+"' id='"+fieldId+"' name='"+name+"'fieldtype = '"+fieldType+"' GridType='suggestField' resetable=true />";$spanHtml.append($(hiddenHtml)).append(htmlShow).append($(discriptHtml)).replaceAll($field)})}})(jQuery);!function(d,c){"undefined"!=typeof module&&module.exports?module.exports=c(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(b){return c(b)}):c(d.jQuery)}(this,function(e){var d=function(a,g){this.$element=e(a),this.options=e.extend({},e.fn.typeahead.defaults,g),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"==typeof this.options.autoSelect?this.options.autoSelect:!0,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=e(this.options.menu),this.$appendTo=this.options.appendTo?e(this.options.appendTo):null,this.shown=!1,this.listen(),this.showHintOnFocus="boolean"==typeof this.options.showHintOnFocus?this.options.showHintOnFocus:!1,this.afterSelect=this.options.afterSelect,this.addItem=!1};d.prototype={constructor:d,select:function(){var g=this.$menu.find(".active").data("value");if(this.$element.data("active",g),this.autoSelect||g){var c=this.updater(g);this.$element.val(this.displayText(c)||c).change(),this.afterSelect(c)}return this.hide()},updater:function(b){return b},setSource:function(b){this.source=b},show:function(){var a,g=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return a="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight,(this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element)).css({top:g.top+g.height+a,left:g.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(a){if(this.query="undefined"!=typeof a&&null!==a?a:this.$element.val()||"",this.query.length<this.options.minLength){return this.shown?this.hide():this}var g=e.proxy(function(){e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(g,this.delay)},process:function(a){var g=this;return a=e.grep(a,function(b){return g.matcher(b)}),a=this.sorter(a),a.length||this.options.addItem?(a.length>0?this.$element.data("active",a[0]):this.$element.data("active",null),this.options.addItem&&a.push(this.options.addItem),"all"==this.options.items?this.render(a).show():this.render(a.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(g){var c=this.displayText(g);return ~c.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(h){for(var g,n=[],m=[],l=[];g=h.shift();){var j=this.displayText(g);j.toLowerCase().indexOf(this.query.toLowerCase())?~j.indexOf(this.query)?m.push(g):l.push(g):n.push(g)}return n.concat(m,l)},highlighter:function(s){var r,q,p,o,n,m=e("<div></div>"),l=this.query,a=s.toLowerCase().indexOf(l.toLowerCase());if(r=l.length,0===r){return m.text(s).html()}for(;a>-1;){q=s.substr(0,a),p=s.substr(a,r),o=s.substr(a+r),n=e("<strong></strong>").text(p),m.append(document.createTextNode(q)).append(n),s=o,a=s.toLowerCase().indexOf(l.toLowerCase())}return m.append(document.createTextNode(s)).html()},render:function(a){var j=this,h=this,g=!1;return a=e(a).map(function(c,m){var l=h.displayText(m);return c=e(j.options.item).data("value",m),c.find("a").html(j.highlighter(l)),l==h.$element.val()&&(c.addClass("active"),h.$element.data("active",m),g=!0),c[0]}),this.autoSelect&&!g&&(a.first().addClass("active"),this.$element.data("active",a.first().data("value"))),this.$menu.html(a),this},displayText:function(b){return b.name||b},next:function(a){var h=this.$menu.find(".active").removeClass("active"),g=h.next();g.length||(g=e(this.$menu.find("li")[0])),g.addClass("active")},prev:function(h){var g=this.$menu.find(".active").removeClass("active"),j=g.prev();j.length||(j=this.$menu.find("li").last()),j.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove()},eventSupported:function(g){var c=g in this.$element;return c||(this.$element.setAttribute(g,"return;"),c="function"==typeof this.$element[g]),c},move:function(b){if(this.shown){switch(b.keyCode){case 9:case 13:case 27:b.preventDefault();break;case 38:if(b.shiftKey){return}b.preventDefault(),this.prev();break;case 40:if(b.shiftKey){return}b.preventDefault(),this.next()}b.stopPropagation()}},keydown:function(a){this.suppressKeyPressRepeat=~e.inArray(a.keyCode,[40,38,9,13,27]),this.shown||40!=a.keyCode?this.move(a):this.lookup()},keypress:function(b){this.suppressKeyPressRepeat||this.move(b)},keyup:function(b){switch(b.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}b.stopPropagation(),b.preventDefault()},focus:function(b){this.focused||(this.focused=!0,this.options.showHintOnFocus&&this.lookup(""))},blur:function(b){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(b){b.stopPropagation(),b.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(a){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(a.currentTarget).addClass("active")},mouseleave:function(b){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var f=e.fn.typeahead;e.fn.typeahead=function(b){var a=arguments;return"string"==typeof b&&"getActive"==b?this.data("active"):this.each(function(){var j=e(this),h=j.data("typeahead"),c="object"==typeof b&&b;h||j.data("typeahead",h=new d(this,c)),"string"==typeof b&&(a.length>1?h[b].apply(h,Array.prototype.slice.call(a,1)):h[b]())})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:e.noop,addItem:!1,delay:0},e.fn.typeahead.Constructor=d,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=f,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(a){var g=e(this);g.data("typeahead")||g.typeahead(g.data())})});var ddtabmenu={disabletablinks:false,currentpageurl:window.location.href.replace("http://"+window.location.hostname,"").replace(/^\//,""),tabOrigitemid:{},definemenu:function(a,b){this[a+"-menuitems"]=null;ddtabmenu.init(a,b)},showsubmenuById:function(a,b){var c=this[a+"-menuitems"];if(!c){return}if(b!=""){ddtabmenu.showsubmenu(a,document.getElementById(b))}},showsubmenuByName:function(a,b){var c=this[a+"-menuitems"];if(!c){return}for(i=0;i<c.length;i++){if(c[i].getAttribute("title")){if(c[i].title==b){ddtabmenu.showsubmenu(a,c[i]);break}}}},showsubmenu:function(tabid,targetitem){if(document.getElementById("tabid")){var tempTabid=document.getElementById("tabid").value;if(tempTabid==""){document.getElementById("tabid").value=tabid+"#"+targetitem.getAttribute("id")}else{var ids=document.getElementById("tabid").value.split(";");var flag=true;for(var i=0;i<ids.length;i++){var _ids=ids[i].split("#");if(tabid==_ids[0]){_ids[1]=targetitem.getAttribute("id");ids[i]=_ids.join("#");flag=false;break}}if(flag){document.getElementById("tabid").value=tempTabid+";"+tabid+"#"+targetitem.getAttribute("id")}else{document.getElementById("tabid").value=ids.join(";")}}}var menuitems=this[tabid+"-menuitems"];if(!menuitems){return}DWREngine.setAsync(false);if(targetitem!=null){eval(targetitem.callback)}DWREngine.setAsync(true);for(i=0;i<menuitems.length;i++){if(typeof menuitems[i].hasSubContent!="undefined"){if(document.getElementById(menuitems[i].getAttribute("rel")).style.display=="block"){menuitems[i].className="btn btn-positive btn-outlined";document.getElementById(menuitems[i].getAttribute("rel")).style.display="none"}}}if(targetitem){if(typeof targetitem.hasSubContent!="undefined"){var id=targetitem.getAttribute("rel")}var oContent=document.getElementById(targetitem.getAttribute("rel"));if(getBrowser().indexOf("ie")!=-1){var frames=jQuery("#"+id).find("iframe[type='word']");for(var i=0;i<frames.length;i++){var frame=frames[i];initWord(frame)}}if(oContent!=null||oContent!=undefined){if(oContent.style.display!="block"){targetitem.className="btn btn-positive current";oContent.style.display="block";jQuery(oContent).find("[moduleType='IncludedView']").obpmIncludedView()}}var isloaded=oContent!=null?oContent.isloaded:false}var iframeObj=document.getElementsByTagName("iframe")[0];if(iframeObj){if(typeof iframeObj.contentWindow.adjustUserSetupPageLayout=="function"){iframeObj.contentWindow.document.location.reload()}}var tid=$(targetitem).attr("id");$("#form_tab").find("[_tid]").hide();$("#form_tab").find("a[href='#item1mobile']").hide();$("#document_content").css("margin-top","0px");if($("#form_tab").find("[_tid='"+tid+"']").size()>0){$("#form_tab").find("a[href='#item1mobile']").show();$("#form_tab").find("[_tid='"+tid+"']").show();$("#document_content").css("margin-top","36px")}},hideMenus:function(a,d){for(var b=0;b<d.length;b++){var e=document.getElementById("li_"+d[b]);var c=document.getElementById("content_"+d[b]);e.style.display="none";c.style.display="none"}},showMenus:function(a,d){for(var b=0;b<d.length;b++){var e=document.getElementById("li_"+d[b]);var c=document.getElementById("content_"+d[b]);e.style.display="block";c.style.display="block"}},isloaded:function(a){var b=document.getElementById("content_"+this.tabOrigitemid[a]);if(b){return b.isloaded}return false},getSelected:function(a){return this.tabOrigitemid[a]},isSelected:function(a){var a=a.replace("http://"+a.hostname,"").replace(/^\//,"");return(ddtabmenu.currentpageurl==a)},addEvent:function(b,c,a){var a=(window.addEventListener)?a:"on"+a;if(b.addEventListener){b.addEventListener(a,c,false)}else{if(b.attachEvent){b.attachEvent(a,c)}}},init:function(tabid,dselected){if(!document.getElementById(tabid)){alert('ddtabmenu.js: tab not exist, id is "'+tabid+'"')}var menuitems=document.getElementById(tabid).getElementsByTagName("a");var setalready=false;this[tabid+"-menuitems"]=menuitems;for(var x=menuitems.length-1;x>=0;x--){if(menuitems[x].getAttribute("rel")){this[tabid+"-menuitems"][x].hasSubContent=true;if(ddtabmenu.disabletablinks){alert("if1 if x="+x);menuitems[x].onclick=function(){return false}}}else{alert("else x="+x);menuitems[x].onmouseout=function(){this.className=""}}menuitems[x].onclick=function(){ddtabmenu.showsubmenu(tabid,this);try{var conSelId="content_"+this.id;jQuery("#content_"+this.id+" iframe[name=display_view]").each(function(){if(typeof(eval(jQuery(this)[0].contentWindow.ev_resize4IncludeViewPar))=="function"){jQuery(this).get(0).contentWindow.ev_resize4IncludeViewPar()}})}catch(ex){alert("tabmenu: iframe")}};if(dselected=="auto"&&typeof setalready=="undefined"&&this.isSelected(menuitems[x].href)){alert("if2 x="+x);ddtabmenu.showsubmenu(tabid,menuitems[x]);setalready=true}}if(!setalready){ddtabmenu.showsubmenuById(tabid,dselected)}}};(function($){$.fn.obpmTabNormalField=function(){return this.each(function(){var $field=jQuery(this);$field.removeAttr("moduleType");$field.find("[moduleType='TabNormal']").filter(function(){return(jQuery(this).parents("[moduleType='TabNormal']").size()==0)}).obpmTabCollapseField();$field.find("[moduleType='TabCollapse']").filter(function(){return(jQuery(this).parents("[moduleType='TabCollapse']").size()==0)}).obpmTabCollapseField();var html="";var $fieldTitle=$field.find("[id='title']");var tabId=$field.attr("tabId");var fieldId=$fieldTitle.attr("fieldId");var titleDiv="<div id='"+fieldId+"' class='basictab' style='margin-bottom: 10px;border-bottom: 1px solid #CACACA;padding-bottom: 10px;overflow-x: auto;'>";var titleUl="<table cellSpacing='0' cellPadding='0'><tr>";$fieldTitle.find("div").each(function(){var formId=$(this).attr("formId");var isHidden=$(this).attr("isHidden");var isRefreshOnChanged=$(this).attr("isRefreshOnChanged");var name=$(this).attr("name");isRefreshOnChanged=(isRefreshOnChanged=="true");isHidden=(isHidden=="true");var $moduleType=$field.find(".tabcontainer>div[formId='"+formId+"']").find("[moduleType]");var $calctext=$field.find(".tabcontainer>div[formId='"+formId+"']").find(".calctext-field");if($moduleType.not("[moduleType=IncludedView]").size()==0&&$calctext.size()==0){isHidden=true}var liHtml="";liHtml+="<td><div id='li_"+formId+"'";if(isHidden){liHtml+=" style='display:none'"}liHtml+=">";var aHtml="";aHtml+="<a class='btn btn-positive btn-outlined' style='margin-right:10px;cursor:pointer'";if(isRefreshOnChanged){}aHtml+=" id='"+formId+"'";aHtml+=" rel='content_"+formId+"'";aHtml+=" title='"+name+"'>";aHtml+=name+"</a>";liHtml+=aHtml;liHtml+="</div></td>";titleUl+=liHtml});titleUl+="</tr></table>";titleDiv+=titleUl;titleDiv+="</div>";$field.find("#tabcontainer > div").each(function(i){var formId=$(this).attr("formId");var isHidden=$(this).attr("isHidden");isHidden=(isHidden=="true");jQuery(this).attr("id","content_"+formId+"").addClass("tabcontent");if(i>=0){jQuery(this).hide()}if(isHidden){jQuery(this).css("display","none");var tabIncludedID=$(this).find("[moduletype='IncludedView']").attr("_fieldid");$("body").find("a.control-item[href='#tab_"+tabIncludedID+"']").hide()}});jQuery(titleDiv).replaceAll($fieldTitle);ddtabmenu.definemenu(fieldId,tabId)})};$.fn.obpmTabCollapseField=function(){return this.each(function(){var $field=jQuery(this);$field.addClass("subNavBox");$field.removeAttr("moduleType");$field.find("[moduleType='TabNormal']").filter(function(){return(jQuery(this).parents("[moduleType='TabNormal']").size()==0)}).obpmTabCollapseField();$field.find("[moduleType='TabCollapse']").filter(function(){return(jQuery(this).parents("[moduleType='TabCollapse']").size()==0)}).obpmTabCollapseField();var fieldId=$field.attr("fieldId");var tabIdList=$field.find("#tabIdList").text();tabIdList=eval(tabIdList);$field.find("#tabIdList").remove();var html="";$field.find("li").each(function(){jQuery(this).css("listStyle","none");$(this).find("#title").each(function(){var formId=$(this).attr("formId");var isHidden=$(this).attr("isHidden");var fieldId=$(this).attr("fieldId");var tabName=$(this).attr("tabName");var isOpen=$(this).attr("isOpen");isHidden=(isHidden=="true");isOpen=(isOpen=="true");var titleDivHtml="";titleDivHtml+="<div id='li_"+formId+"'";if(isHidden){titleDivHtml+=" style='display:none'";this.parentNode.style.display="none"}titleDivHtml+=">";var tableHtml="";tableHtml="<div class='subNav' id='zlight-nav'>";tableHtml+="<span class='icon icon-down up-color'></span>";tableHtml+=tabName;tableHtml+="</div>";titleDivHtml+=tableHtml;titleDivHtml+="</div>";html+=titleDivHtml;jQuery(titleDivHtml).replaceAll(jQuery(this))});$(this).find("#content").each(function(){var formId=$(this).attr("formId");var isHidden=$(this).attr("isHidden");isHidden=(isHidden=="true");jQuery(this).attr("id","content_"+formId+"");jQuery(this).addClass("navContent");if(isHidden){jQuery(this).css("display","none")}});$(window).scroll(function(){var subNavTop=$(this).scrollTop();$(".subNavBox>li").each(function(){if($(this).offset().top<=subNavTop){$(this).children("div[id^='li_']").addClass("navTitle").css({position:"fixed",top:"0px"});$(this).children("div[id^='content_']").css({"padding-top":$(this).children("div[id^='li_']").outerHeight()+10+"px"});if($(this).next().offset().top-subNavTop<=$(this).children("div[id^='li_']").outerHeight()){$(this).children("div[id^='li_']").css({position:"absolute",top:$(this).next().offset().top-$(this).children("div[id^='li_']").outerHeight()})}}else{$(this).children("div[id^='li_']").removeClass("navTitle").css({position:"static"});$(this).children("div[id^='content_']").css({"padding-top":"10px"})}})})});$(this).find(".navContent").each(function(){if($(this).text()==""){$(this).parent("li").hide()}});defineCollapse(fieldId,tabIdList);$(".subNav").click(function(){$(this).parent().toggleClass("icon-border-hide");$(this).find("span").toggleClass("icon-right").siblings(".icon").removeClass("icon-right");$(this).find("span").toggleClass("icon-down up-color").siblings(".icon").removeClass("icon-down up-color");$(this).parent().next(".navContent").slideToggle(500).siblings(".navContent").slideUp(500)})})}})(jQuery);var TAB_CONTENT="content_";var TAB_IAMGE="img_";var selectedTabMap={};function defineCollapse(a,b){if(document.readyState=="complete"){initCollapse(a,b)}else{OBPM(document).ready(function(){initCollapse(a,b)})}}function addEvent(b,c,a){var a=(window.addEventListener)?a:"on"+a;if(b.addEventListener){b.addEventListener(a,c,false)}else{if(b.attachEvent){b.attachEvent(a,c)}}}function initCollapse(a,e){selectedTabMap[a]=[];for(var c=0;c<e.length;c++){var b=TAB_CONTENT+e[c];var d=document.getElementById(b);selectedTabMap[a].push(e[c]);d.isloaded=true}}function toggleCollapse(b,e,m){var n=TAB_CONTENT+e;var j=TAB_IAMGE+e;var h="../../share/component/tabField/collapse/images";var d=""+h+"/left_dot.gif";var c=""+h+"/left_open.gif";var g=""+h+"/left_dot.gif";var f=document.getElementById(n);var o=document.getElementById(j);if(f.style.display=="none"){selectedTabMap[b].push(e)}else{selectedTabMap[b].pop(e)}var a=f.isloaded;var l=false;if(!l){if(f.style.display=="none"){f.style.display="";o.src=c}else{f.style.display="none";o.src=g}}}function getCollapseSelectedArray(a){return selectedTabMap[a]}function getCollapseSelected(a){return getCollapseSelectedArray(a).toString()}function isCollapseLoaded(a){var c=getCollapseSelectedArray(a);var d={};for(var b=0;b<c.length;b++){var e=document.getElementById(TAB_CONTENT+c[b]);if(e){if(e.isloaded){d[c[b]]=true}else{d[c[b]]=false}}}return jQuery.json2Str(d)}function showAllCollapse(a){OBPM("#tab_"+a+"_divid").children("div[id*='content_']:hidden").each(function(){var b=this.id.substring(TAB_CONTENT.length);toggleCollapse(a,b)})}function closeAllCollapse(a){OBPM("#tab_"+a+"_divid").children("div[id*='content_']:visible").each(function(){var b=this.id.substring(TAB_CONTENT.length);toggleCollapse(a,b,true)})}function selectField(b,c){var a=document.getElementsByName("_currid");var d="";if(a&&a.length>0){d=a[0].value}var f=document.getElementById(c);if(f){var h=f.value?jQuery.parseJSON(f.value):{};var g=f.value;var e=showUserSelectNoFlow("",{defValue:h[d],callback:function(j){if(j){var l=j.split(",");h[d]=l;f.value=jQuery.json2Str(h)}}})}}function showUserSelectNoFlow(actionName,settings,roleid){var oApp=document.getElementsByName("application")[0];var url=contextPath+"/portal/phone/resource/component/dialog/selectUserByAll.jsp?application="+oApp.value;var setValueOnSelect=true;if(settings.setValueOnSelect==false){setValueOnSelect=settings.setValueOnSelect}OBPM.dialog.show({width:610,height:450,url:url,args:{parentObj:window,targetid:settings.valueField,receivername:settings.textField,defValue:settings.defValue,limitSum:settings.limitSum,selectMode:settings.selectMode,receiverEmail:settings.showUserEmail,receiverEmailAccount:settings.showUserEmailAccount,receiverTelephone:settings.showUserTelephone},title:title_uf,close:function(result){var textObj=document.getElementById(settings.textField);if(result){var rtnValue="";for(var i=0;i<result.length;i++){rtnValue+=result[i].value+";"}var rtnText="";for(var i=0;i<result.length;i++){rtnText+=result[i].text+";"}rtnValue=rtnValue.substring(0,rtnValue.length-1);rtnText=rtnText.substring(0,rtnText.length-1);$("#"+settings.valueField).val(rtnValue);$("#"+settings.textField).val(rtnText)}if(settings.callback){if(typeof settings.callback=="function"){settings.callback(rtnValue)}else{eval(settings.callback)}}}})}function showDepartmentSelect(a,d){var c=contextPath+"/portal/phone/resource/component/dialog/select.jsp";var b=document.getElementById(d.valueField);var e="";if(b){e=b.value}OBPM.dialog.show({width:300,height:400,url:c,args:{value:e,readonly:d.readonly,limit:d.limit},title:title_df,close:function(g){var f=document.getElementById(d.textField);var m=g;var n=document.getElementById(d.textField);if(n){if(m){if(m=="clear"){n.value="";b.value=""}else{var h="";var l="";if(m[0]&&m.length>0){for(var j=0;j<m.length;j++){h+=m[j].value+";";l+=m[j].text+";"}h=h.substring(0,h.lastIndexOf(";"));l=l.substring(0,l.lastIndexOf(";"))}n.value=l;b.value=h}}if(d.callback){d.callback(b.name)}}}})}var OBPM=top.jQuery;(function(a){OBPM.dialog=OBPM.dialog?OBPM.dialog:{_allOptions:[],opts:{args:{},content:"",title:"",button:null,ok:null,cancel:null,init:null,close:null,okVal:"\u786E\u5B9A",cancelVal:"\u53D6\u6D88",width:"",height:"",minWidth:96,minHeight:32,padding:"20px 25px",skin:"",icon:"",time:null,esc:true,focus:true,show:true,follow:null,path:"",lock:true,background:"#000",opacity:0.5,duration:300,fixed:true,left:"0%",top:"0%",zIndex:1987,resize:true,drag:true},show:function(d){if(!d.args){d.args={}}if(d.maximization==true){d.height=a(top.window).height()-50;d.width=a(top.window).width()}if(d.width&&d.width>0){d.width=d.width+"";d.width=(d.width.indexOf("%")>0&&d.width.indexOf("px")>0)?d.width:(d.width+"px")}if(d.height&&d.height>0){d.height=d.height+"";d.height=(d.width.indexOf("%")>0&&d.width.indexOf("px")>0)?d.height:(d.height+"px")}var f=a(top.document).find("body");var h=f.find(".dialog").size()+1000+1;this._allOptions[h]=d;f.append("<div id='dlg_"+h+"' class='modal modal-iframe dialog' style='z-index:"+h+"'></div>");f.find("#dlg_"+h).addClass("active");f.find("#dlg_"+h).append("<header class='bar bar-nav'><a id='close' data-ignore='push' class='icon icon-close pull-right' href='#dlg_"+h+"'></a><h1 class='title'>"+d.title+"</h1></header>");var b=document.getElementById("close");b.addEventListener("touchend",function(j){OBPM.dialog.doExit();j.preventDefault()},false);var e=+new Date;if(!d.args.url){var c=d.url.replace(/([?&])_=[^&]*/,"$1_="+e);url=c+((c===d.url)?(/\?/.test(d.url)?"&":"?")+"_="+e:"")}else{var c=d.args.url.replace(/([?&])_=[^&]*/,"$1_="+e);url=c+((c===d.args.url)?(/\?/.test(d.args.url)?"&":"?")+"_="+e:"")}f.find("#dlg_"+h).append("<div class='content' style=''><iframe src='"+url+"' frameborder='0' allowtransparency='true' style='position:absolute;z-index:1;top:0px;width: 100%; height: 100%; border: 0px none;'></iframe></div>");var g=window.pageYOffset;a("#document_content").hide();a("#myModalexample").hide();a("#dlg_"+h).find(".content").css({position:"static",height:a(window).height()-44});a("#dlg_"+h).find(".content>iframe").css({position:"absolute","z-index":"1",top:"44px",height:a(window).height()-44});f.find("#dlg_"+h).find(">div>iframe").load(function(){d._pageYOffset=g})},hideWord:function(){jQuery("iframe[type=word]").each(function(){if(jQuery(this).css("display")!="none"){jQuery(this).attr("artDialogHide","true").css("display","none")}});jQuery("iframe").contents().find("iframe[type=word]").each(function(){if(jQuery(this).css("display")!="none"){jQuery(this).attr("artDialogHide","true").css("display","none")}});jQuery("#editmain_right").attr("artDialogHide","true").css("display","none")},doReturn:function(c){var d=a(top.document).find("body");var e=d.find(".dialog").size()+1000;var b=this._allOptions[e];this.doExit(c)},doExit:function(c){var f=a(top.document).find("body");var g=f.find(".dialog").size()+1000;var b=this._allOptions[g];if(b&&b.close){var e=b.close;if(typeof e==="function"&&e.call(this,c)===false){return}}a("#document_content").show();a("#myModalexample").show();window.scrollTo(0,b._pageYOffset);var d=f.find("#dlg_"+g);d.removeClass("active");d.remove()},doClear:function(f){if(!f){f=""}var d=a(top.document).find("body");var e=d.find(".dialog").size()+1000;var b=this._allOptions[e];if(b&&b.close){var c=b.close;if(typeof c==="function"&&c.call(this,f)===false){return}}this.doExit()},getArgs:function(){var c=a(top.document).find("body");var d=c.find(".dialog").size()+1000;var b=this._allOptions[d];return b.args},resize:function(c,b){}}})(jQuery);var MyPopup=MyPopup||{_initialized:false,_modal:undefined,_callback:undefined,init:function(){this._modal=$("#myModalexample");$("#myModalexample").on("popup",function(a){alert("popup")});$("#myModalexample").on("close",function(a){$(this).removeClass("active");if(MyPopup._callback&&typeof MyPopup._callback=="function"){MyPopup._callback()}})},open:function(d){d=d||{};var c=d.url;var e=d.title;var a=d.success;var f=d.close;var b=d.options||{};MyPopup._callback=a;$("#myModalexample .title").html(e);$("#myModalexample").find("iframe").attr("src",c);$("#myModalexample").addClass("active")},MyPopupClose:function(){Activity.closeWindow()}};MyPopup.cache={get:function(b){var c=window.top,a=c._CACHE||{};c._CACHE=a;return a[b]},set:function(b,c){var d=window.top,a=d._CACHE||{};d._CACHE=a;a[b]=c},clear:function(b){var c=window.top,a=c._CACHE||{};c._CACHE=a;if(a[b]){delete a[b]}if(!b){c._CACHE={}}}};if(!MyPopup._initialized){$(document).ready(function(){$("body").append('<div id="myModalexample" class="modal modal-iframe"><header class="bar bar-nav"><a class="icon icon-close pull-right" id="btn-modal-close" onclick="MyPopup.MyPopupClose()"></a><h1 class="title"></h1></header><div class="content"><iframe src="about:blank" width="100%" height="100%"></iframe></div></div>');MyPopup.init();MyPopup._initialized=true})}(function(){var a=function(d){var f=function(h,g){this.el=d(h);this.zoomFactor=1;this.lastScale=1;this.offset={x:0,y:0};this.options=d.extend({},this.defaults,g);this.setupMarkup();this.bindEvents();this.update();this.enable()},b=function(h,g){return h+g},e=function(h,g){return h>g-0.01&&h<g+0.01};f.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,animationInterval:5,maxZoom:4,minZoom:0.5,lockDragAxis:false,use2d:true,zoomStartEventName:"pz_zoomstart",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap"},handleDragStart:function(g){this.el.trigger(this.options.dragStartEventName);this.stopAnimation();this.lastDragPosition=false;this.hasInteraction=true;this.handleDrag(g)},handleDrag:function(g){if(this.zoomFactor>1){var h=this.getTouches(g)[0];this.drag(h,this.lastDragPosition);this.offset=this.sanitizeOffset(this.offset);this.lastDragPosition=h}},handleDragEnd:function(){this.el.trigger(this.options.dragEndEventName);this.end()},handleZoomStart:function(g){this.el.trigger(this.options.zoomStartEventName);this.stopAnimation();this.lastScale=1;this.nthZoom=0;this.lastZoomCenter=false;this.hasInteraction=true},handleZoom:function(h,l){var g=this.getTouchCenter(this.getTouches(h)),j=l/this.lastScale;this.lastScale=l;this.nthZoom+=1;if(this.nthZoom>3){this.scale(j,g);this.drag(g,this.lastZoomCenter)}this.lastZoomCenter=g},handleZoomEnd:function(){this.el.trigger(this.options.zoomEndEventName);this.end()},handleDoubleTap:function(j){var g=this.getTouches(j)[0],h=this.zoomFactor>1?1:this.options.tapZoomFactor,l=this.zoomFactor,m=(function(n){this.scaleTo(l+n*(h-l),g)}).bind(this);if(this.hasInteraction){return}if(l>h){g=this.getCurrentZoomCenter()}this.animate(this.options.animationDuration,this.options.animationInterval,m,this.swing);this.el.trigger(this.options.doubleTapEventName)},sanitizeOffset:function(o){var n=(this.zoomFactor-1)*this.getContainerX(),m=(this.zoomFactor-1)*this.getContainerY(),l=Math.max(n,0),j=Math.max(m,0),h=Math.min(n,0),g=Math.min(m,0);return{x:Math.min(Math.max(o.x,h),l),y:Math.min(Math.max(o.y,g),j)}},scaleTo:function(h,g){this.scale(h/this.zoomFactor,g)},scale:function(h,g){h=this.scaleZoomFactor(h);this.addOffset({x:(h-1)*(g.x+this.offset.x),y:(h-1)*(g.y+this.offset.y)})},scaleZoomFactor:function(g){var h=this.zoomFactor;this.zoomFactor*=g;this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom));return this.zoomFactor/h},drag:function(g,h){if(h){if(this.options.lockDragAxis){if(Math.abs(g.x-h.x)>Math.abs(g.y-h.y)){this.addOffset({x:-(g.x-h.x),y:0})}else{this.addOffset({y:-(g.y-h.y),x:0})}}else{this.addOffset({y:-(g.y-h.y),x:-(g.x-h.x)})}}},getTouchCenter:function(g){return this.getVectorAvg(g)},getVectorAvg:function(g){return{x:g.map(function(h){return h.x}).reduce(b)/g.length,y:g.map(function(h){return h.y}).reduce(b)/g.length}},addOffset:function(g){this.offset={x:this.offset.x+g.x,y:this.offset.y+g.y}},sanitize:function(){if(this.zoomFactor<this.options.zoomOutFactor){this.zoomOutAnimation()}else{if(this.isInsaneOffset(this.offset)){this.sanitizeOffsetAnimation()}}},isInsaneOffset:function(h){var g=this.sanitizeOffset(h);return g.x!==h.x||g.y!==h.y},sanitizeOffsetAnimation:function(){var h=this.sanitizeOffset(this.offset),g={x:this.offset.x,y:this.offset.y},j=(function(l){this.offset.x=g.x+l*(h.x-g.x);this.offset.y=g.y+l*(h.y-g.y);this.update()}).bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,j,this.swing)},zoomOutAnimation:function(){var j=this.zoomFactor,h=1,g=this.getCurrentZoomCenter(),l=(function(m){this.scaleTo(j+m*(h-j),g)}).bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,l,this.swing)},updateAspectRatio:function(){this.setContainerY(this.getContainerX()/this.getAspectRatio())},getInitialZoomFactor:function(){return this.container[0].offsetWidth/this.el[0].offsetWidth},getAspectRatio:function(){return this.el[0].offsetWidth/this.el[0].offsetHeight},getCurrentZoomCenter:function(){var g=this.container[0].offsetWidth*this.zoomFactor,j=this.offset.x,n=g-j-this.container[0].offsetWidth,q=j/n,o=q*this.container[0].offsetWidth/(q+1),r=this.container[0].offsetHeight*this.zoomFactor,h=this.offset.y,l=r-h-this.container[0].offsetHeight,p=h/l,m=p*this.container[0].offsetHeight/(p+1);if(n===0){o=this.container[0].offsetWidth}if(l===0){m=this.container[0].offsetHeight}return{x:o,y:m}},canDrag:function(){return !e(this.zoomFactor,1)},getTouches:function(h){var g=this.container.offset();return Array.prototype.slice.call(h.touches).map(function(j){return{x:j.pageX-g.left,y:j.pageY-g.top}})},animate:function(j,g,o,n,m){var h=new Date().getTime(),l=(function(){if(!this.inAnimation){return}var q=new Date().getTime()-h,p=q/j;if(q>=j){o(1);if(m){m()}this.update();this.stopAnimation();this.update()}else{if(n){p=n(p)}o(p);this.update();setTimeout(l,g)}}).bind(this);this.inAnimation=true;l()},stopAnimation:function(){this.inAnimation=false},swing:function(g){return -Math.cos(g*Math.PI)/2+0.5},getContainerX:function(){return this.container[0].offsetWidth},getContainerY:function(){return this.container[0].offsetHeight},setContainerY:function(g){return this.container.height(g)},setupMarkup:function(){this.container=d('<div class="pinch-zoom-container"></div>');this.el.before(this.container);this.container.append(this.el);this.container.css({overflow:"hidden",position:"relative",width:"100%",height:"100%"});this.el.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%",position:"absolute"})},end:function(){this.hasInteraction=false;this.sanitize();this.update()},bindEvents:function(){c(this.container.get(0),this);d(window).on("resize",this.update.bind(this));d(this.el).find("img").on("load",this.update.bind(this))},update:function(){if(this.updatePlaned){return}this.updatePlaned=true;setTimeout((function(){this.updatePlaned=false;this.updateAspectRatio();var m=this.getInitialZoomFactor()*this.zoomFactor,h=-this.offset.x/m,n=-this.offset.y/m,l="scale3d("+m+", "+m+",1) translate3d("+h+"px,"+n+"px,0px)",g="scale("+m+", "+m+") translate("+h+"px,"+n+"px)",j=(function(){if(this.clone){this.clone.remove();delete this.clone}}).bind(this);if(!this.options.use2d||this.hasInteraction||this.inAnimation){this.is3d=true;j();this.el.css({"-webkit-transform":l,"-o-transform":g,"-ms-transform":g,"-moz-transform":g,transform:l})}else{if(this.is3d){this.clone=this.el.clone();this.clone.css("pointer-events","none");this.clone.appendTo(this.container);setTimeout(j,200)}this.el.css({"-webkit-transform":g,"-o-transform":g,"-ms-transform":g,"-moz-transform":g,transform:g});this.is3d=false}}).bind(this),0)},enable:function(){this.enabled=true},disable:function(){this.enabled=false}};var c=function(h,r){var t=null,m=0,j=null,v=null,p=function(w,x){if(t!==w){if(t&&!w){switch(t){case"zoom":r.handleZoomEnd(x);break;case"drag":r.handleDragEnd(x);break}}switch(w){case"zoom":r.handleZoomStart(x);break;case"drag":r.handleDragStart(x);break}}t=w},o=function(w){if(m===2){p("zoom")}else{if(m===1&&r.canDrag()){p("drag",w)}else{p(null,w)}}},s=function(w){return Array.prototype.slice.call(w).map(function(x){return{x:x.pageX,y:x.pageY}})},n=function(A,z){var w,B;w=A.x-z.x;B=A.y-z.y;return Math.sqrt(w*w+B*B)},l=function(z,y){var w=n(z[0],z[1]),x=n(y[0],y[1]);return x/w},q=function(w){w.stopPropagation();w.preventDefault()},u=function(w){var x=(new Date()).getTime();if(m>1){j=null}if(x-j<300){q(w);r.handleDoubleTap(w);switch(t){case"zoom":r.handleZoomEnd(w);break;case"drag":r.handleDragEnd(w);break}}if(m===1){j=x}},g=true;h.addEventListener("touchstart",function(w){if(r.enabled){g=true;m=w.touches.length;u(w)}});h.addEventListener("touchmove",function(w){if(r.enabled){if(g){o(w);if(t){q(w)}v=s(w.touches)}else{switch(t){case"zoom":r.handleZoom(w,l(v,s(w.touches)));break;case"drag":r.handleDrag(w);break}if(t){q(w);r.update()}}g=false}});h.addEventListener("touchend",function(w){if(r.enabled){m=w.touches.length;o(w)}})};return f};if(typeof define!=="undefined"&&define.amd){define(["jquery"],function(b){return a(b)})}else{window.RTP=window.RTP||{};window.RTP.PinchZoom=a(window.$)}}).call(this);(function(e){function h(o){var n=l(o);o.after('<input type="hidden" name="'+n.name+'" fieldtype="'+o.attr("fieldtype")+"\" value='"+(n.value?n.value:"")+"' id=\""+n.id+'"/>');var m=e('<div id="weixinImageUpload_container_'+n.id+'" class="formfield-wrap"><label class="field-title contact-name" for="'+n.discription+'">'+n.discription+"</label></div>");m.append(f(n));e("body").append('<div _pid="'+n.id+'" class="modal bigpic preview-panel"><div class="bigpicbox"><div class="content"><div class="lookImg"><img class="preview-item" src="" /></div></div><div class="bar bar-standard bar-footer"><a class="btn pull-left btn-close"></a><a class="btn btn-negative pull-right btn-delete-popup" data-ignore="push"></a></div></div></div>');e("body").find(".bigpic[_pid='"+n.id+"']").find(".bigpicbox").append('<div class="tanchu"><div class="header"></div><div class="contenter"><p></p></div><div class="foot"><a class="btn pull-right  btn-link red btn-delete" data-ignore="push"></a><a class="btn pull-right btn-link gay btn-cancel"></a></div></div>');if(n.readonly){m.find(".btn-delete-popup").hide()}if(o.attr("moduleType")!="uploadImageRefresh"){o.attr("moduleType","uploadImageRefresh").css("display","none")}m.insertAfter(o);return m}function f(n){var p=e('<div class="card_app smallpic image-list" style="margin-top:0px;"></div>');var m=n.value?JSON.parse(n.value):[];for(var o=0;o<m.length;o++){p.append('<a data-ignore="push" class="image-item" data-name="'+m[o].name+'" data-path="'+m[o].path+'" ><img src="'+contextPath+m[o].path+'"/></a>')}if(!n.readonly){p.append('<a data-ignore="push" class="btn-upload"><span class="icon icon-plus"></span></a>')}return p}function c(n){var m=n.data("weixinImageUpload").panel;var o=e("body").find(".preview-panel[_pid='"+n.attr("id")+"']");m.find(".btn-upload").on("click",function(){d(n)});m.find(".image-item").on("click",function(){var p=e(this).parent().siblings("input").attr("id");var r=e(this).find("img").attr("src");var q=e(this).data("name");o.find(".preview-item").attr("src",r);o.find(".preview-item").data("name",q);o.addClass("active");e("div.lookImg").each(function(){new RTP.PinchZoom(e(this),{})})});o.find(".btn-close").on("click",function(){o.removeClass("active")});o.find(".btn-delete-popup").on("click",function(){o.find(".tanchu").addClass("block animated bounceIn")});o.find(".btn-cancel").on("click",function(){o.find(".tanchu").removeClass("block animated bounceIn")});o.find(".btn-delete").on("click",function(){var p=o.find(".preview-item").data("name");a(n,p);o.find(".tanchu").removeClass("block animated bounceIn");o.removeClass("active")})}function b(n){var o=n.find("img").attr("src");var m=n.data("name");panel.find(".preview-item").attr("src",o);panel.find(".preview-item").data("name",m);panel.find(".preview-panel").addClass("active")}function l(n){var m={};m.id=n.attr("id");m.name=n.attr("name");m.discription=HTMLDencode(n.attr("discript"))?HTMLDencode(n.attr("discript")):m.name;m.value=n.attr("value");m.limitnumber=n.attr("limitNumber");m.maxsize=n.attr("maxsize");m.refreshOnChanged=n.attr("refreshOnChanged");m.readonly=(n.attr("disabled")=="disabled");return m}function d(o){var n=o.data("weixinImageUpload").panel;var m=top.wx?top.wx:wx;m.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(p){var q=p.localIds;setTimeout(function(){j(o,n,m,q)},200)}})}function j(p,n,m,q){var o=q.pop();m.uploadImage({localId:o,isShowProgressTips:1,success:function(s){var r=s.serverId;e.ajax({url:contextPath+"/portal/weixin/jsapi/upload.action",async:false,type:"get",data:{serverId:r},dataType:"json",success:function(t){if(t.status==1){var w=t.data;var u=t.data.substring(t.data.lastIndexOf("/")+1,t.data.length);var x=e('<a data-ignore="push" class="image-item" data-name="'+u+'" data-path="'+w+'" ><img src="'+o+'"/></a>');x.on("click",function(){var z=e(this).find("img").attr("src");var y=e(this).data("name");n.find(".preview-item").attr("src",z);n.find(".preview-item").data("name",y);n.find(".preview-panel").addClass("active")});n.find(".btn-upload").before(x);try{g(p,{name:u,path:w})}catch(v){alert(v.stack.toString())}if(q.length>0){j(p,n,m,q)}c(p)}}})},fail:function(r){alert("")}})}function g(q,r){var o=q.data("weixinImageUpload").options;var n=e("#"+o.id);var p=n.val();var m=p?JSON.parse(p):[];m.push(r);n.val(JSON.stringify(m))}function a(p,o){var q=p.data("weixinImageUpload");var m=q.panel;var n=q.options;m.find(".image-item").each(function(){var u=e(this);if(u.data("name")==o){u.remove();var s=e("#"+n.id);var r=JSON.parse(s.val());for(var t=0;t<r.length;t++){if(r[t].name==o){r.splice(t,1);s.val(JSON.stringify(r))}break}return}})}e.fn.obpmWeixinImageUpload=function(m,n){if(typeof m=="string"){return e.fn.obpmWeixinImageUpload.method[m](this,n)}m=m||{};return this.each(function(){var o=e(this);var q=o.data("weixinImageUpload");if(q){e.extend(q.options,m)}else{var p=h(o);q=o.data("weixinImageUpload",{options:e.extend({},e.fn.obpmWeixinImageUpload.defaults,l(o),m),panel:p});c(o)}})},e.fn.obpmWeixinImageUpload.defaults={id:"",name:"",value:null,discription:"",limitnumber:null,maxsize:10240,path:"ITEM_PATH",refreshOnChanged:null,readonly:false},e.fn.obpmWeixinImageUpload.method={setValue:function(n,m){},getValue:function(m){m.each(function(){})}}})(jQuery);(function(e){var c="";var l={READONLY:1,MODIFY:2,HIDDEN:3,DISABLED:4};function h(s){var r=m(s);var p=e('<div id="weixinRecord_container_'+r.id+'"></div>');var u=e("<div></div>");u.append(' <div class="formfield-wrap record-panel" style="display:none;"> <div class="record-box">   <a class="btn btn-block btn-record startRecord" ></a> </div></div>');u.append('<div class="formfield-wrap player-panel" style="display:none;margin-bottom:10px;"> <div class="record-box">  <a class="btn-sound-play">    <div class="sound-play-arrow"></div>    <div class="sound-play-box">      <div class="play-ico sound-play-ico sound-stop"></div>    </div> </a>  <a class="btn-sound-space"></a>  <a class="btn-sound-delete">    <span class="icon icon-close"></span>  </a>  <div class="sound-delete-box">      <div class="header"></div>      <div class="contenter"><p></p></div>      <div class="foot">        <a class="btn pull-right  btn-link red btn-delete" data-ignore="push"></a>        <a class="btn pull-right btn-link gay btn-cancel"></a>      </div>    </div> </div></div>');e(document).find("#div_button_box").before("<div id='wxRec_"+r.id+"' class='bigrec-box' style='display:none'></div>");c=e("body").find("#wxRec_"+r.id);c.append('<div class="modal modal-iframe recording-panel">     <div class="record-play-box">       <div class="record-play-ico">         <div class="sound-box"></div>       </div>       <div class="sound-text"><p></p><p class="time-total">0</p></div>       <div class="btn-record-stop text-center">         <span class="icon icon-stop stopRecord"></span>         <p></p>       </div> </div></div>');if(r.value&&r.value.length>0){var v=JSON.parse(r.value);var q=e('<audio><source src="'+contextPath+v.path+'" type="audio/mpeg" /></audio>');p.append(q);u.find(".player-panel").show();if(r.displayType==l.READONLY||r.displayType==l.DISABLED){u.find(".btn-sound-delete").hide()}}else{if(r.displayType==l.MODIFY){u.find(".record-panel").show()}}p.append(u);p.insertAfter(s);return p}function b(q){var p=q.data("weixinRecord").panel;p.find(".startRecord").on("click",function(r){c.show();setTimeout(function(){c.find(".recording-panel").addClass("active")},100);c.find(".record-play-ico").addClass("animate-play");var s=j(q);g(q)});c.find(".stopRecord").on("click",function(r){c.find(".recording-panel").removeClass("active");setTimeout(function(){c.hide()},1000);var s=j(q);clearInterval(s);q.data("timer",null);n(q)});p.find(".sound-play-box").on("click",function(r){d(q)});p.find(".btn-sound-delete").on("click",function(r){p.find(".sound-delete-box").show().addClass("animated bounceIn")});p.find(".btn-delete").on("click",function(r){f(q)});p.find(".btn-cancel").on("click",function(r){p.find(".sound-delete-box").hide()})}function m(q){var p={};p.id=q.attr("id");p.name=q.attr("name");p.discription=HTMLDencode(q.data("discription"))?HTMLDencode(q.data("discription")):p.name;p.value=q.val();p.displayType=q.data("displayType");return p}function g(q){var p=top.wx?top.wx:wx;p.startRecord()}function n(r){var q=r.data("weixinRecord").panel;var p=top.wx?top.wx:wx;p.stopRecord({success:function(t){var s=t.localId;p.uploadVoice({localId:s,isShowProgressTips:1,success:function(v){var u=v.serverId;e.ajax({url:contextPath+"/portal/weixin/jsapi/upload.action",async:false,type:"get",data:{serverId:u,folder:"voice",fileType:"amr"},dataType:"json",success:function(w){if(w.status==1){var z=w.data.replace(".amr",".mp3");var y=w.data.substring(w.data.lastIndexOf("/")+1,w.data.length);var x=e('<audio><source src="'+contextPath+z+'" type="audio/mpeg" /></audio>');r.data("voice",{localId:s,path:z});q.append(x);o(r,{path:z,count:c.find(".time-total").text()});c.find(".time-total").text(0)}}})},fail:function(u){alert("")}})}})}function d(r){var q=r.data("weixinRecord").panel;q.find(".play-ico").removeClass("sound-stop").addClass("sound-play");var u=r.data("voice");var s=JSON.parse(r.val()).count;if(u){var p=top.wx?top.wx:wx;p.playVoice({localId:u.localId})}else{var q=r.data("weixinRecord").panel;q.find("audio")[0].play()}setTimeout(function(){q.find(".play-ico").removeClass("sound-play").addClass("sound-stop")},s*1000)}function a(r){var q=r.data("weixinRecord").panel;q.find(".play-ico").removeClass("sound-play").addClass("sound-stop");var s=r.data("voice");if(s&&false){var p=top.wx?top.wx:wx;p.stopVoice({localId:s.localId})}else{q.find("audio")[0].pause()}}function o(s,v){var u=s.data("weixinRecord");var r=u.options;var q=u.panel;var p=e("#"+r.id);p.val(JSON.stringify(v));q.find(".player-panel").show();q.find(".record-panel").hide()}function f(s){var u=s.data("weixinRecord");var q=u.panel;var r=u.options;var p=e("#"+r.id);p.val("");q.find(".sound-delete-box").hide();q.find(".player-panel").hide();q.find(".record-panel").show()}function j(q){var p=q.data("weixinRecord").panel;var r=q.data("timer");if(!r){r=setInterval(function(){var s=c.find(".time-total");s.text(parseInt(s.text())+1)},1000);q.data("timer",r)}return r}e.fn.obpmWeixinRecord=function(p,q){if(typeof p=="string"){return e.fn.obpmWeixinRecord.method[p](this,q)}p=p||{};return this.each(function(){var s=e(this);var v=s.data("weixinRecord");if(v){e.extend(v.options,p)}else{var u=h(s);v=s.data("weixinRecord",{options:e.extend({},e.fn.obpmWeixinRecord.defaults,m(s),p),panel:u});b(s)}})},e.fn.obpmWeixinRecord.defaults={id:"",name:"",value:"",discription:"",displayType:null},e.fn.obpmWeixinRecord.method={setValue:function(q,p){},getValue:function(p){p.each(function(){})}}})(jQuery);(function(a){a.fn.obpmButton=function(){return this.each(function(){var e=jQuery(this);var f=e.attr("value");var b=e.attr("activityType");if((b=="29"||b=="43")&&typeof DisplayView=="object"&&DisplayView.getTheView(this)){e.remove();return}switch(b){case"1":activityCss="btn-orange";break;case"2":case"4":case"42":activityCss="btn-positive";break;case"3":case"8":activityCss="btn-negative";break;case"5":activityCss="";break;case"10":activityCss="";break;case"11":case"34":activityCss="btn-primary";break;default:activityCss="";break}if(b!="5"&&(b==1||b==2||b==3||b==4||b==34||b==8||b==10||b==11||b==13||b==21||b==42||b==19)){var c=this.onclick;var d=jQuery("<td><a class='btn "+activityCss+" btn-block' data-transition='fade'>"+f+"</a></td>").click(c);d.insertAfter(e);e.remove()}else{if(b!="5"){e.remove()}}})}})(jQuery);var activityAction=contextPath+"/portal/dynaform/activity/action.action";var docviewAction=contextPath+"/portal/dynaform/document/view.action";function doFileDonwload(b){if(b){var a=activityAction;var c=a+"?_activityid="+b;if(ev_runbeforeScriptforview(b)){document.forms[0].action=c;document.forms[0].target="_blank";document.forms[0].submit();document.forms[0].target=""}}}function ev_excelImport(f,a){var h="";if(document.getElementsByName("parentid")){h=document.getElementsByName("parentid")[0].value}var d="";if(document.getElementsByName("application")){d=document.getElementsByName("application")[0].value}var g="";if(document.getElementsByName("isRelate")){var e=document.getElementsByName("isRelate");if(e.length!=0){g=e[0].value}}var b=document.getElementsByName("_viewid")[0].value;if(a){var c=importURL;c+="?parentid="+h;c+="&id="+a;c+="&application="+d;c+="&isRelate="+g;c+="&_activityid="+f;c+="&_viewid="+b;OBPM.dialog.show({width:530,height:420,url:c,args:{},title:"Excel",close:function(j){document.forms[0].submit()}})}}function openDownloadWindow(b){if(b){var a=downloadURL+"?filename="+encodeURI(b);top.window.open(a)}}function ev_reload(){document.forms[0].submit()}function ev_search(){$(document).find("form:eq(0)").find("[name='_currpage']").val("1");document.forms[0].submit()}function ev_resetAll(){var e=document.forms[0].elements;for(var d=0;d<e.length;d++){if(jQuery(e[d]).attr("fieldType")=="TextAreaField"){e[d].value=""}if(jQuery(e[d]).attr("fieldType")=="UserField"){e[d].value=""}if(jQuery(e[d]).attr("fieldType")=="SelectAboutField"){var b=e[d].name;var c=b+"ms2side__dx";var a=b+"ms2side__sx";jQuery("#"+c).children().appendTo(jQuery("#"+a));jQuery("#"+c).children().remove();jQuery(e[d]).find("option").attr("selected",false);jQuery(e[d]).find("[text='']").attr("selected",true)}if(e[d].type=="checkbox"){e[d].checked=false}if(e[d].type=="radio"){e[d].checked=false}if(jQuery(e[d]).attr("fieldType")=="TreeDepartmentField"){e[d].value="";e[d+1].value=""}if(e[d].type=="text"||e[d].resetable){e[d].value=""}else{if(e[d].type=="select-one"){if(e[d].options.length>=1){e[d].options[0].selected=true}}}}jQuery("#searchFormTable").find("input[type='hidden'][id!='dy_refreshObj']").val("")}function ev_submit(d,h,c,g,e){var a=true;if(h){a=isSelectedOne("_selects")}if(a){if(ev_runbeforeScriptforview(d)){var b=contextPath+"/portal/dynaform/activity/handle.action?_activityid="+d;if(c){b+="&operation="+c}if(g){var f=window.confirm(e);if(!f){if(toggleButton("button_act")){return false}return}}if(toggleButton("button_act")){return false}document.forms[0].action=b;document.forms[0].submit()}}else{if(toggleButton("button_act")){return false}}}var ifExpToExl=true;function ev_expToExl(d,c,a){var b=document.forms[0].action;if(!ifExpToExl){alert("");return}if(ev_runbeforeScriptforview(d)){var e=contextPath+"/portal/dynaform/activity/handle.action?_activityid="+d+"&filename="+c+"&isExpSub="+a;document.forms[0].action=e;document.forms[0].submit();ifExpToExl=false}document.forms[0].action=b}function doBatchApprove(a,b){if(!isSelectedOne("_selects","")){return}if(jQuery("#inputAuditRemarkDiv"+a).attr("id")){artDialog.prompt("",function(d,c){jQuery("#_attitude"+a).val(d);ev_submit(a,true)},true)}}function setEnter(a){if(a.keyCode==13){a.keyCode=9}}function enterKeyDown(a){if(a.keyCode==13||a.which==13){document.getElementsByName("_currpage")[0].value=1;document.forms[0].submit()}}function dy_lock(){$("#loadingDivBack").show()}function dy_unlock(){setTimeout(function(){$("#loadingDivBack").hide()},1000)}function showLoadingToast(){$("#loadingToast").show()}function hideLoadingToast(){$("#loadingToast").hide()}function ev_exportToExcel(a,d,c){if(d){var b=window.confirm(c);if(!b){return}}ev_submit(a)}function ev_resize4IncludeView(e,b,a){if(e!=""&&a!=""){var d=parent.document.getElementById(e);if(d){var c=d.getElementsByTagName("iframe");jQuery(c).each(function(){switch(a){case"MAPVIEW":try{var q=jQuery("#activityTable").height();var h=0;if(jQuery("#searchFormTable").size()!=0){h=jQuery("#searchFormTable").height()}jQuery(this).css("height",(h+670))}catch(n){setTimeout(function(){jQuery(this).css("height",(h+670))},300)}break;case"DISPLAYVIEW":var r=document.getElementById("formList").offsetHeight;if(r>410){r=450}else{if(r<100){r=150}else{r=r+40}}var g=jQuery(this).attr("fixation");if(g=="true"){jQuery(this).css("height",jQuery(this).attr("fixationHeight"))}else{jQuery(this).css("height",r)}break;case"CALENDARVIEW":var o=jQuery("#activityTable").height();var j=jQuery("#cal_viewcontent").height();var f=o+j;if(f>100){jQuery(this).css("height",(f+20))}break;case"TREEVIEW":var m=jQuery("body").width();jQuery(this).css("height",700);if(ie){jQuery(this).css("width",m-4)}break;case"GANTTVIEW":var l=jQuery("#container").height();if(l>100){jQuery(this).css("height",(l+20))}break;case"GRIDVIEW":var s=jQuery("#acttable").height();var p=jQuery("#gridTable").height();var r=s+p;if(r>380){r=420}else{if(r<100){r=150}else{r=r+40}}jQuery(this).css("height",r);break;case"LISTVIEW":break}})}}}function ev_runbeforeScriptforview(actid){var flag=false;jQuery.ajax({type:"POST",async:false,url:contextPath+"/portal/dynaform/activity/runbeforeactionscript.action?_actid="+actid,dataType:"text",timeout:3000,data:jQuery("#formList").serialize(),success:function(result){if(result!=null&&result!=""){var jsmessage=eval("("+result+")");var type=jsmessage.type;var content=jsmessage.content;if(type){if(type=="16"){alert(content);flag=false}if(type=="32"){var rtn=window.confirm(content);if(!rtn){flag=false}else{flag=true}}}else{flag=true}}else{flag=true}},error:function(result){alert("")}});return flag}function refreshMenuTotalRows(){var a="menu_"+jQuery("#resourceid").val();jQuery("body",parent.document).find("#"+a).html("("+totalRows+")")}var OPEN_TYPE_NORMAL=1;var OPEN_TYPE_POP=16;var OPEN_TYPE_PARENT=256;var OPEN_TYPE_OWN=272;var OPEN_TYPE_GRID=288;var OPEN_TYPE_DIV=277;var VIEW_TYPE_NORMAL=16;var VIEW_TYPE_SUB=17;var activityAction=contextPath+"/portal/dynaform/activity/action.action";var importURL=contextPath+"/portal/share/dynaform/dts/excelimport/importbyid.jsp";var downloadURL=contextPath+"/portal/share/download.jsp";function doNew(a){createDoc(a)}function openWindowByType(action,title,viewType,actid){var flag=false;if(actid){jQuery.ajax({type:"POST",async:false,url:contextPath+"/portal/dynaform/activity/runbeforeactionscript.action?_actid="+actid,dataType:"text",timeout:3000,data:jQuery("#formList").serialize(),success:function(result){if(result!=null&&result!=""){var jsmessage=eval("("+result+")");var type=jsmessage.type;var content=jsmessage.content;if(type=="16"){alert(content);document.forms[0].submit()}if(type=="32"){var rtn=window.confirm(content);if(!rtn){document.forms[0].submit()}else{flag=true}}}else{flag=true}},error:function(result){alert("")}})}else{flag=true}if(flag){var openType=OPEN_TYPE_NORMAL;var url=action;if(viewType==VIEW_TYPE_SUB){var isRelate=document.getElementsByName("isRelate");url+="&isSubDoc=true";if(isRelate){if(isRelate.length>0){var relate=isRelate[0].value;url+="&isRelate="+relate}}}if(document.getElementsByName("_openType")[0]){if(typeof HAS_SUBFORM!="undefined"&&HAS_SUBFORM){openType=document.getElementsByName("_openType")[0].innerText}else{openType=document.getElementsByName("_openType")[0].value}}var parameters=getQueryString();resetBackURL();if(openType==OPEN_TYPE_NORMAL||openType==OPEN_TYPE_GRID){if(isHomePage()){url+="&_backURL="+encodeURIComponent(contextPath+"/portal/dispatch/homepage.jsp");url+="&"+parameters;parent.location=appendApplicationidByView(url)}else{document.forms[0].action=url;document.forms[0].submit()}}else{if(openType==OPEN_TYPE_POP||openType==OPEN_TYPE_DIV){var oSelects=document.getElementsByName("_selects");var _selects="";if(oSelects){for(var i=0;i<oSelects.length;i++){if(oSelects[i].checked){_selects+="&_selects="+oSelects[i].value}}}url+="&"+parameters+"&openType="+openType+_selects;url=appendApplicationidByView(url);var w=document.body.clientWidth-25;showfrontframe({title:"",url:url,w:w,h:30,windowObj:window.parent,callback:function(result){setTimeout(function(){document.forms[0].submit()},1)}})}else{if(openType==OPEN_TYPE_OWN){var id=document.getElementsByName("_viewid")[0].value;if(viewType==VIEW_TYPE_SUB){var sub_divid=parent.document.getElementById("sub_divid");var doc_obj=parent.document.getElementById(id);if(sub_divid){sub_divid.value=doc_obj.src}document.forms[0].action=url;document.forms[0].submit()}else{document.forms[0].action=url;document.forms[0].submit()}}}}}}function appendApplicationidByView(b){var a=document.getElementsByName("application")[0];if(a&&b.indexOf("application")<0){if(b.indexOf("?")>=0){b+="&application="+a.value}else{b+="?application="+a.value}}return b}function isHomePage(){if(parent&&parent.location.href.toLowerCase().substring(0,parent.location.href.toLowerCase().indexOf("?")).indexOf("homepage.jsp")!=-1){return true}return false}function getQueryString(b){var c="";var a=$(".control-content.active").find("[name='display_view']").attr("isrelate");if($(".control-content.active").length>0){c+="_viewid="+$(".control-content.active").find("span[name='_viewid']").text();if(a!="false"){if(document.getElementsByName("parentid")[0]){var d="";$.each($("span[name='parentid']"),function(e,f){if($(f).text().length>0){d=$(f).text();return false}});c+="&parentid="+d}}}else{if(document.getElementsByName("_viewid")[0]){c+="_viewid="+document.getElementsByName("_viewid")[0].value;if(document.getElementsByName("parentid")[0]){var d="";$.each($("input[name='parentid']"),function(e,f){if($(f).val().length>0){d=$(f).val();return false}});c+="&parentid="+d}}}if(!b||b!="277"){if(typeof(dy_getValuesMap)=="function"){c+="&"+jQuery.param(dy_getValuesMap(false),true)}}return c}function doRemove(b){var a=document.getElementsByName("_selects");var e=false;for(var c=0;c<a.length;c++){if(a[c].checked==true){e=true;break}}if(e){if(b!=null&&b!=""){var d=window.confirm("");if(!d){return}}}else{alert("");return false}ev_submit(b,false,"doDelete")}function doQuery(a){ev_submit(a)}function resetBackURL(){var a=document.getElementsByName("_backURL")[0];if(a&&a.value){var d=jQuery("form").serialize();if(a.value.indexOf("?")!=-1){a.value=a.value;if(d){var c=d.split("&");for(var b=0;b<c.length;b++){if(a.value.indexOf(c[b])!=-1||c[b].indexOf("_backURL")!=-1){}else{a.value+="&"+c[b]}}}}else{a.value=a.value;if(d){a.value+="?"+d}}}}function DoBatchSignature(){if(navigator.userAgent.indexOf("MSIE")<0){alert("iSignatureHTMLIEIE");return}var l=document.getElementsByName("_selects").length;var a;var f="";for(var g=0;g<l;g++){a=document.getElementsByName("_selects")[g];if(a.checked){if(g!=l-1){f=f+a.value+";"}else{f=f+a.value}}}var n=null;if(window.ActiveXObject){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(m){alert("Microsoft.XMLHTTP,AJAX..")}}else{if(window.XMLHttpRequest){try{n=new XMLHttpRequest()}catch(m){alert("XMLHttpRequest,AJAX..")}}}var b=document.getElementById("mGetBatchDocumentUrl").value;var h=document.getElementById("mLoginname").value;var j=document.getElementById("DocumentID").value;var c=document.getElementById("ApplicationID").value;var d=document.getElementById("FormID").value;b=b+"?DocumentID="+j+"&ApplicationID2="+c+"&FormID2="+d;n.onreadystatechange=function(){if(n.readyState==4&&n.status==200){if(n.responseText=="false"){return}var p=n.responseText.split(",");var e="";for(var o=0;o<p.length;o++){if(o!=p.length-1){e=e+(p[o]+"="+p[o]+";")}else{e=e+(p[o]+"="+p[o])}}if(formList.SignatureControl!=null){if(f==""){alert("")}formList.SignatureControl.FieldsList=e;formList.SignatureControl.Position(460,275);formList.SignatureControl.DocumentList=f;formList.SignatureControl.WebSetFontOther("True","","0","","11","000128","True");formList.SignatureControl.SaveHistory="false";formList.SignatureControl.UserName="lyj";formList.SignatureControl.WebCancelOrder=0;formList.SignatureControl.AutoCloseBatchWindow=true;formList.SignatureControl.RunBatchSignature()}else{alert("iSignatureHTML");document.getElementById("hreftest2").click()}}};n.open("POST",b);n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");n.send(null)}function ev_reloadParent(){try{if(operation!="doSave"&&operation!="doDelete"){return}if(parent){if(parent.treeview){parent.selectedNode=OBPM("#treedocid").val();parent.treeview.jstree("refresh","#root")}}}catch(a){}}function showAction(c,d){document.getElementsByName("viewMode")[0].value=c;var b=formList.action;var a=b.indexOf("?");if(a>-1){b=b.substring(0,a)}if(d){b+="?addType="+d}else{}formList.action=b;formList.submit()}function showActions(a){showAction(a,null)}function ShowDayView(a){document.forms[0].action="displayView.action?_viewid="+document.getElementById("displayView__viewid").value+"&currentDate="+a+"&isinner=true";document.formList.submit()}function ev_selectone(b){var a=jQuery.json2Str(b);if(isEdit!=false&&isEdit!="false"){OBPM.dialog.doReturn("{id:"+a+"}")}}function hidden(){var b=document.getElementById("_viewid").value;var a=parent.document.getElementById(b);if(a){a.style.display="none"}}function adjustDataIteratorSize(){var b=document.getElementById("container");var d=document.getElementById("searchFormTable");var c=document.getElementById("pageTable");var e=document.getElementById("activityTable");var g=document.getElementById("dataTable");var f=document.body.clientHeight;if(f>0){b.style.height=f+"px";var a=f}if(a>0){if(e){a=a-e.offsetHeight}if(d){a=a-d.offsetHeight}if(c){a=a-c.offsetHeight}g.style.width="100%";if(a>7){g.style.height=a-7+"px"}}b.style.visibility="visible"}function doBuild(a){ev_submit(a,false,"")}function ev_printview(d){var e=document.getElementsByName("_viewid")[0].value;var c=document.getElementById("signatureExist").value;var b=activityAction;b+="?_signatureExist="+c;b+="&_activityid="+d;b+="&isprint=true";if(ev_runbeforeScriptforview(d)){var a=document.forms[0];a.action=b;fmwin=window.open("about:blank","_my_submit_win");a.target="_my_submit_win";a.submit();a.target=""}}function showTaskContent(a){}function ev_JumpTo(a,d,c,b){ev_dispatcherPage(a)}function ev_dispatcherPage(b){if(ev_runbeforeScriptforview(b)){var a=activityAction+"?_activityid="+b;document.forms[0].action=a;document.forms[0].submit()}}function modifyActionBack(){document.getElementsByName("_currpage")[0].value=1;var a=jQuery("input[name='_viewid']").val();document.forms[0].action=contextPath+"/portal/dynaform/view/displayView.action?isQueryButton=true&_viewid="+a;jQuery("input[name='_viewid']").remove();document.forms[0].target="";document.forms[0].submit()}function ev_subFormView(){document.getElementsByName("_currpage")[0].value=1;document.forms[0].action=contextPath+"/portal/dynaform/view/subFormView.action?isQueryButton=true";document.forms[0].target="";document.forms[0].submit()}function runscript(b,d,f){var e={};var c=contextPath+"/portal/dynaform/view/runScript.action?docid="+b+"&columnId="+d;if(f){var a=jQuery(f).parents("div[type=includedView]");var e=DisplayView.span2Json(f)}else{e=jQuery(document.forms[0]).serialize()}jQuery.post(c,e,function(g){if(g&&g.length>0){alert(g)}if(f){var h=DisplayView.getAction(f);DisplayView.postForm(f,h,json)}else{document.forms[0].submit()}})}function jumptoform(formId,jumpMapping,title){var showW=top.document.documentElement.clientWidth;showW=showW-showW/10;var showH=top.document.documentElement.clientHeight;showH=showH-showH/10;var obj=eval(jumpMapping);var str="";if(obj){str+="&";for(var i=0;i<obj.length;i++){var agr=obj[i].name;var colValue=obj[i].value;str+=encodeURIComponent(agr)+"="+encodeURIComponent(colValue)+"&"}str=str.substring(0,str.length-1)}var applicationid=document.getElementById("ApplicationID").value;var view_id=document.getElementsByName("_viewid")[0].value;var newAction=contextPath+"/portal/dynaform/document/newWithJump.action";var url=newAction+"?applicationid="+applicationid+"&application="+applicationid+"&_formid="+formId+"&view_id="+view_id+"&_isJump=1"+str+"&_backURL=isJumpToForm";showfrontframe({title:title,url:url,w:showW,h:showH,windowObj:window.parent,callback:function(result){}})}var isComplete=false;function initDispComm(){openDownloadWindow(openDownWinStr);setTimeout(function(){jqRefactor4DisplayView()},50);setTimeout(function(){},10);selectData4Doc();setTimeout(function(){showPromptMsg()},300);document.ondblclick=handleDbClick;setTimeout(function(){dataTableSize()},300);ev_reloadParent();isComplete=true}function getIsComplete(){return isComplete}function zoompage(){var a=typeof(dialogArguments);if(a!="undefined"){}else{if(window.opener){}else{window.top.IsResize()}}ev_resize4IncludeViewPar()}function dataTableSize(){var e=document.getElementsByName("divid")[0].value;var b=parent.document.getElementById(e);var a="";var d="false";if(b){a=b.getElementsByTagName("iframe")[0];if(a){d=a.getAttribute("fixation")}}if(d=="true"){return}var c=jQuery("#dataTable").height();if(c<100){c=120}else{if(c>300){c=300}else{c=c+20}}jQuery("#table_container").height(c)}function handleDbClick(){if(event.srcElement.onclick){}else{if(event.srcElement.type!=null&&(event.srcElement.type.toUpperCase()=="SUBMIT"||event.srcElement.type.toUpperCase()=="BUTTON"||event.srcElement.type.toUpperCase()=="CHECKBOX"||event.srcElement.type.toUpperCase()=="RADIO"||event.srcElement.type.toUpperCase()=="SELECT"||event.srcElement.type.toUpperCase()=="IMG")){}else{zoompage()}}}function showPromptMsg(){var funName=typeName;var url=urlValue;url+="&_refreshDocument=true";var msg=document.getElementsByName("message")[0].value;if(msg){try{eval("do"+funName+"(msg , url);")}catch(ex){}}}function on_unload(){ev_reloadParent()}function createDoc(a){var b=activityAction+"?_activityid="+a;openWindowByType(b,newStr,VIEW_TYPE_SUB,a)}function viewDoc(a,g,d,c,f,e,h){var b=docviewAction;b+="?_docid="+a;if(g){b+="&_formid="+g}if(c){b+="&_templateForm="+c}if(d){b+="&signatureExist="+d}if(isedit){b+="&isedit="+isedit+""}if(e){b+="&_targetInstance="+e}if(h){b+="&_targetNode="+h}openWindowByType(b,selectStr,VIEW_TYPE_SUB)}function ev_resize4IncludeViewPar(){var b=document.getElementsByName("divid")[0].value;var a=document.getElementsByName("_viewid")[0].value;ev_resize4IncludeView(b,a,"DISPLAYVIEW")}(function($){$.fn.obpmDisplayView=function(){return this.each(function(){var $dvid=$(this).parents(".control-content").attr("id");$(this).next(".ui-content").attr("id","view_"+$dvid);var Column={COLUMN_TYPE_SCRIPT:"COLUMN_TYPE_SCRIPT",COLUMN_TYPE_FIELD:"COLUMN_TYPE_FIELD",COLUMN_TYPE_OPERATE:"COLUMN_TYPE_OPERATE",COLUMN_TYPE_LOGO:"COLUMN_TYPE_LOGO",COLUMN_TYPE_ROWNUM:"COLUMN_TYPE_ROWNUM",DISPLAY_ALL:"00",DISPLAY_PART:"01"},ColumnOperaType={BUTTON_TYPE_DELETE:"00",BUTTON_TYPE_DOFLOW:"01",BUTTON_TYPE_TEMPFORM:"03",BUTTON_TYPE_SCRIPT:"04",BUTTON_TYPE_JUMP:"05"},View={DISPLAY_TYPE_TEMPLATEFORM:"templateForm"},Setting={TABLE_CLASS:"listDataTable",TH_CLASS:"listDataTh",TH_FIRST_TD_CLASS:"listDataThFirstTd",TH_TD_CLASS:"listDataThTd",TR_FIRST_TD_CLASS:"listDataTrFirstTd",TR_TD_CLASS:"listDataTrTd",TR_CLASS:"listDataTr",TR_OVER_CLASS:"listDataTr_over"},toDataTdHtml=function($tdField){var tdAttrs={};tdAttrs.displayType=$tdField.attr("displayType");tdAttrs.isHidden=$tdField.attr("isHidden");tdAttrs.colWidth=$tdField.attr("colWidth");tdAttrs.colGroundColor=$tdField.attr("colGroundColor");tdAttrs.colColor=$tdField.attr("colColor");tdAttrs.colFontSize=$tdField.attr("colFontSize");tdAttrs.isVisible=$tdField.attr("isVisible");tdAttrs.isReadonly=$tdField.attr("isReadonly");tdAttrs.colType=$tdField.attr("colType");tdAttrs.fieldInstanceOfWordField=$tdField.attr("fieldInstanceOfWordField");tdAttrs.fieldInstanceOfMapField=$tdField.attr("fieldInstanceOfMapField");tdAttrs.displayType=$tdField.attr("displayType");tdAttrs.isShowTitle=$tdField.attr("isShowTitle");tdAttrs.colDisplayLength=$tdField.attr("colDisplayLength");tdAttrs.colFieldName=$tdField.attr("colFieldName");tdAttrs.colFlowReturnCss=$tdField.attr("colFlowReturnCss");tdAttrs.viewDisplayType=$tdField.attr("viewDisplayType");tdAttrs.isSignatureExist=$tdField.attr("isSignatureExist");tdAttrs.isEdit=$tdField.attr("isEdit");tdAttrs.colButtonType=$tdField.attr("colButtonType");tdAttrs.colApproveLimit=$tdField.attr("colApproveLimit");tdAttrs.colButtonName=$tdField.attr("colButtonName");tdAttrs.colMappingform=$tdField.attr("colMappingform");tdAttrs.result=$tdField.find("div[name='result']").html();tdAttrs.colIcon=$tdField.attr("colIcon");tdAttrs.colId=$tdField.attr("colId");tdAttrs.colTemplateForm=$tdField.attr("colTemplateForm");tdAttrs.showword=$tdField.attr("showword");var tdHtml="";var pHtml="";var aHtml="";tdAttrs.isShowTitle=(tdAttrs.isShowTitle=="true"?true:false);tdAttrs.result=(tdAttrs.result?tdAttrs.result:"");tdAttrs.colWidth=(tdAttrs.colWidth!="null")?tdAttrs.colWidth:"";tdAttrs.colGroundColor=(tdAttrs.colGroundColor&&tdAttrs.colGroundColor!="null"&&tdAttrs.colGroundColor!="FFFFFF")?tdAttrs.colGroundColor:"";tdAttrs.colColor=(tdAttrs.colColor&&tdAttrs.colColor!="null"&&tdAttrs.colColor!="000000")?tdAttrs.colColor:"";tdAttrs.colFontSize=(tdAttrs.colFontSize&&tdAttrs.colFontSize!="null"&&tdAttrs.colFontSize!="12")?tdAttrs.colFontSize:"";tdAttrs.isVisible=(tdAttrs.isVisible=="true"?true:false);tdAttrs.isReadonly=(tdAttrs.isReadonly=="true"?true:false);tdAttrs.colType=tdAttrs.colType?tdAttrs.colType:"";tdAttrs.fieldInstanceOfWordField=(tdAttrs.fieldInstanceOfWordField=="true"?true:false);tdAttrs.fieldInstanceOfMapField=(tdAttrs.fieldInstanceOfMapField=="true"?true:false);tdAttrs.isShowTitle=(tdAttrs.isShowTitle=="true"?true:false);tdAttrs.colDisplayLength=tdAttrs.colDisplayLength?tdAttrs.colDisplayLength:"";tdAttrs.colFieldName=tdAttrs.colFieldName?tdAttrs.colFieldName:"";tdAttrs.colFlowReturnCss=(tdAttrs.colFlowReturnCss=="true"?true:false);tdAttrs.viewDisplayType=(tdAttrs.viewDisplayType!="null")?tdAttrs.viewDisplayType:"";tdAttrs.isSignatureExist=(tdAttrs.isSignatureExist=="true"?true:false);tdAttrs.isEdit=(tdAttrs.isEdit=="true"?true:false);tdAttrs.isHidden=(tdAttrs.isHidden=="true"?true:false);tdAttrs.colButtonType=(tdAttrs.colButtonType!="null")?tdAttrs.colButtonType:"";tdAttrs.colApproveLimit=(tdAttrs.colApproveLimit!="null")?tdAttrs.colApproveLimit:"";tdAttrs.colButtonName=(tdAttrs.colButtonName!="null")?tdAttrs.colButtonName:"";tdAttrs.colMappingform=(tdAttrs.colMappingform!="null")?tdAttrs.colMappingform:"";tdAttrs.colIcon=(tdAttrs.colIcon!="null")?tdAttrs.colIcon:"";tdAttrs.showIcon=($tdField.attr("showIcon")!=null)?$tdField.attr("showIcon"):"";if(tdAttrs.result.indexOf("[")==0){tdAttrs.title=$tdField.find("div[name='result']").text()}var docId=$tdField.attr("docId");docId=docId?docId:"";var tip="";var viewTemplateForm=$tdField.attr("viewTemplateForm");viewTemplateForm=(viewTemplateForm!="null")?viewTemplateForm:"";var docFormid=$tdField.attr("docFormid");docFormid=docFormid?docFormid:"";var jumpMapping=$tdField.find("div[name='jumpMapping']").html();jumpMapping=jumpMapping?jumpMapping:"";var result=$tdField.find("div[name='result']").html();result=(result?result:"");if(tdAttrs.showIcon){result="<img style='' src='../../../lib/icon/"+tdAttrs.showIcon+"'/>"}var convert2HTMLEncode=function(str){var s=str;if(Column.COLUMN_TYPE_FIELD==tdAttrs.colType&&!tdAttrs.colFieldName.substr(0,1)=="$"&&!tdAttrs.colFlowReturnCss){s=s.replace(new RegExp(">","gm"),"&gt;");s=s.replace(new RegExp("<","gm"),"&lt;")}return s};var result2tdHtml=function(){var templateForm="";if(View.DISPLAY_TYPE_TEMPLATEFORM==tdAttrs.viewDisplayType){templateForm=viewTemplateForm}var resHtml="";if("$StateLabel"==tdAttrs.colFieldName&&(result.indexOf("[")==0||result.indexOf("<img")==0)){resHtml+='<TABLE style="width:100%;border:0;">';var instances;if(result.indexOf("[")==0){instances=JSON.parse(result)}else{if(result.indexOf("<img")==0){var jsonStartIndex=result.indexOf("[{"),jsonEndIndex=result.lastIndexOf("}]"),imgHtml=result.substring(0,result.indexOf("<font")),fontStart=result.substring(result.indexOf("<font"),jsonStartIndex),fontEnd=result.substring(jsonEndIndex+2,result.length);instances=result.substring(jsonStartIndex,jsonEndIndex+2);instances=eval("("+instances+")")}}for(var i=0;i<instances.length;i++){if(i+1==instances.length){resHtml+='<tr><td style="line-height:16px;border-right-width:0;border-bottom-width:0; border-right-style: none;">'}else{resHtml+='<tr><td style="line-height:16px;border-right-width: 0px; border-right-style: none;">'}var instance=instances[i];var instanceId=instance.instanceId;var nodes=instance.nodes;if(result.indexOf("<img")==0){resHtml+=imgHtml}for(var j=0;j<nodes.length;j++){var node=nodes[j];var nodeId=node.nodeId;var stateLable=truncationText(node.stateLabel,tdAttrs.displayType,tdAttrs.colDisplayLength);if(tdAttrs.isReadonly){resHtml+=stateLable}else{resHtml+="<a href=\"javaScript:viewDoc('";resHtml+=docId+"', '";resHtml+=docFormid+"', '";resHtml+=tdAttrs.isSignatureExist+"', '";resHtml+=templateForm+"', '";resHtml+=tdAttrs.isEdit+"', '";resHtml+=instanceId+"', '";resHtml+=nodeId+"')\">";if(result.indexOf("<img")==0){stateLable=fontStart+stateLable+fontEnd}resHtml+=stateLable+"</a>&nbsp;&nbsp;"}}resHtml+="</td></tr>"}resHtml+="</TABLE>"}else{if("$PrevAuditNode"==tdAttrs.colFieldName&&result.indexOf("[")==0){resHtml+='<TABLE style="width:100%;border:0;">';var instances=JSON.parse(result);for(var i=0;i<instances.length;i++){var instance=instances[i];var instanceId=instance.instanceId;var prevAuditNode=instance.prevAuditNode;if(i+1==instances.length){resHtml+='<tr><td title="'+prevAuditNode+'" style="line-height:16px;border-right-width:0;border-bottom-width:0; border-right-style: none;">'}else{resHtml+='<tr><td title="'+prevAuditNode+'" style="line-height:16px;border-right-width: 0px; border-right-style: none;">'}if(tdAttrs.isReadonly){resHtml+=truncationText(prevAuditNode,tdAttrs.displayType,tdAttrs.colDisplayLength)}else{resHtml+="<a href=\"javaScript:viewDoc('";resHtml+=docId+"', '";resHtml+=docFormid+"', '";resHtml+=tdAttrs.isSignatureExist+"', '";resHtml+=templateForm+"', '";resHtml+=tdAttrs.isEdit+"', '";resHtml+=instanceId+"')\">";resHtml+=truncationText(prevAuditNode,tdAttrs.displayType,tdAttrs.colDisplayLength)+"</a>&nbsp;&nbsp;"}resHtml+="</td></tr>"}resHtml+="</TABLE>"}else{if("$PrevAuditUser"==tdAttrs.colFieldName&&result.indexOf("[")==0){resHtml+='<TABLE style="width:100%;border:0;">';var instances=JSON.parse(result);for(var i=0;i<instances.length;i++){var instance=instances[i];var instanceId=instance.instanceId;var prevAuditUser=instance.prevAuditUser;if(i+1==instances.length){resHtml+='<tr><td title="'+prevAuditUser+'" style="line-height:16px;border-right-width:0;border-bottom-width:0; border-right-style: none;">'}else{resHtml+='<tr><td title="'+prevAuditUser+'" style="line-height:16px;border-right-width: 0px; border-right-style: none;">'}if(tdAttrs.isReadonly){resHtml+=truncationText(prevAuditUser,tdAttrs.displayType,tdAttrs.colDisplayLength)}else{resHtml+="<a href=\"javaScript:viewDoc('";resHtml+=docId+"', '";resHtml+=docFormid+"', '";resHtml+=tdAttrs.isSignatureExist+"', '";resHtml+=templateForm+"', '";resHtml+=tdAttrs.isEdit+"', '";resHtml+=instanceId+"')\">";resHtml+=truncationText(prevAuditUser,tdAttrs.displayType,tdAttrs.colDisplayLength)+"</a>&nbsp;&nbsp;"}resHtml+="</td></tr>"}resHtml+="</TABLE>"}else{resHtml=truncationText(result,tdAttrs.displayType,tdAttrs.colDisplayLength)}}}return resHtml};if(!tdAttrs.isHidden){if((tdAttrs.colWidth&&tdAttrs.colWidth=="0")||!tdAttrs.isVisible||tdAttrs.isHidden){tdHtml+="<td class='"+Setting.TR_TD_CLASS+"' style='display: none;'"}else{if(tdAttrs.colGroundColor!=""){tdHtml+="<td class='"+Setting.TR_TD_CLASS+"' style='background-color:#"+tdAttrs.colGroundColor+";word-break: break-all;'"}else{tdHtml+="<td class='"+Setting.TR_TD_CLASS+"' style='word-break: break-all;'"}}if(!(tdAttrs.isReadonly||tdAttrs.colType=="COLUMN_TYPE_LOGO")&&result.indexOf("<TABLE>")==-1){tdHtml+=" onClick=\"viewDoc ('"+docId+"', '"+docFormid+"', '"+tdAttrs.isSignatureExist+"', '"+templateForm+"', '"+tdAttrs.isEdit+"')\""}tdHtml+=">";if(tdAttrs.isReadonly||tdAttrs.colType=="COLUMN_TYPE_LOGO"||tdAttrs.fieldInstanceOfWordField||tdAttrs.fieldInstanceOfMapField){if(!tdAttrs.fieldInstanceOfWordField&&!tdAttrs.fieldInstanceOfMapField){var pHtml="";pHtml+="<p";if(tdAttrs.isShowTitle){pHtml+=" title='"+title+"'"}if((tdAttrs.colColor!="")||(tdAttrs.colFontSize!="")){pHtml+=" style='";if(tdAttrs.colColor!=""){pHtml+="color:#"+tdAttrs.colColor+";"}if(tdAttrs.colFontSize!=""){pHtml+="font-size:"+tdAttrs.colFontSize+"px;"}pHtml+="'"}pHtml+=" >";if(tdAttrs.isReadonly){if(result!=null){result=result2tdHtml()}}if(Column.DISPLAY_ALL==tdAttrs.displayType){pHtml+=convert2HTMLEncode(result)+"</p>"}else{pHtml+=convert2HTMLEncode(result)+"</p>"}tdHtml+=pHtml}}else{if(result!=null){var aHtml="";if(result.toLowerCase().indexOf("<a ")!=-1||result.toLowerCase().indexOf("<a>")!=-1||(result.toLowerCase().indexOf("<input ")!=-1&&(result.toLowerCase().indexOf("type='button'")!=-1||result.toLowerCase().indexOf("type=button")!=-1))||result.toLowerCase().indexOf("viewdoc")!=-1){aHtml+=result}else{result=result2tdHtml();var templateForm="";if(View.DISPLAY_TYPE_TEMPLATEFORM==tdAttrs.viewDisplayType){templateForm=viewTemplateForm}if(result.indexOf("<TABLE>")!=-1||!tdAttrs.isEdit){aHtml+='<div style="cursor:pointer;" '}else{aHtml+="<a "}if((tdAttrs.colColor!="")||(tdAttrs.colFontSize!="")){aHtml+=" style='";if(tdAttrs.colColor!=""){aHtml+="color:#"+tdAttrs.colColor+";"}if(tdAttrs.colFontSize!=""){aHtml+="font-size:"+tdAttrs.colFontSize+"px;"}aHtml+="'"}if(result.indexOf("img")!=-1){if(tdAttrs.isShowTitle){aHtml+=" title='"+tdAttrs.title+"'"}aHtml+=" >";if(result.indexOf("<TABLE>")!=-1){aHtml+=convert2HTMLEncode(result)+"</div>"}else{aHtml+=convert2HTMLEncode(result)+"</a>"}}else{if(tdAttrs.isShowTitle){aHtml+=" title='"+tdAttrs.title+"'"}aHtml+=" >";if(result.indexOf("<TABLE>")!=-1){aHtml+=convert2HTMLEncode(result)+"</div>"}else{aHtml+=convert2HTMLEncode(result)+"</a>"}}}}tdHtml+=aHtml}if("COLUMN_TYPE_OPERATE"==tdAttrs.colType&&ColumnOperaType.BUTTON_TYPE_DELETE==tdAttrs.colButtonType){var inputHtml="<input type=button value='"+tdAttrs.colButtonName;inputHtml+="' onclick=\"on_delete('"+docId+"')\" ";inputHtml+="/>";tdHtml+=inputHtml}else{if("COLUMN_TYPE_OPERATE"==tdAttrs.colType&&ColumnOperaType.BUTTON_TYPE_DOFLOW==tdAttrs.colButtonType){var inputHtml="<input type=button value='"+tdAttrs.colButtonName;inputHtml+="' onclick=\"on_doflow('"+docId+"','"+tdAttrs.colApproveLimit+"')\" ";inputHtml+="/>";tdHtml+=inputHtml}else{if("COLUMN_TYPE_OPERATE"==tdAttrs.colType&&ColumnOperaType.BUTTON_TYPE_TEMPFORM==tdAttrs.colButtonType){var inputHtml="<input type=button value='"+tdAttrs.colButtonName;inputHtml+="' onclick=\"viewDoc('"+docId+"','"+docFormid+"','"+tdAttrs.isSignatureExist+"','"+tdAttrs.colTemplateForm+"')\" ";inputHtml+="/>";tdHtml+=inputHtml}else{if("COLUMN_TYPE_OPERATE"==tdAttrs.colType&&ColumnOperaType.BUTTON_TYPE_SCRIPT==tdAttrs.colButtonType){var inputHtml="<input type=button value='"+tdAttrs.colButtonName;inputHtml+="' onclick=\"runscript('"+docId+"','"+tdAttrs.colId+"')\" ";inputHtml+="/>";tdHtml+=inputHtml}else{if("COLUMN_TYPE_OPERATE"==tdAttrs.colType&&ColumnOperaType.BUTTON_TYPE_JUMP==tdAttrs.colButtonType){var inputHtml="<input type=button value='"+tdAttrs.colButtonName;inputHtml+="' onclick=\"jumptoform('"+tdAttrs.colMappingform+"',"+jumpMapping+",'"+tdAttrs.colButtonName+"')\" ";inputHtml+="/>";tdHtml+=inputHtml}}}}}if("COLUMN_TYPE_LOGO"==tdAttrs.colType&&tdAttrs.colIcon&&tdAttrs.colIcon!=""){tdHtml+="<img style='' src='../../../lib/icon/"+tdAttrs.colIcon+"'/>"}if(tdAttrs.fieldInstanceOfWordField){var btnHtml="<img src='../../share/images/view/word.gif'";btnHtml+=" onclick=\"showWordDialogWithView('"+tdAttrs.showword+"','WordControl','"+docId+"','"+result+"','"+tdAttrs.colFieldName+"',3,2,false,true)\" ></img>";tdHtml+=btnHtml}else{if(tdAttrs.fieldInstanceOfMapField){var application=jQuery("body",parent.document).find("#application").val();var fieldVal="";var displayType=1;var f_id=docId+"_"+tdAttrs.colFieldName;var valhtml=tdAttrs.title==" "?"":"value = '"+tdAttrs.title+"'";var btnHtml="<input type='hidden' id = '"+f_id+"' "+valhtml+">";btnHtml+="<img src='../../share/images/view/map.png' style='margin: 0 5px;'";btnHtml+=" onclick=\"FormBaiduMap('";btnHtml+=f_id+"', '";btnHtml+=application+"', '";btnHtml+=displayType+"')\"";tdHtml+=btnHtml}else{if(result&&result.length==0){tdHtml+="&nbsp;"}}}tdHtml+="</td>"}return tdHtml},toFirstTdHtml=function($tdField,i){var tdHtml="";var thAttrs={};thAttrs.upImg="<img border=\"0\" src='../../share/images/view/up.gif'/>";thAttrs.downImg="<img border=\"0\" src='../../share/images/view/down.gif'/>";thAttrs.colName=$tdField.attr("colName");thAttrs.colText=$tdField.attr("colText");thAttrs.isVisible=$tdField.attr("isVisible");thAttrs.isHiddenColumn=$tdField.attr("isHiddenColumn");thAttrs.colWidth=$tdField.attr("colWidth");thAttrs.colType=$tdField.attr("colType");thAttrs.colFieldName=$tdField.attr("colFieldName");thAttrs.isOrderByField=$tdField.attr("isOrderByField");thAttrs.isVisible=(thAttrs.isVisible=="true")?true:false;thAttrs.isHiddenColumn=(thAttrs.isHiddenColumn=="true")?true:false;thAttrs.colWidth=(thAttrs.colWidth=="null")?"":thAttrs.colWidth;if(thAttrs.isVisible&&!thAttrs.isHiddenColumn){if(thAttrs.colWidth!="0"){if(thAttrs.colWidth!=""){isSetWidth=true}if(i>2){i++;tdHtml+='<th isVisible="'+thAttrs.isVisible+'" isHiddenColumn="'+thAttrs.isHiddenColumn+'" class="'+Setting.TH_TD_CLASS+"\" data-priority='6'>"+thAttrs.colText+"</th>"}else{tdHtml+='<th isVisible="'+thAttrs.isVisible+'" isHiddenColumn="'+thAttrs.isHiddenColumn+'" class="'+Setting.TH_TD_CLASS+"\" data-priority='1'>"+thAttrs.colText+"</th>"}}else{tdHtml='<th isVisible="'+thAttrs.isVisible+'" isHiddenColumn="'+thAttrs.isHiddenColumn+'" class="'+Setting.TH_TD_CLASS+'" style="display:none;">'+thAttrs.colName+"</th>"}}return tdHtml};truncationText=function(input,displayType,displayLength){if(displayType==Column.DISPLAY_PART){if(displayLength.match("\\d+")){return input.substring(0,displayLength)+"..."}}return input};var $field=jQuery(this);var _sortCol=$field.attr("_sortCol");var _sortStatus=$field.attr("_sortStatus");var isSum=$field.attr("isSum");isSum=(isSum=="true")?true:false;var $tableHtml=jQuery('<table data-column-btn-text="" class="table-column-toggle ui-responsive table-stroke" data-role="table" data-mode="columntoggle"></table>');var sumTrIsHidden=true;$field.find("#sumTrId").find("td").each(function(){if(jQuery(this).attr("isSum")=="true"||jQuery(this).attr("isTotal")=="true"){sumTrIsHidden=false;return}});$field.children().children().each(function(i){var $trHtml="";var $trField=jQuery(this);if(i==0){var $head=$("<thead></thead>");$trHtml=jQuery('<tr class="'+Setting.TH_CLASS+'"></tr>');$trField.children().each(function(i){var $tdField=jQuery(this);if(i==0){var tdHtml="";tdHtml='<th class="'+Setting.TH_FIRST_TD_CLASS+'" scope="col"></th>';var inputHtml="";jQuery(tdHtml).append(jQuery(inputHtml).bind("click",function(){selectAll(this.checked)})).appendTo($trHtml)}else{$field.find("tr:gt(0)").each(function(){$(this).find(" td:eq("+i+")").attr("isHidden",$tdField.attr("isHiddenColumn"))});$trHtml.append(toFirstTdHtml($tdField,i))}});$tableHtml.append($head.append($trHtml));$trHtml=null;$head=null}else{if(isSum&&!sumTrIsHidden&&(i==$field.children().children().size()-1)){$trHtml=jQuery('<tr class="'+Setting.TR_CLASS+'" >');$trField.children().each(function(i){var tdHtml="";var $tdField=jQuery(this);var sumTdAttrs={};sumTdAttrs.isVisible=$tdField.attr("isVisible");sumTdAttrs.isHiddenColumn=$tdField.attr("isHiddenColumn");sumTdAttrs.isSum=$tdField.attr("isSum");sumTdAttrs.isTotal=$tdField.attr("isTotal");sumTdAttrs.colName=$tdField.attr("colName");sumTdAttrs.sumByDatas=$tdField.attr("sumByDatas");sumTdAttrs.sumTotal=$tdField.attr("sumTotal");sumTdAttrs.isVisible=(sumTdAttrs.isVisible=="true")?true:false;sumTdAttrs.isHiddenColumn=(sumTdAttrs.isHiddenColumn=="true")?true:false;sumTdAttrs.isSum=(sumTdAttrs.isSum=="true")?true:false;sumTdAttrs.isTotal=(sumTdAttrs.isTotal=="true")?true:false;if(i==0){tdHtml+='<th class="'+Setting.TR_FIRST_TD_CLASS+'">';tdHtml+="&nbsp;</th>"}else{if(sumTdAttrs.isVisible&&!sumTdAttrs.isHiddenColumn){tdHtml+='<td class="'+Setting.TR_TD_CLASS+'" >';if(sumTdAttrs.isSum||sumTdAttrs.isTotal){tdHtml+=sumTdAttrs.colName}if(sumTdAttrs.isSum){tdHtml+=sumTdAttrs.sumByDatas+"&nbsp;"}if(sumTdAttrs.isTotal){tdHtml+=sumTdAttrs.sumTotal+"&nbsp;"}tdHtml+="</td>"}}$trHtml.append(tdHtml)});$tableHtml.append($trHtml);$trHtml=null}else{if($trField.attr("trType")=="dataTr"){var dtrHtml='<tr class="'+Setting.TR_CLASS+'">';$trField.children().each(function(i){var $tdField=jQuery(this);if(i==0){var colId=$tdField.attr("colId");var tdHtml='<th class="'+Setting.TR_FIRST_TD_CLASS+'">';tdHtml+='<input data-enhance=\'false\' type="checkbox" name="_selects" value="'+colId+'"/>';dtrHtml+=tdHtml;tdHtml+="</th>"}else{dtrHtml+=toDataTdHtml($tdField)}});dtrHtml+="</tr>";$tableHtml.append(dtrHtml);dtrHtml=""}}}});var $viewID=$("#view_"+$dvid);$tableHtml.attr("id","tableList_"+$dvid);$tableHtml.appendTo($viewID);$field.remove();tableListColumn();if($(".table-view").find(".listDataTr").size()==0){$("#content-load-panel").show();$("#content-space").css("top",$(window).height()/2-73-10)}})}})(jQuery);function jqRefactor4DisplayView(){jQuery("table[moduleType='viewList']").obpmDisplayView()}function on_delete(c){var b=window.confirm("");if(!b){return}var d=document.getElementsByName("_selects");for(var a=0;a<d.length;a++){if(document.getElementsByName("_selects")[a].value==c){document.getElementsByName("_selects")[a].checked=true}else{document.getElementsByName("_selects")[a].checked=false}}document.forms[0].action="delete.action";document.forms[0].submit()}function turnPage(a,c){var b=DisplayView.actPagination(a,c);$(c).parents("div[name='display_view']").load(b,function(){var d=$(".tab_parameter");var e=$(this).attr("id")+"_params";var f=$("<div></div>").attr("id",e).attr("_action",$(this).attr("src")).css("display","none");$.each(d.find("input[type!=button],select,textarea").serializeArray(),function(){f.append("<span name='"+this.name+"'>"+this.value+"</span>")});$(this).append(f);d.find("input[type!=button],select,textarea").each(function(){if(!$(this).attr("moduleType")){$(this).remove()}});jqRefactor()})}var DisplayView={actPagination:function(a,g){var e=$(g).parents("div[name='display_view']");var h=e.find("#"+e.attr("id")+"_params");var c=parseInt(h.find("span[name='_currpage']").text()),b=parseInt(h.find("span[name='_pagelines']").text()),d=parseInt(h.find("span[name='_rowcount']").text());var f=Math.ceil(d/b);switch(a){case"showNextPage":return e.attr("src")+"&_currpage="+(c+1);break;case"showFirstPage":return e.attr("src")+"&_currpage=1";break;case"showPreviousPage":return e.attr("src")+"&_currpage="+(c-1);break;case"showLastPage":return e.attr("src")+"&_currpage="+f;break;default:break}},getTheView:function(a){return $(a).parents("div[name='display_view']")[0]},getAction:function(b){var a=DisplayView.getTheView(b);return $(a).find("#"+$(a).attr("id")+"_params").attr("_action")},span2Json:function(c){var a=DisplayView.getTheView(c);var b={};$(a).find("#"+$(a).attr("id")+"_params span").each(function(){var d=$(this).attr("name");var e=$(this).text();if(!b[d]||b[d]==""){b[d]=e}else{b[d]+=";"+e}});return b},addVal2Params:function(b,a){var c="";c=this.json2Params(b);$(a).each(function(){var d=this.name;var e=this.value;if(c==""){c=d+"="+e}else{c+="&"+d+"="+e}});return c},span2Params:function(b){var a=DisplayView.getTheView(b);var c="";$(a).find("#"+$(a).attr("id")+"_params span").each(function(){var d=$(this).attr("name");var e=encodeURIComponent($(this).text());if(c==""){c=d+"="+e}else{c+="&"+d+"="+e}});$(a).find("input[name='_selects']:checked").each(function(){var d=$(this).attr("name");var e=$(this).val();if(c==""){c=d+"="+e}else{c+="&"+d+"="+e}});return c},refreshSpan:function(c,b,d){var a=DisplayView.getTheView(c);$(a).find("span[name="+b+"]").each(function(){$(this).text(d)})},json2Params:function(a){var b="";$.each(a,function(c,d){d=encodeURIComponent(d);if(b==""){b=c+"="+d}else{b+="&"+c+"="+d}});return b},doCalculation:function(a){var c=$(a).attr("isrefreshonchanged");if(c==true||c=="true"){var b=$(a).attr("getName");dy_refresh(b)}},refreshPage:function(f,b,e){var a=$("<div></div>").append(e);var d=a.find("form");var c=d.find("input[name=_viewid]").val();var g=c+"_params";var h=$("<div></div>").attr("id",g).attr("_action",d.attr("action")).css("display","none");$.each(d.serializeArray(),function(){h.append("<span name='"+this.name+"'>"+this.value+"</span>")});$(b).html(h);d.find("input[type!=button],select,textarea").each(function(){if(!$(this).attr("moduleType")){$(this).remove()}});d.after(d.html()).remove();$(b).append(a.html());if(typeof(initDispComm)=="function"){initDispComm();this.doCalculation(b)}},postForm:function(c,a,b){$.ajax({type:"POST",url:a,async:false,dataType:"html",data:b,context:this.getTheView(c),success:function(d){DisplayView.refreshPage(c,this,d)}})},json2Textarea:function(b){var a="";$.each(b,function(c,d){a+='<textarea name="'+c+'">'+d+"</textarea>"});return a},downloadFile:function(a,b){$("<form></form>").attr("method","post").attr("action",a).append(this.json2Textarea(b)).submit().remove()},printView:function(a,b){$("<form></form>").attr("action",a).attr("target","_my_submit_win").append(this.json2Textarea(b)).submit()},openSearch:function(b){var a=$('<div id="searchFormTableSub"></div>').append($("#searchFormTable").html());artDialog({content:$("<div></div>").append(a).html(),lock:true,width:800,height:150,okVal:""},function(){DisplayView.search(b)},function(){})},search:function(c){var b=this.span2Json(c);b._currpage=1;$(document).find("#searchFormTableSub").find("input,select,textarea").each(function(){b[this.name]=this.value});var a=contextPath+"/portal/dynaform/view/subFormView.action?isQueryButton=true";this.postForm(c,a,b)},reset:function(d){var c=this.span2Json(d);var a=$("<div></div>").append($("#searchFormTable").html());a.find("input,select,textarea").each(function(){c[this.name]=""});c._currpage=1;var b=contextPath+"/portal/dynaform/view/subFormView.action?isQueryButton=true";this.postForm(d,b,c)},changeStatus:function(a,b,c){if(b!=c&&b.toUpperCase()!=c.toUpperCase()){a._sortStatus="ASC";a._sortCol=c}else{if(a._sortStatus=="ASC"){a._sortStatus="DESC";a._sortCol=c}else{a._sortStatus="ASC";a._sortCol=c}}return a},sortTable:function(e,d){var b=this.span2Json(e);var c=b._sortCol;b=this.changeStatus(b,c,d);var a=this.getAction(e);this.postForm(e,a,b)},toggleButton:function(c,e){var a=this.getTheBody(c);var b=false;var d=$(a).find("[name=btnName]");$(a).find("[name=btnName]").each(function(){if($(this).attr("isLoad")=="false"){b=true}else{$(this).attr("isLoad","false");$(this).css("color","gray")}});return b},getCheckedListStr:function(e,b){var a=this.getTheView(e);var d="";var c=$(a).find("[name="+b+"]");$(a).find("[name="+b+"]").each(function(){if($(this).attr("type")=="checkbox"||$(this).attr("type")=="radio"){if(this.checked&&this.value){if(d==""){d+=this.value}else{d+=";"+this.value}}}else{d=this.value}});return d},getValuesMap:function(f,d){var e={};var b="";var g=new Array();var a=this.getTheView(f);if($(a).find("[name=_selects]")){var c=this.getCheckedListStr(f,"_selects");d._selectsText=c?c:""}return this.json2Params(d)},addSearchFormParams:function(c,b){var a=this.getTheView(c);$(a).find("#searchFormTable").find("input,select,textarea").each(function(){b[this.name]=this.value});return b},resetBackURL:function(d,a){var b=this.getTheView(d);var c=false;if(a!=""&&(a.indexOf("&")>=0||a.indexOf("?")>=0)){c=true}$(b).find("#searchFormTable").find("input,select,textarea").each(function(){if(c){a+="&"}else{a+="?";c=true}a+=this.name+"="+this.value});return a},getSelects:function(a){var d=$(a).find("[name='_selects']");var b="";if(d){for(var c=0;c<d.length;c++){if(d[c].checked){b+="&_selects="+d[c].value}}}return b},viewDocSub:function(obj,action,title,viewType,actid){var openType=OPEN_TYPE_DIV;var view=this.getTheView(obj);var flag=false;var _action=this.getAction(obj);var json=this.span2Json(obj);if(actid){jQuery.ajax({type:"POST",async:false,url:contextPath+"/portal/dynaform/activity/runbeforeactionscript.action?_actid="+actid,dataType:"text",timeout:3000,data:json,success:function(result){if(result!=null&&result!=""){var jsmessage=eval("("+result+")");var type=jsmessage.type;var content=jsmessage.content;if(type=="16"){this.postForm(obj,_action,json)}if(type=="32"){var rtn=window.confirm(content);if(!rtn){this.postForm(obj,_action,json)}else{flag=true}}}else{flag=true}},error:function(result){alert("")}})}else{flag=true}if(flag){var url=action;if(viewType==VIEW_TYPE_SUB){url+="&isSubDoc=true"}json._backURL=this.resetBackURL(obj,json._backURL);this.addSearchFormParams(obj,json);var _json=json;var _backURL=json._backURL;delete json._backURL;var parameters=this.getValuesMap(obj,json);if(openType==OPEN_TYPE_DIV){var oSelects=$(view).find("[name='_selects']");var _selects="";if(oSelects){for(var i=0;i<oSelects.length;i++){if(oSelects[i].checked){_selects+="&_selects="+oSelects[i].value}}}url+="&"+parameters+"&openType="+openType+_selects;var w=document.body.clientWidth-25;showfrontframe({title:"",url:url,w:w,h:30,windowObj:window.parent,callback:function(result){setTimeout(function(){_json._backURL=_backURL;DisplayView.postForm(obj,_action,_json)},1)}})}}},viewDoc:function(e,j,g,b,h,d,f,c){var a=docviewAction;a+="?_docid="+j;if(g){a+="&_formid="+g}if(h){a+="&_templateForm="+h}if(isedit){a+="&isedit="+isedit+""}if(f){a+="&_targetInstance="+f}if(c){a+="&_targetNode="+c}this.viewDocSub(e,a,selectStr,VIEW_TYPE_SUB)}};!function(){function h(a){a.fn.swiper=function(e){var l;return a(this).each(function(){var m=new d(this,e);l||(l=m)}),l}}var b,d=function(an,Z){function aj(){return"horizontal"===R.params.direction}function af(l){return Math.floor(l)}function ae(){R.autoplayTimeoutId=setTimeout(function(){R.params.loop?(R.fixLoop(),R._slideNext()):R.isEnd?Z.autoplayStopOnLast?R.stopAutoplay():R._slideTo(0):R._slideNext()},R.params.autoplay)}function ah(o,l){var n=b(o.target);if(!n.is(l)){if("string"==typeof l){n=n.parents(l)}else{if(l.nodeType){var m;return n.parents().each(function(s,p){p===l&&(m=l)}),m?l:void 0}}}return 0===n.length?void 0:n[0]}function ao(o,l){l=l||{};var m=window.MutationObserver||window.WebkitMutationObserver,n=new m(function(p){p.forEach(function(s){R.onResize(!0),R.emit("onObserverUpdate",R,s)})});n.observe(o,{attributes:"undefined"==typeof l.attributes?!0:l.attributes,childList:"undefined"==typeof l.childList?!0:l.childList,characterData:"undefined"==typeof l.characterData?!0:l.characterData}),R.observers.push(n)}function ad(y){y.originalEvent&&(y=y.originalEvent);var A=y.keyCode||y.charCode;if(!R.params.allowSwipeToNext&&(aj()&&39===A||!aj()&&40===A)){return !1}if(!R.params.allowSwipeToPrev&&(aj()&&37===A||!aj()&&38===A)){return !1}if(!(y.shiftKey||y.altKey||y.ctrlKey||y.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===A||39===A||38===A||40===A){var B=!1;if(R.container.parents(".swiper-slide").length>0&&0===R.container.parents(".swiper-slide-active").length){return}var m={left:window.pageXOffset,top:window.pageYOffset},C=window.innerWidth,w=window.innerHeight,v=R.container.offset();R.rtl&&(v.left=v.left-R.container[0].scrollLeft);for(var x=[[v.left,v.top],[v.left+R.width,v.top],[v.left,v.top+R.height],[v.left+R.width,v.top+R.height]],z=0;z<x.length;z++){var u=x[z];u[0]>=m.left&&u[0]<=m.left+C&&u[1]>=m.top&&u[1]<=m.top+w&&(B=!0)}if(!B){return}}aj()?((37===A||39===A)&&(y.preventDefault?y.preventDefault():y.returnValue=!1),(39===A&&!R.rtl||37===A&&R.rtl)&&R.slideNext(),(37===A&&!R.rtl||39===A&&R.rtl)&&R.slidePrev()):((38===A||40===A)&&(y.preventDefault?y.preventDefault():y.returnValue=!1),40===A&&R.slideNext(),38===A&&R.slidePrev())}}function W(o){o.originalEvent&&(o=o.originalEvent);var l=R.mousewheel.event,m=0;if(o.detail){m=-o.detail}else{if("mousewheel"===l){if(R.params.mousewheelForceToAxis){if(aj()){if(!(Math.abs(o.wheelDeltaX)>Math.abs(o.wheelDeltaY))){return}m=o.wheelDeltaX}else{if(!(Math.abs(o.wheelDeltaY)>Math.abs(o.wheelDeltaX))){return}m=o.wheelDeltaY}}else{m=o.wheelDelta}}else{if("DOMMouseScroll"===l){m=-o.detail}else{if("wheel"===l){if(R.params.mousewheelForceToAxis){if(aj()){if(!(Math.abs(o.deltaX)>Math.abs(o.deltaY))){return}m=-o.deltaX}else{if(!(Math.abs(o.deltaY)>Math.abs(o.deltaX))){return}m=-o.deltaY}}else{m=Math.abs(o.deltaX)>Math.abs(o.deltaY)?-o.deltaX:-o.deltaY}}}}}if(R.params.mousewheelInvert&&(m=-m),R.params.freeMode){var n=R.getWrapperTranslate()+m;if(n>0&&(n=0),n<R.maxTranslate()&&(n=R.maxTranslate()),R.setWrapperTransition(0),R.setWrapperTranslate(n),R.updateProgress(),R.updateActiveIndex(),R.params.freeModeSticky&&(clearTimeout(R.mousewheel.timeout),R.mousewheel.timeout=setTimeout(function(){R.slideReset()},300)),0===n||n===R.maxTranslate()){return}}else{if((new window.Date).getTime()-R.mousewheel.lastScrollTime>60){if(0>m){if(R.isEnd){if(R.params.mousewheelReleaseOnEdges){return !0}}else{R.slideNext()}}else{if(R.isBeginning){if(R.params.mousewheelReleaseOnEdges){return !0}}else{R.slidePrev()}}}R.mousewheel.lastScrollTime=(new window.Date).getTime()}return R.params.autoplay&&R.stopAutoplay(),o.preventDefault?o.preventDefault():o.returnValue=!1,!1}function ap(p,l){p=b(p);var o,m,u;o=p.attr("data-swiper-parallax")||"0",m=p.attr("data-swiper-parallax-x"),u=p.attr("data-swiper-parallax-y"),m||u?(m=m||"0",u=u||"0"):aj()?(m=o,u="0"):(u=o,m="0"),m=m.indexOf("%")>=0?parseInt(m,10)*l+"%":m*l+"px",u=u.indexOf("%")>=0?parseInt(u,10)*l+"%":u*l+"px",p.transform("translate3d("+m+", "+u+",0px)")}function ag(l){return 0!==l.indexOf("on")&&(l=l[0]!==l[0].toUpperCase()?"on"+l[0].toUpperCase()+l.substring(1):"on"+l),l}if(!(this instanceof d)){return new d(an,Z)}var am={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:0.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:0.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:0.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},ak=Z&&Z.virtualTranslate;Z=Z||{};for(var al in am){if("undefined"==typeof Z[al]){Z[al]=am[al]}else{if("object"==typeof Z[al]){for(var V in am[al]){"undefined"==typeof Z[al][V]&&(Z[al][V]=am[al][V])}}}}var R=this;if(R.version="3.1.0",R.params=Z,R.classNames=[],"undefined"!=typeof b&&"undefined"!=typeof g&&(b=g),("undefined"!=typeof b||(b="undefined"==typeof g?window.Dom7||window.Zepto||window.jQuery:g))&&(R.$=b,R.container=b(an),0!==R.container.length)){if(R.container.length>1){return void R.container.each(function(){new d(this,Z)})}R.container[0].swiper=R,R.container.data("swiper",R),R.classNames.push("swiper-container-"+R.params.direction),R.params.freeMode&&R.classNames.push("swiper-container-free-mode"),R.support.flexbox||(R.classNames.push("swiper-container-no-flexbox"),R.params.slidesPerColumn=1),(R.params.parallax||R.params.watchSlidesVisibility)&&(R.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(R.params.effect)>=0&&(R.support.transforms3d?(R.params.watchSlidesProgress=!0,R.classNames.push("swiper-container-3d")):R.params.effect="slide"),"slide"!==R.params.effect&&R.classNames.push("swiper-container-"+R.params.effect),"cube"===R.params.effect&&(R.params.resistanceRatio=0,R.params.slidesPerView=1,R.params.slidesPerColumn=1,R.params.slidesPerGroup=1,R.params.centeredSlides=!1,R.params.spaceBetween=0,R.params.virtualTranslate=!0,R.params.setWrapperSize=!1),"fade"===R.params.effect&&(R.params.slidesPerView=1,R.params.slidesPerColumn=1,R.params.slidesPerGroup=1,R.params.watchSlidesProgress=!0,R.params.spaceBetween=0,"undefined"==typeof ak&&(R.params.virtualTranslate=!0)),R.params.grabCursor&&R.support.touch&&(R.params.grabCursor=!1),R.wrapper=R.container.children("."+R.params.wrapperClass),R.params.pagination&&(R.paginationContainer=b(R.params.pagination),R.params.paginationClickable&&R.paginationContainer.addClass("swiper-pagination-clickable")),R.rtl=aj()&&("rtl"===R.container[0].dir.toLowerCase()||"rtl"===R.container.css("direction")),R.rtl&&R.classNames.push("swiper-container-rtl"),R.rtl&&(R.wrongRTL="-webkit-box"===R.wrapper.css("display")),R.params.slidesPerColumn>1&&R.classNames.push("swiper-container-multirow"),R.device.android&&R.classNames.push("swiper-container-android"),R.container.addClass(R.classNames.join(" ")),R.translate=0,R.progress=0,R.velocity=0,R.lockSwipeToNext=function(){R.params.allowSwipeToNext=!1},R.lockSwipeToPrev=function(){R.params.allowSwipeToPrev=!1},R.lockSwipes=function(){R.params.allowSwipeToNext=R.params.allowSwipeToPrev=!1},R.unlockSwipeToNext=function(){R.params.allowSwipeToNext=!0},R.unlockSwipeToPrev=function(){R.params.allowSwipeToPrev=!0},R.unlockSwipes=function(){R.params.allowSwipeToNext=R.params.allowSwipeToPrev=!0},R.params.grabCursor&&(R.container[0].style.cursor="move",R.container[0].style.cursor="-webkit-grab",R.container[0].style.cursor="-moz-grab",R.container[0].style.cursor="grab"),R.imagesToLoad=[],R.imagesLoaded=0,R.loadImage=function(u,l,n,p){function o(){p&&p()}var m;u.complete&&n?o():l?(m=new window.Image,m.onload=o,m.onerror=o,m.src=l):o()},R.preloadImages=function(){function m(){"undefined"!=typeof R&&null!==R&&(void 0!==R.imagesLoaded&&R.imagesLoaded++,R.imagesLoaded===R.imagesToLoad.length&&(R.params.updateOnImagesReady&&R.update(),R.emit("onImagesReady",R)))}R.imagesToLoad=R.container.find("img");for(var l=0;l<R.imagesToLoad.length;l++){R.loadImage(R.imagesToLoad[l],R.imagesToLoad[l].currentSrc||R.imagesToLoad[l].getAttribute("src"),!0,m)}},R.autoplayTimeoutId=void 0,R.autoplaying=!1,R.autoplayPaused=!1,R.startAutoplay=function(){return"undefined"!=typeof R.autoplayTimeoutId?!1:R.params.autoplay?R.autoplaying?!1:(R.autoplaying=!0,R.emit("onAutoplayStart",R),void ae()):!1},R.stopAutoplay=function(l){R.autoplayTimeoutId&&(R.autoplayTimeoutId&&clearTimeout(R.autoplayTimeoutId),R.autoplaying=!1,R.autoplayTimeoutId=void 0,R.emit("onAutoplayStop",R))},R.pauseAutoplay=function(l){R.autoplayPaused||(R.autoplayTimeoutId&&clearTimeout(R.autoplayTimeoutId),R.autoplayPaused=!0,0===l?(R.autoplayPaused=!1,ae()):R.wrapper.transitionEnd(function(){R&&(R.autoplayPaused=!1,R.autoplaying?ae():R.stopAutoplay())}))},R.minTranslate=function(){return -R.snapGrid[0]},R.maxTranslate=function(){return -R.snapGrid[R.snapGrid.length-1]},R.updateContainerSize=function(){var m,l;m="undefined"!=typeof R.params.width?R.params.width:R.container[0].clientWidth,l="undefined"!=typeof R.params.height?R.params.height:R.container[0].clientHeight,0===m&&aj()||0===l&&!aj()||(m=m-parseInt(R.container.css("padding-left"),10)-parseInt(R.container.css("padding-right"),10),l=l-parseInt(R.container.css("padding-top"),10)-parseInt(R.container.css("padding-bottom"),10),R.width=m,R.height=l,R.size=aj()?R.width:R.height)},R.updateSlidesSize=function(){R.slides=R.wrapper.children("."+R.params.slideClass),R.snapGrid=[],R.slidesGrid=[],R.slidesSizesGrid=[];var C,G=R.params.spaceBetween,L=-R.params.slidesOffsetBefore,n=0,M=0;"string"==typeof G&&G.indexOf("%")>=0&&(G=parseFloat(G.replace("%",""))/100*R.size),R.virtualSize=-G,R.slides.css(R.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var w;R.params.slidesPerColumn>1&&(w=Math.floor(R.slides.length/R.params.slidesPerColumn)===R.slides.length/R.params.slidesPerColumn?R.slides.length:Math.ceil(R.slides.length/R.params.slidesPerColumn)*R.params.slidesPerColumn);var y,D=R.params.slidesPerColumn,v=w/D,I=v-(R.params.slidesPerColumn*v-R.slides.length);for(C=0;C<R.slides.length;C++){y=0;var E=R.slides.eq(C);if(R.params.slidesPerColumn>1){var x,B,z;"column"===R.params.slidesPerColumnFill?(B=Math.floor(C/D),z=C-B*D,(B>I||B===I&&z===D-1)&&++z>=D&&(z=0,B++),x=B+z*w/D,E.css({"-webkit-box-ordinal-group":x,"-moz-box-ordinal-group":x,"-ms-flex-order":x,"-webkit-order":x,order:x})):(z=Math.floor(C/v),B=C-z*v),E.css({"margin-top":0!==z&&R.params.spaceBetween&&R.params.spaceBetween+"px"}).attr("data-swiper-column",B).attr("data-swiper-row",z)}"none"!==E.css("display")&&("auto"===R.params.slidesPerView?(y=aj()?E.outerWidth(!0):E.outerHeight(!0),R.params.roundLengths&&(y=af(y))):(y=(R.size-(R.params.slidesPerView-1)*G)/R.params.slidesPerView,R.params.roundLengths&&(y=af(y)),aj()?R.slides[C].style.width=y+"px":R.slides[C].style.height=y+"px"),R.slides[C].swiperSlideSize=y,R.slidesSizesGrid.push(y),R.params.centeredSlides?(L=L+y/2+n/2+G,0===C&&(L=L-R.size/2-G),Math.abs(L)<0.001&&(L=0),M%R.params.slidesPerGroup===0&&R.snapGrid.push(L),R.slidesGrid.push(L)):(M%R.params.slidesPerGroup===0&&R.snapGrid.push(L),R.slidesGrid.push(L),L=L+y+G),R.virtualSize+=y+G,n=y,M++)}R.virtualSize=Math.max(R.virtualSize,R.size)+R.params.slidesOffsetAfter;var A;if(R.rtl&&R.wrongRTL&&("slide"===R.params.effect||"coverflow"===R.params.effect)&&R.wrapper.css({width:R.virtualSize+R.params.spaceBetween+"px"}),(!R.support.flexbox||R.params.setWrapperSize)&&R.wrapper.css(aj()?{width:R.virtualSize+R.params.spaceBetween+"px"}:{height:R.virtualSize+R.params.spaceBetween+"px"}),R.params.slidesPerColumn>1&&(R.virtualSize=(y+R.params.spaceBetween)*w,R.virtualSize=Math.ceil(R.virtualSize/R.params.slidesPerColumn)-R.params.spaceBetween,R.wrapper.css({width:R.virtualSize+R.params.spaceBetween+"px"}),R.params.centeredSlides)){for(A=[],C=0;C<R.snapGrid.length;C++){R.snapGrid[C]<R.virtualSize+R.snapGrid[0]&&A.push(R.snapGrid[C])}R.snapGrid=A}if(!R.params.centeredSlides){for(A=[],C=0;C<R.snapGrid.length;C++){R.snapGrid[C]<=R.virtualSize-R.size&&A.push(R.snapGrid[C])}R.snapGrid=A,Math.floor(R.virtualSize-R.size)>Math.floor(R.snapGrid[R.snapGrid.length-1])&&R.snapGrid.push(R.virtualSize-R.size)}0===R.snapGrid.length&&(R.snapGrid=[0]),0!==R.params.spaceBetween&&R.slides.css(aj()?R.rtl?{marginLeft:G+"px"}:{marginRight:G+"px"}:{marginBottom:G+"px"}),R.params.watchSlidesProgress&&R.updateSlidesOffset()},R.updateSlidesOffset=function(){for(var l=0;l<R.slides.length;l++){R.slides[l].swiperSlideOffset=aj()?R.slides[l].offsetLeft:R.slides[l].offsetTop}},R.updateSlidesProgress=function(w){if("undefined"==typeof w&&(w=R.translate||0),0!==R.slides.length){"undefined"==typeof R.slides[0].swiperSlideOffset&&R.updateSlidesOffset();var y=R.params.centeredSlides?-w+R.size/2:-w;R.rtl&&(y=R.params.centeredSlides?w-R.size/2:w);R.container[0].getBoundingClientRect(),aj()?"left":"top",aj()?"right":"bottom";R.slides.removeClass(R.params.slideVisibleClass);for(var z=0;z<R.slides.length;z++){var m=R.slides[z],A=R.params.centeredSlides===!0?m.swiperSlideSize/2:0,u=(y-m.swiperSlideOffset-A)/(m.swiperSlideSize+R.params.spaceBetween);if(R.params.watchSlidesVisibility){var p=-(y-m.swiperSlideOffset-A),v=p+R.slidesSizesGrid[z],x=p>=0&&p<R.size||v>0&&v<=R.size||0>=p&&v>=R.size;x&&R.slides.eq(z).addClass(R.params.slideVisibleClass)}m.progress=R.rtl?-u:u}}},R.updateProgress=function(m){"undefined"==typeof m&&(m=R.translate||0);var l=R.maxTranslate()-R.minTranslate();0===l?(R.progress=0,R.isBeginning=R.isEnd=!0):(R.progress=(m-R.minTranslate())/l,R.isBeginning=R.progress<=0,R.isEnd=R.progress>=1),R.isBeginning&&R.emit("onReachBeginning",R),R.isEnd&&R.emit("onReachEnd",R),R.params.watchSlidesProgress&&R.updateSlidesProgress(m),R.emit("onProgress",R,R.progress)},R.updateActiveIndex=function(){var o,l,m,n=R.rtl?R.translate:-R.translate;for(l=0;l<R.slidesGrid.length;l++){"undefined"!=typeof R.slidesGrid[l+1]?n>=R.slidesGrid[l]&&n<R.slidesGrid[l+1]-(R.slidesGrid[l+1]-R.slidesGrid[l])/2?o=l:n>=R.slidesGrid[l]&&n<R.slidesGrid[l+1]&&(o=l+1):n>=R.slidesGrid[l]&&(o=l)}(0>o||"undefined"==typeof o)&&(o=0),m=Math.floor(o/R.params.slidesPerGroup),m>=R.snapGrid.length&&(m=R.snapGrid.length-1),o!==R.activeIndex&&(R.snapIndex=m,R.previousIndex=R.activeIndex,R.activeIndex=o,R.updateClasses())},R.updateClasses=function(){R.slides.removeClass(R.params.slideActiveClass+" "+R.params.slideNextClass+" "+R.params.slidePrevClass);var m=R.slides.eq(R.activeIndex);if(m.addClass(R.params.slideActiveClass),m.next("."+R.params.slideClass).addClass(R.params.slideNextClass),m.prev("."+R.params.slideClass).addClass(R.params.slidePrevClass),R.bullets&&R.bullets.length>0){R.bullets.removeClass(R.params.bulletActiveClass);var l;R.params.loop?(l=Math.ceil(R.activeIndex-R.loopedSlides)/R.params.slidesPerGroup,l>R.slides.length-1-2*R.loopedSlides&&(l-=R.slides.length-2*R.loopedSlides),l>R.bullets.length-1&&(l-=R.bullets.length)):l="undefined"!=typeof R.snapIndex?R.snapIndex:R.activeIndex||0,R.paginationContainer.length>1?R.bullets.each(function(){b(this).index()===l&&b(this).addClass(R.params.bulletActiveClass)}):R.bullets.eq(l).addClass(R.params.bulletActiveClass)}R.params.loop||(R.params.prevButton&&(R.isBeginning?(b(R.params.prevButton).addClass(R.params.buttonDisabledClass),R.params.a11y&&R.a11y&&R.a11y.disable(b(R.params.prevButton))):(b(R.params.prevButton).removeClass(R.params.buttonDisabledClass),R.params.a11y&&R.a11y&&R.a11y.enable(b(R.params.prevButton)))),R.params.nextButton&&(R.isEnd?(b(R.params.nextButton).addClass(R.params.buttonDisabledClass),R.params.a11y&&R.a11y&&R.a11y.disable(b(R.params.nextButton))):(b(R.params.nextButton).removeClass(R.params.buttonDisabledClass),R.params.a11y&&R.a11y&&R.a11y.enable(b(R.params.nextButton)))))},R.updatePagination=function(){if(R.params.pagination&&R.paginationContainer&&R.paginationContainer.length>0){for(var n="",l=R.params.loop?Math.ceil((R.slides.length-2*R.loopedSlides)/R.params.slidesPerGroup):R.snapGrid.length,m=0;l>m;m++){n+=R.params.paginationBulletRender?R.params.paginationBulletRender(m,R.params.bulletClass):"<"+R.params.paginationElement+' class="'+R.params.bulletClass+'"></'+R.params.paginationElement+">"}R.paginationContainer.html(n),R.bullets=R.paginationContainer.find("."+R.params.bulletClass),R.params.paginationClickable&&R.params.a11y&&R.a11y&&R.a11y.initPagination()}},R.update=function(o){function l(){n=Math.min(Math.max(R.translate,R.maxTranslate()),R.minTranslate()),R.setWrapperTranslate(n),R.updateActiveIndex(),R.updateClasses()}if(R.updateContainerSize(),R.updateSlidesSize(),R.updateProgress(),R.updatePagination(),R.updateClasses(),R.params.scrollbar&&R.scrollbar&&R.scrollbar.set(),o){var m,n;R.controller&&R.controller.spline&&(R.controller.spline=void 0),R.params.freeMode?l():(m=("auto"===R.params.slidesPerView||R.params.slidesPerView>1)&&R.isEnd&&!R.params.centeredSlides?R.slideTo(R.slides.length-1,0,!1,!0):R.slideTo(R.activeIndex,0,!1,!0),m||l())}},R.onResize=function(o){var l=R.params.allowSwipeToPrev,m=R.params.allowSwipeToNext;if(R.params.allowSwipeToPrev=R.params.allowSwipeToNext=!0,R.updateContainerSize(),R.updateSlidesSize(),("auto"===R.params.slidesPerView||R.params.freeMode||o)&&R.updatePagination(),R.params.scrollbar&&R.scrollbar&&R.scrollbar.set(),R.controller&&R.controller.spline&&(R.controller.spline=void 0),R.params.freeMode){var n=Math.min(Math.max(R.translate,R.maxTranslate()),R.minTranslate());R.setWrapperTranslate(n),R.updateActiveIndex(),R.updateClasses()}else{R.updateClasses(),("auto"===R.params.slidesPerView||R.params.slidesPerView>1)&&R.isEnd&&!R.params.centeredSlides?R.slideTo(R.slides.length-1,0,!1,!0):R.slideTo(R.activeIndex,0,!1,!0)}R.params.allowSwipeToPrev=l,R.params.allowSwipeToNext=m};var K=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?K=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(K=["MSPointerDown","MSPointerMove","MSPointerUp"]),R.touchEvents={start:R.support.touch||!R.params.simulateTouch?"touchstart":K[0],move:R.support.touch||!R.params.simulateTouch?"touchmove":K[1],end:R.support.touch||!R.params.simulateTouch?"touchend":K[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===R.params.touchEventsTarget?R.container:R.wrapper).addClass("swiper-wp8-"+R.params.direction),R.initEvents=function(s){var m=s?"off":"on",p=s?"removeEventListener":"addEventListener",l="container"===R.params.touchEventsTarget?R.container[0]:R.wrapper[0],v=R.support.touch?l:document,u=R.params.nested?!0:!1;R.browser.ie?(l[p](R.touchEvents.start,R.onTouchStart,!1),v[p](R.touchEvents.move,R.onTouchMove,u),v[p](R.touchEvents.end,R.onTouchEnd,!1)):(R.support.touch&&(l[p](R.touchEvents.start,R.onTouchStart,!1),l[p](R.touchEvents.move,R.onTouchMove,u),l[p](R.touchEvents.end,R.onTouchEnd,!1)),!Z.simulateTouch||R.device.ios||R.device.android||(l[p]("mousedown",R.onTouchStart,!1),document[p]("mousemove",R.onTouchMove,u),document[p]("mouseup",R.onTouchEnd,!1))),window[p]("resize",R.onResize),R.params.nextButton&&(b(R.params.nextButton)[m]("click",R.onClickNext),R.params.a11y&&R.a11y&&b(R.params.nextButton)[m]("keydown",R.a11y.onEnterKey)),R.params.prevButton&&(b(R.params.prevButton)[m]("click",R.onClickPrev),R.params.a11y&&R.a11y&&b(R.params.prevButton)[m]("keydown",R.a11y.onEnterKey)),R.params.pagination&&R.params.paginationClickable&&(b(R.paginationContainer)[m]("click","."+R.params.bulletClass,R.onClickIndex),R.params.a11y&&R.a11y&&b(R.paginationContainer)[m]("keydown","."+R.params.bulletClass,R.a11y.onEnterKey)),(R.params.preventClicks||R.params.preventClicksPropagation)&&l[p]("click",R.preventClicks,!0)},R.attachEvents=function(l){R.initEvents()},R.detachEvents=function(){R.initEvents(!0)},R.allowClick=!0,R.preventClicks=function(l){R.allowClick||(R.params.preventClicks&&l.preventDefault(),R.params.preventClicksPropagation&&R.animating&&(l.stopPropagation(),l.stopImmediatePropagation()))},R.onClickNext=function(l){l.preventDefault(),(!R.isEnd||R.params.loop)&&R.slideNext()},R.onClickPrev=function(l){l.preventDefault(),(!R.isBeginning||R.params.loop)&&R.slidePrev()},R.onClickIndex=function(m){m.preventDefault();var l=b(this).index()*R.params.slidesPerGroup;R.params.loop&&(l+=R.loopedSlides),R.slideTo(l)},R.updateClickedSlide=function(v){var m=ah(v,"."+R.params.slideClass),u=!1;if(m){for(var p=0;p<R.slides.length;p++){R.slides[p]===m&&(u=!0)}}if(!m||!u){return R.clickedSlide=void 0,void (R.clickedIndex=void 0)}if(R.clickedSlide=m,R.clickedIndex=b(m).index(),R.params.slideToClickedSlide&&void 0!==R.clickedIndex&&R.clickedIndex!==R.activeIndex){var l,x=R.clickedIndex;if(R.params.loop){if(l=b(R.clickedSlide).attr("data-swiper-slide-index"),x>R.slides.length-R.params.slidesPerView){R.fixLoop(),x=R.wrapper.children("."+R.params.slideClass+'[data-swiper-slide-index="'+l+'"]').eq(0).index(),setTimeout(function(){R.slideTo(x)},0)}else{if(x<R.params.slidesPerView-1){R.fixLoop();var w=R.wrapper.children("."+R.params.slideClass+'[data-swiper-slide-index="'+l+'"]');x=w.eq(w.length-1).index(),setTimeout(function(){R.slideTo(x)},0)}else{R.slideTo(x)}}}else{R.slideTo(x)}}};var aq,Q,a,q,aa,F,X,r,J,N="input, select, textarea, button",ai=Date.now(),H=[];R.animating=!1,R.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var Y,ab;if(R.onTouchStart=function(m){if(m.originalEvent&&(m=m.originalEvent),Y="touchstart"===m.type,Y||!("which" in m)||3!==m.which){if(R.params.noSwiping&&ah(m,"."+R.params.noSwipingClass)){return void (R.allowClick=!0)}if(!R.params.swipeHandler||ah(m,R.params.swipeHandler)){if(aq=!0,Q=!1,q=void 0,ab=void 0,R.touches.startX=R.touches.currentX="touchstart"===m.type?m.targetTouches[0].pageX:m.pageX,R.touches.startY=R.touches.currentY="touchstart"===m.type?m.targetTouches[0].pageY:m.pageY,a=Date.now(),R.allowClick=!0,R.updateContainerSize(),R.swipeDirection=void 0,R.params.threshold>0&&(X=!1),"touchstart"!==m.type){var l=!0;b(m.target).is(N)&&(l=!1),document.activeElement&&b(document.activeElement).is(N)&&document.activeElement.blur(),l&&m.preventDefault()}R.emit("onTouchStart",R,m)}}},R.onTouchMove=function(o){if(o.originalEvent&&(o=o.originalEvent),!(Y&&"mousemove"===o.type||o.preventedByNestedSwiper)){if(R.params.onlyExternal){return R.allowClick=!1,void (aq&&(R.touches.startX=R.touches.currentX="touchmove"===o.type?o.targetTouches[0].pageX:o.pageX,R.touches.startY=R.touches.currentY="touchmove"===o.type?o.targetTouches[0].pageY:o.pageY,a=Date.now()))}if(Y&&document.activeElement&&o.target===document.activeElement&&b(o.target).is(N)){return Q=!0,void (R.allowClick=!1)}if(R.emit("onTouchMove",R,o),!(o.targetTouches&&o.targetTouches.length>1)){if(R.touches.currentX="touchmove"===o.type?o.targetTouches[0].pageX:o.pageX,R.touches.currentY="touchmove"===o.type?o.targetTouches[0].pageY:o.pageY,"undefined"==typeof q){var l=180*Math.atan2(Math.abs(R.touches.currentY-R.touches.startY),Math.abs(R.touches.currentX-R.touches.startX))/Math.PI;q=aj()?l>R.params.touchAngle:90-l>R.params.touchAngle}if(q&&R.emit("onTouchMoveOpposite",R,o),"undefined"==typeof ab&&R.browser.ieTouch&&(R.touches.currentX!==R.touches.startX||R.touches.currentY!==R.touches.startY)&&(ab=!0),aq){if(q){return void (aq=!1)}if(ab||!R.browser.ieTouch){R.allowClick=!1,R.emit("onSliderMove",R,o),o.preventDefault(),R.params.touchMoveStopPropagation&&!R.params.nested&&o.stopPropagation(),Q||(Z.loop&&R.fixLoop(),F=R.getWrapperTranslate(),R.setWrapperTransition(0),R.animating&&R.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),R.params.autoplay&&R.autoplaying&&(R.params.autoplayDisableOnInteraction?R.stopAutoplay():R.pauseAutoplay()),J=!1,R.params.grabCursor&&(R.container[0].style.cursor="move",R.container[0].style.cursor="-webkit-grabbing",R.container[0].style.cursor="-moz-grabbin",R.container[0].style.cursor="grabbing")),Q=!0;var m=R.touches.diff=aj()?R.touches.currentX-R.touches.startX:R.touches.currentY-R.touches.startY;m*=R.params.touchRatio,R.rtl&&(m=-m),R.swipeDirection=m>0?"prev":"next",aa=m+F;var p=!0;if(m>0&&aa>R.minTranslate()?(p=!1,R.params.resistance&&(aa=R.minTranslate()-1+Math.pow(-R.minTranslate()+F+m,R.params.resistanceRatio))):0>m&&aa<R.maxTranslate()&&(p=!1,R.params.resistance&&(aa=R.maxTranslate()+1-Math.pow(R.maxTranslate()-F-m,R.params.resistanceRatio))),p&&(o.preventedByNestedSwiper=!0),!R.params.allowSwipeToNext&&"next"===R.swipeDirection&&F>aa&&(aa=F),!R.params.allowSwipeToPrev&&"prev"===R.swipeDirection&&aa>F&&(aa=F),R.params.followFinger){if(R.params.threshold>0){if(!(Math.abs(m)>R.params.threshold||X)){return void (aa=F)}if(!X){return X=!0,R.touches.startX=R.touches.currentX,R.touches.startY=R.touches.currentY,aa=F,void (R.touches.diff=aj()?R.touches.currentX-R.touches.startX:R.touches.currentY-R.touches.startY)}}(R.params.freeMode||R.params.watchSlidesProgress)&&R.updateActiveIndex(),R.params.freeMode&&(0===H.length&&H.push({position:R.touches[aj()?"startX":"startY"],time:a}),H.push({position:R.touches[aj()?"currentX":"currentY"],time:(new window.Date).getTime()})),R.updateProgress(aa),R.setWrapperTranslate(aa)}}}}}},R.onTouchEnd=function(av){if(av.originalEvent&&(av=av.originalEvent),R.emit("onTouchEnd",R,av),aq){R.params.grabCursor&&Q&&aq&&(R.container[0].style.cursor="move",R.container[0].style.cursor="-webkit-grab",R.container[0].style.cursor="-moz-grab",R.container[0].style.cursor="grab");var C=Date.now(),G=C-a;if(R.allowClick&&(R.updateClickedSlide(av),R.emit("onTap",R,av),300>G&&C-ai>300&&(r&&clearTimeout(r),r=setTimeout(function(){R&&(R.params.paginationHide&&R.paginationContainer.length>0&&!b(av.target).hasClass(R.params.bulletClass)&&R.paginationContainer.toggleClass(R.params.paginationHiddenClass),R.emit("onClick",R,av))},300)),300>G&&300>C-ai&&(r&&clearTimeout(r),R.emit("onDoubleTap",R,av))),ai=Date.now(),setTimeout(function(){R&&(R.allowClick=!0)},0),!aq||!Q||!R.swipeDirection||0===R.touches.diff||aa===F){return void (aq=Q=!1)}aq=Q=!1;var D;if(D=R.params.followFinger?R.rtl?R.translate:-R.translate:-aa,R.params.freeMode){if(D<-R.minTranslate()){return void R.slideTo(R.activeIndex)}if(D>-R.maxTranslate()){return void R.slideTo(R.slides.length<R.snapGrid.length?R.snapGrid.length-1:R.slides.length-1)}if(R.params.freeModeMomentum){if(H.length>1){var T=H.pop(),M=H.pop(),L=T.position-M.position,P=T.time-M.time;R.velocity=L/P,R.velocity=R.velocity/2,Math.abs(R.velocity)<0.02&&(R.velocity=0),(P>150||(new window.Date).getTime()-T.time>300)&&(R.velocity=0)}else{R.velocity=0}H.length=0;var aw=1000*R.params.freeModeMomentumRatio,I=R.velocity*aw,A=R.translate+I;R.rtl&&(A=-A);var ax,O=!1,au=20*Math.abs(R.velocity)*R.params.freeModeMomentumBounceRatio;if(A<R.maxTranslate()){R.params.freeModeMomentumBounce?(A+R.maxTranslate()<-au&&(A=R.maxTranslate()-au),ax=R.maxTranslate(),O=!0,J=!0):A=R.maxTranslate()}else{if(A>R.minTranslate()){R.params.freeModeMomentumBounce?(A-R.minTranslate()>au&&(A=R.minTranslate()+au),ax=R.minTranslate(),O=!0,J=!0):A=R.minTranslate()}else{if(R.params.freeModeSticky){var ar,at=0;for(at=0;at<R.snapGrid.length;at+=1){if(R.snapGrid[at]>-A){ar=at;break}}A=Math.abs(R.snapGrid[ar]-A)<Math.abs(R.snapGrid[ar-1]-A)||"next"===R.swipeDirection?R.snapGrid[ar]:R.snapGrid[ar-1],R.rtl||(A=-A)}}}if(0!==R.velocity){aw=Math.abs(R.rtl?(-A-R.translate)/R.velocity:(A-R.translate)/R.velocity)}else{if(R.params.freeModeSticky){return void R.slideReset()}}R.params.freeModeMomentumBounce&&O?(R.updateProgress(ax),R.setWrapperTransition(aw),R.setWrapperTranslate(A),R.onTransitionStart(),R.animating=!0,R.wrapper.transitionEnd(function(){R&&J&&(R.emit("onMomentumBounce",R),R.setWrapperTransition(R.params.speed),R.setWrapperTranslate(ax),R.wrapper.transitionEnd(function(){R&&R.onTransitionEnd()}))})):R.velocity?(R.updateProgress(A),R.setWrapperTransition(aw),R.setWrapperTranslate(A),R.onTransitionStart(),R.animating||(R.animating=!0,R.wrapper.transitionEnd(function(){R&&R.onTransitionEnd()}))):R.updateProgress(A),R.updateActiveIndex()}return void ((!R.params.freeModeMomentum||G>=R.params.longSwipesMs)&&(R.updateProgress(),R.updateActiveIndex()))}var z,x=0,w=R.slidesSizesGrid[0];for(z=0;z<R.slidesGrid.length;z+=R.params.slidesPerGroup){"undefined"!=typeof R.slidesGrid[z+R.params.slidesPerGroup]?D>=R.slidesGrid[z]&&D<R.slidesGrid[z+R.params.slidesPerGroup]&&(x=z,w=R.slidesGrid[z+R.params.slidesPerGroup]-R.slidesGrid[z]):D>=R.slidesGrid[z]&&(x=z,w=R.slidesGrid[R.slidesGrid.length-1]-R.slidesGrid[R.slidesGrid.length-2])}var B=(D-R.slidesGrid[x])/w;if(G>R.params.longSwipesMs){if(!R.params.longSwipes){return void R.slideTo(R.activeIndex)}"next"===R.swipeDirection&&R.slideTo(B>=R.params.longSwipesRatio?x+R.params.slidesPerGroup:x),"prev"===R.swipeDirection&&R.slideTo(B>1-R.params.longSwipesRatio?x+R.params.slidesPerGroup:x)}else{if(!R.params.shortSwipes){return void R.slideTo(R.activeIndex)}"next"===R.swipeDirection&&R.slideTo(x+R.params.slidesPerGroup),"prev"===R.swipeDirection&&R.slideTo(x)}}},R._slideTo=function(m,l){return R.slideTo(m,l,!0,!0)},R.slideTo=function(u,l,m,p){"undefined"==typeof m&&(m=!0),"undefined"==typeof u&&(u=0),0>u&&(u=0),R.snapIndex=Math.floor(u/R.params.slidesPerGroup),R.snapIndex>=R.snapGrid.length&&(R.snapIndex=R.snapGrid.length-1);var o=-R.snapGrid[R.snapIndex];if(!R.params.allowSwipeToNext&&o<R.translate&&o<R.minTranslate()){return !1}if(!R.params.allowSwipeToPrev&&o>R.translate&&o>R.maxTranslate()){return !1}R.params.autoplay&&R.autoplaying&&(p||!R.params.autoplayDisableOnInteraction?R.pauseAutoplay(l):R.stopAutoplay()),R.updateProgress(o);for(var v=0;v<R.slidesGrid.length;v++){-Math.floor(100*o)>=Math.floor(100*R.slidesGrid[v])&&(u=v)}if("undefined"==typeof l&&(l=R.params.speed),R.previousIndex=R.activeIndex||0,R.activeIndex=u,o===R.translate){return R.updateClasses(),!1}R.updateClasses(),R.onTransitionStart(m);aj()?o:0,aj()?0:o;return 0===l?(R.setWrapperTransition(0),R.setWrapperTranslate(o),R.onTransitionEnd(m)):(R.setWrapperTransition(l),R.setWrapperTranslate(o),R.animating||(R.animating=!0,R.wrapper.transitionEnd(function(){R&&R.onTransitionEnd(m)}))),!0},R.onTransitionStart=function(l){"undefined"==typeof l&&(l=!0),R.lazy&&R.lazy.onTransitionStart(),l&&(R.emit("onTransitionStart",R),R.activeIndex!==R.previousIndex&&R.emit("onSlideChangeStart",R))},R.onTransitionEnd=function(l){R.animating=!1,R.setWrapperTransition(0),"undefined"==typeof l&&(l=!0),R.lazy&&R.lazy.onTransitionEnd(),l&&(R.emit("onTransitionEnd",R),R.activeIndex!==R.previousIndex&&R.emit("onSlideChangeEnd",R)),R.params.hashnav&&R.hashnav&&R.hashnav.setHash()},R.slideNext=function(n,l,m){if(R.params.loop){if(R.animating){return !1}R.fixLoop();R.container[0].clientLeft;return R.slideTo(R.activeIndex+R.params.slidesPerGroup,l,n,m)}return R.slideTo(R.activeIndex+R.params.slidesPerGroup,l,n,m)},R._slideNext=function(l){return R.slideNext(!0,l,!0)},R.slidePrev=function(n,l,m){if(R.params.loop){if(R.animating){return !1}R.fixLoop();R.container[0].clientLeft;return R.slideTo(R.activeIndex-1,l,n,m)}return R.slideTo(R.activeIndex-1,l,n,m)},R._slidePrev=function(l){return R.slidePrev(!0,l,!0)},R.slideReset=function(n,l,m){return R.slideTo(R.activeIndex,l,n)},R.setWrapperTransition=function(m,l){R.wrapper.transition(m),"slide"!==R.params.effect&&R.effects[R.params.effect]&&R.effects[R.params.effect].setTransition(m),R.params.parallax&&R.parallax&&R.parallax.setTransition(m),R.params.scrollbar&&R.scrollbar&&R.scrollbar.setTransition(m),R.params.control&&R.controller&&R.controller.setTransition(m,l),R.emit("onSetTransition",R,m)},R.setWrapperTranslate=function(u,l,m){var p=0,o=0,v=0;aj()?p=R.rtl?-u:u:o=u,R.params.virtualTranslate||R.wrapper.transform(R.support.transforms3d?"translate3d("+p+"px, "+o+"px, "+v+"px)":"translate("+p+"px, "+o+"px)"),R.translate=aj()?p:o,l&&R.updateActiveIndex(),"slide"!==R.params.effect&&R.effects[R.params.effect]&&R.effects[R.params.effect].setTranslate(R.translate),R.params.parallax&&R.parallax&&R.parallax.setTranslate(R.translate),R.params.scrollbar&&R.scrollbar&&R.scrollbar.setTranslate(R.translate),R.params.control&&R.controller&&R.controller.setTranslate(R.translate,m),R.emit("onSetTranslate",R,R.translate)},R.getTranslate=function(u,l){var n,p,o,m;return"undefined"==typeof l&&(l="x"),R.params.virtualTranslate?R.rtl?-R.translate:R.translate:(o=window.getComputedStyle(u,null),window.WebKitCSSMatrix?m=new window.WebKitCSSMatrix("none"===o.webkitTransform?"":o.webkitTransform):(m=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=m.toString().split(",")),"x"===l&&(p=window.WebKitCSSMatrix?m.m41:parseFloat(16===n.length?n[12]:n[4])),"y"===l&&(p=window.WebKitCSSMatrix?m.m42:parseFloat(16===n.length?n[13]:n[5])),R.rtl&&p&&(p=-p),p||0)},R.getWrapperTranslate=function(l){return"undefined"==typeof l&&(l=aj()?"x":"y"),R.getTranslate(R.wrapper[0],l)},R.observers=[],R.initObservers=function(){if(R.params.observeParents){for(var m=R.container.parents(),l=0;l<m.length;l++){ao(m[l])}}ao(R.container[0],{childList:!1}),ao(R.wrapper[0],{attributes:!1})},R.disconnectObservers=function(){for(var l=0;l<R.observers.length;l++){R.observers[l].disconnect()}R.observers=[]},R.createLoop=function(){R.wrapper.children("."+R.params.slideClass+"."+R.params.slideDuplicateClass).remove();var o=R.wrapper.children("."+R.params.slideClass);R.loopedSlides=parseInt(R.params.loopedSlides||R.params.slidesPerView,10),R.loopedSlides=R.loopedSlides+R.params.loopAdditionalSlides,R.loopedSlides>o.length&&(R.loopedSlides=o.length);var l,n=[],m=[];for(o.each(function(p,e){var s=b(this);p<R.loopedSlides&&m.push(e),p<o.length&&p>=o.length-R.loopedSlides&&n.push(e),s.attr("data-swiper-slide-index",p)}),l=0;l<m.length;l++){R.wrapper.append(b(m[l].cloneNode(!0)).addClass(R.params.slideDuplicateClass))}for(l=n.length-1;l>=0;l--){R.wrapper.prepend(b(n[l].cloneNode(!0)).addClass(R.params.slideDuplicateClass))}},R.destroyLoop=function(){R.wrapper.children("."+R.params.slideClass+"."+R.params.slideDuplicateClass).remove(),R.slides.removeAttr("data-swiper-slide-index")},R.fixLoop=function(){var l;R.activeIndex<R.loopedSlides?(l=R.slides.length-3*R.loopedSlides+R.activeIndex,l+=R.loopedSlides,R.slideTo(l,0,!1,!0)):("auto"===R.params.slidesPerView&&R.activeIndex>=2*R.loopedSlides||R.activeIndex>R.slides.length-2*R.params.slidesPerView)&&(l=-R.slides.length+R.activeIndex+R.loopedSlides,l+=R.loopedSlides,R.slideTo(l,0,!1,!0))},R.appendSlide=function(m){if(R.params.loop&&R.destroyLoop(),"object"==typeof m&&m.length){for(var l=0;l<m.length;l++){m[l]&&R.wrapper.append(m[l])}}else{R.wrapper.append(m)}R.params.loop&&R.createLoop(),R.params.observer&&R.support.observer||R.update(!0)},R.prependSlide=function(n){R.params.loop&&R.destroyLoop();var l=R.activeIndex+1;if("object"==typeof n&&n.length){for(var m=0;m<n.length;m++){n[m]&&R.wrapper.prepend(n[m])}l=R.activeIndex+n.length}else{R.wrapper.prepend(n)}R.params.loop&&R.createLoop(),R.params.observer&&R.support.observer||R.update(!0),R.slideTo(l,0,!1)},R.removeSlide=function(o){R.params.loop&&(R.destroyLoop(),R.slides=R.wrapper.children("."+R.params.slideClass));var l,m=R.activeIndex;if("object"==typeof o&&o.length){for(var n=0;n<o.length;n++){l=o[n],R.slides[l]&&R.slides.eq(l).remove(),m>l&&m--}m=Math.max(m,0)}else{l=o,R.slides[l]&&R.slides.eq(l).remove(),m>l&&m--,m=Math.max(m,0)}R.params.loop&&R.createLoop(),R.params.observer&&R.support.observer||R.update(!0),R.params.loop?R.slideTo(m+R.loopedSlides,0,!1):R.slideTo(m,0,!1)},R.removeAllSlides=function(){for(var m=[],l=0;l<R.slides.length;l++){m.push(l)}R.removeSlide(m)},R.effects={fade:{setTranslate:function(){for(var u=0;u<R.slides.length;u++){var l=R.slides.eq(u),m=l[0].swiperSlideOffset,p=-m;R.params.virtualTranslate||(p-=R.translate);var o=0;aj()||(o=p,p=0);var v=R.params.fade.crossFade?Math.max(1-Math.abs(l[0].progress),0):1+Math.min(Math.max(l[0].progress,-1),0);l.css({opacity:v}).transform("translate3d("+p+"px, "+o+"px, 0px)")}},setTransition:function(m){if(R.slides.transition(m),R.params.virtualTranslate&&0!==m){var l=!1;R.slides.transitionEnd(function(){if(!l&&R){l=!0,R.animating=!1;for(var o=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<o.length;n++){R.wrapper.trigger(o[n])}}})}}},cube:{setTranslate:function(){var ar,C=0;R.params.cube.shadow&&(aj()?(ar=R.wrapper.find(".swiper-cube-shadow"),0===ar.length&&(ar=b('<div class="swiper-cube-shadow"></div>'),R.wrapper.append(ar)),ar.css({height:R.width+"px"})):(ar=R.container.find(".swiper-cube-shadow"),0===ar.length&&(ar=b('<div class="swiper-cube-shadow"></div>'),R.container.append(ar))));for(var E=0;E<R.slides.length;E++){var D=R.slides.eq(E),L=90*E,I=Math.floor(L/360);R.rtl&&(L=-L,I=Math.floor(-L/360));var O=Math.max(Math.min(D[0].progress,1),-1),at=0,G=0,B=0;E%4===0?(at=4*-I*R.size,B=0):(E-1)%4===0?(at=0,B=4*-I*R.size):(E-2)%4===0?(at=R.size+4*I*R.size,B=R.size):(E-3)%4===0&&(at=-R.size,B=3*R.size+4*R.size*I),R.rtl&&(at=-at),aj()||(G=at,at=0);var au="rotateX("+(aj()?0:-L)+"deg) rotateY("+(aj()?L:0)+"deg) translate3d("+at+"px, "+G+"px, "+B+"px)";if(1>=O&&O>-1&&(C=90*E+90*O,R.rtl&&(C=90*-E-90*O)),D.transform(au),R.params.cube.slideShadows){var M=D.find(aj()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),T=D.find(aj()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===M.length&&(M=b('<div class="swiper-slide-shadow-'+(aj()?"left":"top")+'"></div>'),D.append(M)),0===T.length&&(T=b('<div class="swiper-slide-shadow-'+(aj()?"right":"bottom")+'"></div>'),D.append(T));D[0].progress;M.length&&(M[0].style.opacity=-D[0].progress),T.length&&(T[0].style.opacity=D[0].progress)}}if(R.wrapper.css({"-webkit-transform-origin":"50% 50% -"+R.size/2+"px","-moz-transform-origin":"50% 50% -"+R.size/2+"px","-ms-transform-origin":"50% 50% -"+R.size/2+"px","transform-origin":"50% 50% -"+R.size/2+"px"}),R.params.cube.shadow){if(aj()){ar.transform("translate3d(0px, "+(R.width/2+R.params.cube.shadowOffset)+"px, "+-R.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+R.params.cube.shadowScale+")")}else{var P=Math.abs(C)-90*Math.floor(Math.abs(C)/90),S=1.5-(Math.sin(2*P*Math.PI/360)/2+Math.cos(2*P*Math.PI/360)/2),A=R.params.cube.shadowScale,w=R.params.cube.shadowScale/S,av=R.params.cube.shadowOffset;ar.transform("scale3d("+A+", 1, "+w+") translate3d(0px, "+(R.height/2+av)+"px, "+-R.height/2/w+"px) rotateX(-90deg)")}}var z=R.isSafari||R.isUiWebView?-R.size/2:0;R.wrapper.transform("translate3d(0px,0,"+z+"px) rotateX("+(aj()?0:C)+"deg) rotateY("+(aj()?-C:0)+"deg)")},setTransition:function(l){R.slides.transition(l).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(l),R.params.cube.shadow&&!aj()&&R.container.find(".swiper-cube-shadow").transition(l)}},coverflow:{setTranslate:function(){for(var ar=R.translate,C=aj()?-ar+R.width/2:-ar+R.height/2,E=aj()?R.params.coverflow.rotate:-R.params.coverflow.rotate,D=R.params.coverflow.depth,L=0,I=R.slides.length;I>L;L++){var O=R.slides.eq(L),at=R.slidesSizesGrid[L],G=O[0].swiperSlideOffset,B=(C-G-at/2)/at*R.params.coverflow.modifier,au=aj()?E*B:0,M=aj()?0:E*B,T=-D*Math.abs(B),P=aj()?0:R.params.coverflow.stretch*B,S=aj()?R.params.coverflow.stretch*B:0;Math.abs(S)<0.001&&(S=0),Math.abs(P)<0.001&&(P=0),Math.abs(T)<0.001&&(T=0),Math.abs(au)<0.001&&(au=0),Math.abs(M)<0.001&&(M=0);var A="translate3d("+S+"px,"+P+"px,"+T+"px)  rotateX("+M+"deg) rotateY("+au+"deg)";if(O.transform(A),O[0].style.zIndex=-Math.abs(Math.round(B))+1,R.params.coverflow.slideShadows){var w=O.find(aj()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),av=O.find(aj()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===w.length&&(w=b('<div class="swiper-slide-shadow-'+(aj()?"left":"top")+'"></div>'),O.append(w)),0===av.length&&(av=b('<div class="swiper-slide-shadow-'+(aj()?"right":"bottom")+'"></div>'),O.append(av)),w.length&&(w[0].style.opacity=B>0?B:0),av.length&&(av[0].style.opacity=-B>0?-B:0)}}if(R.browser.ie){var z=R.wrapper[0].style;z.perspectiveOrigin=C+"px 50%"}},setTransition:function(l){R.slides.transition(l).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(l)}}},R.lazy={initialImageLoaded:!1,loadImageInSlide:function(o,l){if("undefined"!=typeof o&&("undefined"==typeof l&&(l=!0),0!==R.slides.length)){var n=R.slides.eq(o),m=n.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!n.hasClass("swiper-lazy")||n.hasClass("swiper-lazy-loaded")||n.hasClass("swiper-lazy-loading")||m.add(n[0]),0!==m.length&&m.each(function(){var v=b(this);v.addClass("swiper-lazy-loading");var u=v.attr("data-background"),p=v.attr("data-src");R.loadImage(v[0],p||u,!1,function(){if(u?(v.css("background-image","url("+u+")"),v.removeAttr("data-background")):(v.attr("src",p),v.removeAttr("data-src")),v.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),n.find(".swiper-lazy-preloader, .preloader").remove(),R.params.loop&&l){var e=n.attr("data-swiper-slide-index");if(n.hasClass(R.params.slideDuplicateClass)){var w=R.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+R.params.slideDuplicateClass+")");R.lazy.loadImageInSlide(w.index(),!1)}else{var s=R.wrapper.children("."+R.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');R.lazy.loadImageInSlide(s.index(),!1)}}R.emit("onLazyImageReady",R,n[0],v[0])}),R.emit("onLazyImageLoad",R,n[0],v[0])})}},load:function(){var n;if(R.params.watchSlidesVisibility){R.wrapper.children("."+R.params.slideVisibleClass).each(function(){R.lazy.loadImageInSlide(b(this).index())})}else{if(R.params.slidesPerView>1){for(n=R.activeIndex;n<R.activeIndex+R.params.slidesPerView;n++){R.slides[n]&&R.lazy.loadImageInSlide(n)}}else{R.lazy.loadImageInSlide(R.activeIndex)}}if(R.params.lazyLoadingInPrevNext){if(R.params.slidesPerView>1){for(n=R.activeIndex+R.params.slidesPerView;n<R.activeIndex+R.params.slidesPerView+R.params.slidesPerView;n++){R.slides[n]&&R.lazy.loadImageInSlide(n)}for(n=R.activeIndex-R.params.slidesPerView;n<R.activeIndex;n++){R.slides[n]&&R.lazy.loadImageInSlide(n)}}else{var l=R.wrapper.children("."+R.params.slideNextClass);l.length>0&&R.lazy.loadImageInSlide(l.index());var m=R.wrapper.children("."+R.params.slidePrevClass);m.length>0&&R.lazy.loadImageInSlide(m.index())}}},onTransitionStart:function(){R.params.lazyLoading&&(R.params.lazyLoadingOnTransitionStart||!R.params.lazyLoadingOnTransitionStart&&!R.lazy.initialImageLoaded)&&R.lazy.load()},onTransitionEnd:function(){R.params.lazyLoading&&!R.params.lazyLoadingOnTransitionStart&&R.lazy.load()}},R.scrollbar={set:function(){if(R.params.scrollbar){var l=R.scrollbar;l.track=b(R.params.scrollbar),l.drag=l.track.find(".swiper-scrollbar-drag"),0===l.drag.length&&(l.drag=b('<div class="swiper-scrollbar-drag"></div>'),l.track.append(l.drag)),l.drag[0].style.width="",l.drag[0].style.height="",l.trackSize=aj()?l.track[0].offsetWidth:l.track[0].offsetHeight,l.divider=R.size/R.virtualSize,l.moveDivider=l.divider*(l.trackSize/R.size),l.dragSize=l.trackSize*l.divider,aj()?l.drag[0].style.width=l.dragSize+"px":l.drag[0].style.height=l.dragSize+"px",l.track[0].style.display=l.divider>=1?"none":"",R.params.scrollbarHide&&(l.track[0].style.opacity=0)}},setTranslate:function(){if(R.params.scrollbar){var n,l=R.scrollbar,m=(R.translate||0,l.dragSize);n=(l.trackSize-l.dragSize)*R.progress,R.rtl&&aj()?(n=-n,n>0?(m=l.dragSize-n,n=0):-n+l.dragSize>l.trackSize&&(m=l.trackSize+n)):0>n?(m=l.dragSize+n,n=0):n+l.dragSize>l.trackSize&&(m=l.trackSize-n),aj()?(l.drag.transform(R.support.transforms3d?"translate3d("+n+"px, 0, 0)":"translateX("+n+"px)"),l.drag[0].style.width=m+"px"):(l.drag.transform(R.support.transforms3d?"translate3d(0px, "+n+"px, 0)":"translateY("+n+"px)"),l.drag[0].style.height=m+"px"),R.params.scrollbarHide&&(clearTimeout(l.timeout),l.track[0].style.opacity=1,l.timeout=setTimeout(function(){l.track[0].style.opacity=0,l.track.transition(400)},1000))}},setTransition:function(l){R.params.scrollbar&&R.scrollbar.drag.transition(l)}},R.controller={LinearSpline:function(p,l){this.x=p,this.y=l,this.lastIndex=p.length-1;var m,o;this.x.length;this.interpolate=function(s){return s?(o=n(this.x,s),m=o-1,(s-this.x[m])*(this.y[o]-this.y[m])/(this.x[o]-this.x[m])+this.y[m]):0};var n=function(){var v,s,u;return function(w,e){for(s=-1,v=w.length;v-s>1;){w[u=v+s>>1]<=e?s=u:v=u}return v}}()},getInterpolateFunction:function(l){R.controller.spline||(R.controller.spline=R.params.loop?new R.controller.LinearSpline(R.slidesGrid,l.slidesGrid):new R.controller.LinearSpline(R.snapGrid,l.snapGrid))},setTranslate:function(v,l){function u(e){v=e.rtl&&"horizontal"===e.params.direction?-R.translate:R.translate,"slide"===R.params.controlBy&&(R.controller.getInterpolateFunction(e),m=-R.controller.spline.interpolate(-v)),m&&"container"!==R.params.controlBy||(p=(e.maxTranslate()-e.minTranslate())/(R.maxTranslate()-R.minTranslate()),m=(v-R.minTranslate())*p+e.minTranslate()),R.params.controlInverse&&(m=e.maxTranslate()-m),e.updateProgress(m),e.setWrapperTranslate(m,!1,R),e.updateActiveIndex()}var p,m,x=R.params.control;if(R.isArray(x)){for(var w=0;w<x.length;w++){x[w]!==l&&x[w] instanceof d&&u(x[w])}}else{x instanceof d&&l!==x&&u(x)}},setTransition:function(p,l){function o(e){e.setWrapperTransition(p,R),0!==p&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){m&&(e.params.loop&&"slide"===R.params.controlBy&&e.fixLoop(),e.onTransitionEnd())}))}var n,m=R.params.control;if(R.isArray(m)){for(n=0;n<m.length;n++){m[n]!==l&&m[n] instanceof d&&o(m[n])}}else{m instanceof d&&l!==m&&o(m)}}},R.hashnav={init:function(){if(R.params.hashnav){R.hashnav.initialized=!0;var v=document.location.hash.replace("#","");if(v){for(var l=0,o=0,u=R.slides.length;u>o;o++){var p=R.slides.eq(o),m=p.attr("data-hash");if(m===v&&!p.hasClass(R.params.slideDuplicateClass)){var w=p.index();R.slideTo(w,l,R.params.runCallbacksOnInit,!0)}}}}},setHash:function(){R.hashnav.initialized&&R.params.hashnav&&(document.location.hash=R.slides.eq(R.activeIndex).attr("data-hash")||"")}},R.disableKeyboardControl=function(){b(document).off("keydown",ad)},R.enableKeyboardControl=function(){b(document).on("keydown",ad)},R.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},R.params.mousewheelControl){if(void 0!==document.onmousewheel&&(R.mousewheel.event="mousewheel"),!R.mousewheel.event){try{new window.WheelEvent("wheel"),R.mousewheel.event="wheel"}catch(U){}}R.mousewheel.event||(R.mousewheel.event="DOMMouseScroll")}R.disableMousewheelControl=function(){return R.mousewheel.event?(R.container.off(R.mousewheel.event,W),!0):!1},R.enableMousewheelControl=function(){return R.mousewheel.event?(R.container.on(R.mousewheel.event,W),!0):!1},R.parallax={setTranslate:function(){R.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){ap(this,R.progress)}),R.slides.each(function(){var l=b(this);l.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=Math.min(Math.max(l[0].progress,-1),1);ap(this,e)})})},setTransition:function(l){"undefined"==typeof l&&(l=R.params.speed),R.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=b(this),m=parseInt(e.attr("data-swiper-parallax-duration"),10)||l;0===l&&(m=0),e.transition(m)})}},R._plugins=[];for(var t in R.plugins){var ac=R.plugins[t](R,R.params[t]);ac&&R._plugins.push(ac)}return R.callPlugins=function(m){for(var l=0;l<R._plugins.length;l++){m in R._plugins[l]&&R._plugins[l][m](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}},R.emitterEventListeners={},R.emit=function(m){R.params[m]&&R.params[m](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var l;if(R.emitterEventListeners[m]){for(l=0;l<R.emitterEventListeners[m].length;l++){R.emitterEventListeners[m][l](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}R.callPlugins&&R.callPlugins(m,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},R.on=function(m,l){return m=ag(m),R.emitterEventListeners[m]||(R.emitterEventListeners[m]=[]),R.emitterEventListeners[m].push(l),R},R.off=function(n,l){var m;if(n=ag(n),"undefined"==typeof l){return R.emitterEventListeners[n]=[],R}if(R.emitterEventListeners[n]&&0!==R.emitterEventListeners[n].length){for(m=0;m<R.emitterEventListeners[n].length;m++){R.emitterEventListeners[n][m]===l&&R.emitterEventListeners[n].splice(m,1)}return R}},R.once=function(n,l){n=ag(n);var m=function(){l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),R.off(n,m)};return R.on(n,m),R},R.a11y={makeFocusable:function(l){return l.attr("tabIndex","0"),l},addRole:function(m,l){return m.attr("role",l),m},addLabel:function(m,l){return m.attr("aria-label",l),m},disable:function(l){return l.attr("aria-disabled",!0),l},enable:function(l){return l.attr("aria-disabled",!1),l},onEnterKey:function(l){13===l.keyCode&&(b(l.target).is(R.params.nextButton)?(R.onClickNext(l),R.a11y.notify(R.isEnd?R.params.lastSlideMessage:R.params.nextSlideMessage)):b(l.target).is(R.params.prevButton)&&(R.onClickPrev(l),R.a11y.notify(R.isBeginning?R.params.firstSlideMessage:R.params.prevSlideMessage)),b(l.target).is("."+R.params.bulletClass)&&b(l.target)[0].click())},liveRegion:b('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(m){var l=R.a11y.liveRegion;0!==l.length&&(l.html(""),l.html(m))},init:function(){if(R.params.nextButton){var m=b(R.params.nextButton);R.a11y.makeFocusable(m),R.a11y.addRole(m,"button"),R.a11y.addLabel(m,R.params.nextSlideMessage)}if(R.params.prevButton){var l=b(R.params.prevButton);R.a11y.makeFocusable(l),R.a11y.addRole(l,"button"),R.a11y.addLabel(l,R.params.prevSlideMessage)}b(R.container).append(R.a11y.liveRegion)},initPagination:function(){R.params.pagination&&R.params.paginationClickable&&R.bullets&&R.bullets.length&&R.bullets.each(function(){var l=b(this);R.a11y.makeFocusable(l),R.a11y.addRole(l,"button"),R.a11y.addLabel(l,R.params.paginationBulletMessage.replace(/{{index}}/,l.index()+1))})},destroy:function(){R.a11y.liveRegion&&R.a11y.liveRegion.length>0&&R.a11y.liveRegion.remove()}},R.init=function(){R.params.loop&&R.createLoop(),R.updateContainerSize(),R.updateSlidesSize(),R.updatePagination(),R.params.scrollbar&&R.scrollbar&&R.scrollbar.set(),"slide"!==R.params.effect&&R.effects[R.params.effect]&&(R.params.loop||R.updateProgress(),R.effects[R.params.effect].setTranslate()),R.params.loop?R.slideTo(R.params.initialSlide+R.loopedSlides,0,R.params.runCallbacksOnInit):(R.slideTo(R.params.initialSlide,0,R.params.runCallbacksOnInit),0===R.params.initialSlide&&(R.parallax&&R.params.parallax&&R.parallax.setTranslate(),R.lazy&&R.params.lazyLoading&&(R.lazy.load(),R.lazy.initialImageLoaded=!0))),R.attachEvents(),R.params.observer&&R.support.observer&&R.initObservers(),R.params.preloadImages&&!R.params.lazyLoading&&R.preloadImages(),R.params.autoplay&&R.startAutoplay(),R.params.keyboardControl&&R.enableKeyboardControl&&R.enableKeyboardControl(),R.params.mousewheelControl&&R.enableMousewheelControl&&R.enableMousewheelControl(),R.params.hashnav&&R.hashnav&&R.hashnav.init(),R.params.a11y&&R.a11y&&R.a11y.init(),R.emit("onInit",R)},R.cleanupStyles=function(){R.container.removeClass(R.classNames.join(" ")).removeAttr("style"),R.wrapper.removeAttr("style"),R.slides&&R.slides.length&&R.slides.removeClass([R.params.slideVisibleClass,R.params.slideActiveClass,R.params.slideNextClass,R.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),R.paginationContainer&&R.paginationContainer.length&&R.paginationContainer.removeClass(R.params.paginationHiddenClass),R.bullets&&R.bullets.length&&R.bullets.removeClass(R.params.bulletActiveClass),R.params.prevButton&&b(R.params.prevButton).removeClass(R.params.buttonDisabledClass),R.params.nextButton&&b(R.params.nextButton).removeClass(R.params.buttonDisabledClass),R.params.scrollbar&&R.scrollbar&&(R.scrollbar.track&&R.scrollbar.track.length&&R.scrollbar.track.removeAttr("style"),R.scrollbar.drag&&R.scrollbar.drag.length&&R.scrollbar.drag.removeAttr("style"))},R.destroy=function(m,l){R.detachEvents(),R.stopAutoplay(),R.params.loop&&R.destroyLoop(),l&&R.cleanupStyles(),R.disconnectObservers(),R.params.keyboardControl&&R.disableKeyboardControl&&R.disableKeyboardControl(),R.params.mousewheelControl&&R.disableMousewheelControl&&R.disableMousewheelControl(),R.params.a11y&&R.a11y&&R.a11y.destroy(),R.emit("onDestroy"),m!==!1&&(R=null)},R.init(),R}};d.prototype={isSafari:function(){var a=navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(a){return"[object Array]"===Object.prototype.toString.apply(a)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var p=navigator.userAgent,l=p.match(/(Android);?[\s\/]+([\d.]+)?/),m=p.match(/(iPad).*OS\s([\d_]+)/),o=p.match(/(iPod)(.*OS\s([\d_]+))?/),n=!m&&p.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:m||n||o,android:l}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return !!("ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var a=document.createElement("div").style;return"webkitPerspective" in a||"MozPerspective" in a||"OPerspective" in a||"MsPerspective" in a||"perspective" in a}(),flexbox:function(){for(var n=document.createElement("div").style,l="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),m=0;m<l.length;m++){if(l[m] in n){return !0}}}(),observer:function(){return"MutationObserver" in window||"WebkitMutationObserver" in window}()},plugins:{}};for(var g=(function(){var m=function(p){var n=this,o=0;for(o=0;o<p.length;o++){n[o]=p[o]}return n.length=p.length,this},l=function(p,u){var w=[],v=0;if(p&&!u&&p instanceof m){return p}if(p){if("string"==typeof p){var q,y,x=p.trim();if(x.indexOf("<")>=0&&x.indexOf(">")>=0){var e="div";for(0===x.indexOf("<li")&&(e="ul"),0===x.indexOf("<tr")&&(e="tbody"),(0===x.indexOf("<td")||0===x.indexOf("<th"))&&(e="tr"),0===x.indexOf("<tbody")&&(e="table"),0===x.indexOf("<option")&&(e="select"),y=document.createElement(e),y.innerHTML=p,v=0;v<y.childNodes.length;v++){w.push(y.childNodes[v])}}else{for(q=u||"#"!==p[0]||p.match(/[ .<>:~]/)?(u||document).querySelectorAll(p):[document.getElementById(p.split("#")[1])],v=0;v<q.length;v++){q[v]&&w.push(q[v])}}}else{if(p.nodeType||p===window||p===document){w.push(p)}else{if(p.length>0&&p[0].nodeType){for(v=0;v<p.length;v++){w.push(p[v])}}}}}return new m(w)};return m.prototype={addClass:function(q){if("undefined"==typeof q){return this}for(var n=q.split(" "),o=0;o<n.length;o++){for(var p=0;p<this.length;p++){this[p].classList.add(n[o])}}return this},removeClass:function(q){for(var n=q.split(" "),o=0;o<n.length;o++){for(var p=0;p<this.length;p++){this[p].classList.remove(n[o])}}return this},hasClass:function(a){return this[0]?this[0].classList.contains(a):!1},toggleClass:function(q){for(var n=q.split(" "),o=0;o<n.length;o++){for(var p=0;p<this.length;p++){this[p].classList.toggle(n[o])}}return this},attr:function(q,n){if(1===arguments.length&&"string"==typeof q){return this[0]?this[0].getAttribute(q):void 0}for(var o=0;o<this.length;o++){if(2===arguments.length){this[o].setAttribute(q,n)}else{for(var p in q){this[o][p]=q[p],this[o].setAttribute(p,q[p])}}}return this},removeAttr:function(o){for(var n=0;n<this.length;n++){this[n].removeAttribute(o)}return this},data:function(u,n){if("undefined"==typeof n){if(this[0]){var o=this[0].getAttribute("data-"+u);return o?o:this[0].dom7ElementDataStorage&&u in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[u]:void 0}return void 0}for(var q=0;q<this.length;q++){var p=this[q];p.dom7ElementDataStorage||(p.dom7ElementDataStorage={}),p.dom7ElementDataStorage[u]=n}return this},transform:function(p){for(var n=0;n<this.length;n++){var o=this[n].style;o.webkitTransform=o.MsTransform=o.msTransform=o.MozTransform=o.OTransform=o.transform=p}return this},transition:function(p){"string"!=typeof p&&(p+="ms");for(var n=0;n<this.length;n++){var o=this[n].style;o.webkitTransitionDuration=o.MsTransitionDuration=o.msTransitionDuration=o.MozTransitionDuration=o.OTransitionDuration=o.transitionDuration=p}return this},on:function(w,q,v,u){function p(t){var r=t.target;if(l(r).is(q)){v.call(r,t)}else{for(var o=l(r).parents(),z=0;z<o.length;z++){l(o[z]).is(q)&&v.call(o[z],t)}}}var y,x,a=w.split(" ");for(y=0;y<this.length;y++){if("function"==typeof q||q===!1){for("function"==typeof q&&(v=arguments[1],u=arguments[2]||!1),x=0;x<a.length;x++){this[y].addEventListener(a[x],v,u)}}else{for(x=0;x<a.length;x++){this[y].dom7LiveListeners||(this[y].dom7LiveListeners=[]),this[y].dom7LiveListeners.push({listener:v,liveListener:p}),this[y].addEventListener(a[x],p,u)}}}return this},off:function(x,p,u,w){for(var v=x.split(" "),q=0;q<v.length;q++){for(var z=0;z<this.length;z++){if("function"==typeof p||p===!1){"function"==typeof p&&(u=arguments[1],w=arguments[2]||!1),this[z].removeEventListener(v[q],u,w)}else{if(this[z].dom7LiveListeners){for(var y=0;y<this[z].dom7LiveListeners.length;y++){this[z].dom7LiveListeners[y].listener===u&&this[z].removeEventListener(v[q],this[z].dom7LiveListeners[y].liveListener,w)}}}}}return this},once:function(v,n,p,u){function q(a){p(a),o.off(v,n,q,u)}var o=this;"function"==typeof n&&(n=!1,p=arguments[1],u=arguments[2]),o.on(v,n,q,u)},trigger:function(u,n){for(var o=0;o<this.length;o++){var q;try{q=new window.CustomEvent(u,{detail:n,bubbles:!0,cancelable:!0})}catch(p){q=document.createEvent("Event"),q.initEvent(u,!0,!0),q.detail=n}this[o].dispatchEvent(q)}return this},transitionEnd:function(u){function n(a){if(a.target===this){for(u.call(this,a),o=0;o<q.length;o++){p.off(q[o],n)}}}var o,q=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],p=this;if(u){for(o=0;o<q.length;o++){p.on(q[o],n)}}return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var w=this[0],o=w.getBoundingClientRect(),q=document.body,v=w.clientTop||q.clientTop||0,u=w.clientLeft||q.clientLeft||0,p=window.pageYOffset||w.scrollTop,x=window.pageXOffset||w.scrollLeft;return{top:o.top+p-v,left:o.left+x-u}}return null},css:function(q,n){var o;if(1===arguments.length){if("string"!=typeof q){for(o=0;o<this.length;o++){for(var p in q){this[o].style[p]=q[p]}}return this}if(this[0]){return window.getComputedStyle(this[0],null).getPropertyValue(q)}}if(2===arguments.length&&"string"==typeof q){for(o=0;o<this.length;o++){this[o].style[q]=n}return this}return this},each:function(o){for(var n=0;n<this.length;n++){o.call(this[n],n,this[n])}return this},html:function(o){if("undefined"==typeof o){return this[0]?this[0].innerHTML:void 0}for(var n=0;n<this.length;n++){this[n].innerHTML=o}return this},is:function(e){if(!this[0]){return !1}var o,n;if("string"==typeof e){var a=this[0];if(a===document){return e===document}if(a===window){return e===window}if(a.matches){return a.matches(e)}if(a.webkitMatchesSelector){return a.webkitMatchesSelector(e)}if(a.mozMatchesSelector){return a.mozMatchesSelector(e)}if(a.msMatchesSelector){return a.msMatchesSelector(e)}for(o=l(e),n=0;n<o.length;n++){if(o[n]===this[0]){return !0}}return !1}if(e===document){return this[0]===document}if(e===window){return this[0]===window}if(e.nodeType||e instanceof m){for(o=e.nodeType?[e]:e,n=0;n<o.length;n++){if(o[n]===this[0]){return !0}}return !1}return !1},index:function(){if(this[0]){for(var o=this[0],n=0;null!==(o=o.previousSibling);){1===o.nodeType&&n++}return n}return void 0},eq:function(e){if("undefined"==typeof e){return this}var n,o=this.length;return e>o-1?new m([]):0>e?(n=o+e,new m(0>n?[]:[this[n]])):new m([this[e]])},append:function(e){var n,p;for(n=0;n<this.length;n++){if("string"==typeof e){var o=document.createElement("div");for(o.innerHTML=e;o.firstChild;){this[n].appendChild(o.firstChild)}}else{if(e instanceof m){for(p=0;p<e.length;p++){this[n].appendChild(e[p])}}else{this[n].appendChild(e)}}}return this},prepend:function(e){var n,p;for(n=0;n<this.length;n++){if("string"==typeof e){var o=document.createElement("div");for(o.innerHTML=e,p=o.childNodes.length-1;p>=0;p--){this[n].insertBefore(o.childNodes[p],this[n].childNodes[0])}}else{if(e instanceof m){for(p=0;p<e.length;p++){this[n].insertBefore(e[p],this[n].childNodes[0])}}else{this[n].insertBefore(e,this[n].childNodes[0])}}}return this},insertBefore:function(p){for(var a=l(p),o=0;o<this.length;o++){if(1===a.length){a[0].parentNode.insertBefore(this[o],a[0])}else{if(a.length>1){for(var n=0;n<a.length;n++){a[n].parentNode.insertBefore(this[o].cloneNode(!0),a[n])}}}}},insertAfter:function(p){for(var a=l(p),o=0;o<this.length;o++){if(1===a.length){a[0].parentNode.insertBefore(this[o],a[0].nextSibling)}else{if(a.length>1){for(var n=0;n<a.length;n++){a[n].parentNode.insertBefore(this[o].cloneNode(!0),a[n].nextSibling)}}}}},next:function(a){return new m(this.length>0?a?this[0].nextElementSibling&&l(this[0].nextElementSibling).is(a)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var o=[],n=this[0];if(!n){return new m([])}for(;n.nextElementSibling;){var a=n.nextElementSibling;e?l(a).is(e)&&o.push(a):o.push(a),n=a}return new m(o)},prev:function(a){return new m(this.length>0?a?this[0].previousElementSibling&&l(this[0].previousElementSibling).is(a)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var o=[],n=this[0];if(!n){return new m([])}for(;n.previousElementSibling;){var a=n.previousElementSibling;e?l(a).is(e)&&o.push(a):o.push(a),n=a}return new m(o)},parent:function(o){for(var a=[],n=0;n<this.length;n++){o?l(this[n].parentNode).is(o)&&a.push(this[n].parentNode):a.push(this[n].parentNode)}return l(l.unique(a))},parents:function(p){for(var a=[],o=0;o<this.length;o++){for(var n=this[o].parentNode;n;){p?l(n).is(p)&&a.push(n):a.push(n),n=n.parentNode}}return l(l.unique(a))},find:function(e){for(var o=[],q=0;q<this.length;q++){for(var p=this[q].querySelectorAll(e),n=0;n<p.length;n++){o.push(p[n])}}return new m(o)},children:function(e){for(var p=[],o=0;o<this.length;o++){for(var a=this[o].childNodes,q=0;q<a.length;q++){e?1===a[q].nodeType&&l(a[q]).is(e)&&p.push(a[q]):1===a[q].nodeType&&p.push(a[q])}}return new m(l.unique(p))},remove:function(){for(var a=0;a<this.length;a++){this[a].parentNode&&this[a].parentNode.removeChild(this[a])}return this},add:function(){var p,a,o=this;for(p=0;p<arguments.length;p++){var n=l(arguments[p]);for(a=0;a<n.length;a++){o[o.length]=n[a],o.length++}}return o}},l.fn=m.prototype,l.unique=function(p){for(var n=[],o=0;o<p.length;o++){-1===n.indexOf(p[o])&&n.push(p[o])}return n},l}()),f=["jQuery","Zepto","Dom7"],c=0;c<f.length;c++){window[f[c]]&&h(window[f[c]])}var j;j="undefined"==typeof g?window.Dom7||window.Zepto||window.jQuery:g,j&&("transitionEnd" in j.fn||(j.fn.transitionEnd=function(p){function l(a){if(a.target===this){for(p.call(this,a),m=0;m<o.length;m++){n.off(o[m],l)}}}var m,o=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(p){for(m=0;m<o.length;m++){n.on(o[m],l)}}return this}),"transform" in j.fn||(j.fn.transform=function(n){for(var l=0;l<this.length;l++){var m=this[l].style;m.webkitTransform=m.MsTransform=m.msTransform=m.MozTransform=m.OTransform=m.transform=n}return this}),"transition" in j.fn||(j.fn.transition=function(n){"string"!=typeof n&&(n+="ms");for(var l=0;l<this.length;l++){var m=this[l].style;m.webkitTransitionDuration=m.MsTransitionDuration=m.msTransitionDuration=m.MozTransitionDuration=m.OTransitionDuration=m.transitionDuration=n}return this})),window.Swiper=d}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){return window.Swiper});var Common={};Common.Util={cache:{},getAvatar:function(a){if(!this.cache[a]){$.ajax({type:"GET",url:contextPath+"/contacts/getAvatar.action",data:{id:a},async:false,dataType:"json",success:function(b){if(1==b.status){Common.Util.cache[a]=b.data}}})}return this.cache[a]},daysCalc:function(c,q){var h=c.split(/[- :]/);var b=new Date(h[0],h[1]-1,h[2],h[3],h[4]);var o=new Date();if(!q||q==""){var o=new Date()}else{var m=q.split(/[- :]/);o=new Date(m[0],m[1]-1,m[2],m[3],m[4])}var a=o.getTime()-b.getTime();var p=Math.floor(a/(24*3600*1000));var g=a%(24*3600*1000);var l=Math.floor(g/(3600*1000));var f=g%(3600*1000);var e=Math.floor(f/(60*1000));var d=f%(60*1000);var n=Math.round(d/1000);var j={days:p,hours:l,minutes:e,seconds:n};return j}};
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(f){var a=/\+/g;function d(j){return b.raw?j:encodeURIComponent(j)}function g(j){return b.raw?j:decodeURIComponent(j)}function h(j){return d(b.json?JSON.stringify(j):String(j))}function c(j){if(j.indexOf('"')===0){j=j.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{j=decodeURIComponent(j.replace(a," "));return b.json?JSON.parse(j):j}catch(l){}}function e(l,j){var m=b.raw?l:c(l);return f.isFunction(j)?j(m):m}var b=f.cookie=function(r,q,w){if(arguments.length>1&&!f.isFunction(q)){w=f.extend({},b.defaults,w);if(typeof w.expires==="number"){var s=w.expires,v=w.expires=new Date();v.setMilliseconds(v.getMilliseconds()+s*86400000)}return(document.cookie=[d(r),"=",h(q),w.expires?"; expires="+w.expires.toUTCString():"",w.path?"; path="+w.path:"",w.domain?"; domain="+w.domain:"",w.secure?"; secure":""].join(""))}var x=r?undefined:{},u=document.cookie?document.cookie.split("; "):[],p=0,n=u.length;for(;p<n;p++){var o=u[p].split("="),j=g(o.shift()),m=o.join("=");if(r===j){x=e(m,q);break}if(!r&&(m=e(m))!==undefined){x[j]=m}}return x};b.defaults={};f.removeCookie=function(l,j){f.cookie(l,"",f.extend({},j,{expires:-1}));return !f.cookie(l)}}));